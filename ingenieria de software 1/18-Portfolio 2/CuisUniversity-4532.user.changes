

----QUIT----(9 March 2021 14:58:42) CuisUniversity-4532.image priorSource: 13044060!

----STARTUP---- (9 March 2021 14:58:43) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-4532.image!


----QUIT----(9 March 2021 14:58:43) CuisUniversity-4532.image priorSource: 16885479!

----STARTUP---- (27 May 2021 20:39:09) as C:\Users\recal\Desktop\windows64\CuisUniversity-4532.image!


----End fileIn of C:\Users\recal\Desktop\Portfolio-Solucion.st----!

AccountTransaction subclass: #Transference
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transference category: 'Portfolio-Solucion' stamp: 'JRC 5/27/2021 20:48:15'!
AccountTransaction subclass: #Transference
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #Transference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transference category: 'Portfolio-Solucion' stamp: 'JRC 5/27/2021 20:48:23'!
AccountTransaction subclass: #Transference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

TestCase subclass: #TransferenceTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferenceTest category: 'Portfolio-Solucion' stamp: 'JRC 5/27/2021 20:48:53'!
TestCase subclass: #TransferenceTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferenceTest methodsFor: 'no messages' stamp: 'JRC 5/27/2021 20:49:00'!
test01! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/27/2021 20:50:02' prior: 50860091!
test01

	
	"Transference new"! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/27/2021 20:52:50' prior: 50860095!
test01

	| anAccount anAccount2 |
	Transference register: 50 from: anAccount to: anAccount2.! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/27/2021 20:55:01' prior: 50860100!
test01

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 1 from: anAccount to: anAccount2.
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/27/2021 20:55:46' prior: 50860107!
test01

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 10 from: anAccount to: anAccount2.
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/27/2021 20:56:37' prior: 50860116!
test01

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 10 from: anAccount to: anAccount2.
	
	self assert: -10 equals: anAccount balance.
	self assert: 10 equals: anAccount2 balance.! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/27/2021 20:58:25'!
ERROR!
!Transference class methodsFor: 'instance creation' stamp: 'JRC 5/27/2021 20:58:40'!
register: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeRegister: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 ! !
!Transference class methodsFor: 'instance creation' stamp: 'JRC 5/27/2021 21:02:05' prior: 50860139!
register: anAmount from: aReceptiveAccount to: aReceptiveAccount2

	^self new initializeRegister:anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/27/2021 21:02:06'!
ERROR!

!classDefinition: #Transference category: 'Portfolio-Solucion' stamp: 'JRC 5/27/2021 21:02:28'!
AccountTransaction subclass: #Transference
	instanceVariableNames: 'amount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transference category: 'Portfolio-Solucion' stamp: 'JRC 5/27/2021 21:02:28'!
AccountTransaction subclass: #Transference
	instanceVariableNames: 'amount receptiveAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transference category: 'Portfolio-Solucion' stamp: 'JRC 5/27/2021 21:02:28'!
AccountTransaction subclass: #Transference
	instanceVariableNames: 'amount receptiveAccount receptiveAccount2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transference methodsFor: 'initialization' stamp: 'JRC 5/27/2021 21:02:28'!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	self shouldBeImplemented.
	amount := anAmount.
	receptiveAccount := aReceptiveAccount.
	receptiveAccount2 := aReceptiveAccount2.! !
!Transference methodsFor: 'initialization' stamp: 'JRC 5/27/2021 21:04:27' prior: 50860187!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	Withdraw register: anAmount on: aReceptiveAccount.
	Deposit register: anAmount on: aReceptiveAccount.! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/27/2021 21:04:28'!
FAILURE!
!Transference methodsFor: 'initialization' stamp: 'JRC 5/27/2021 21:04:50' prior: 50860197!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	Withdraw register: anAmount on: aReceptiveAccount.
	Deposit register: anAmount on: aReceptiveAccount2.! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/27/2021 21:04:59'!
PASSED!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/27/2021 21:04:59'!
PASSED!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/27/2021 21:12:46'!
test02

	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	self assert:  (anAccount hasRegistered: aTransference).
	self assert:  (anAccount2 hasRegistered: aTransference).! !
!Transference methodsFor: 'initialization' stamp: 'JRC 5/27/2021 21:15:48' prior: 50860209!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	Withdraw register: anAmount on: aReceptiveAccount.
	Deposit register: anAmount on: aReceptiveAccount2.
	
	aReceptiveAccount register: self.
	aReceptiveAccount2 register: self.! !

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/27/2021 21:15:54'!
PASSED!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/27/2021 21:32:49'!
test03

	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	
	 self assert: anAccount  hasRegistered: aTransference Extraction.
	 self assert: anAccount2  hasRegistered: aTransference Insertion.
	
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/27/2021 21:33:34' prior: 50860250!
test03

	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	
	 self assert: anAccount  hasRegistered: aTransference Extraction.
	 self assert: anAccount2  hasRegistered: aTransference Insertion.
	
	
	"BORRAR TEST2 ir pa tras"! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/27/2021 21:33:37' prior: 50860264!
test03

	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	
	 self assert: anAccount  hasRegistered: aTransference Extraction.
	 self assert: anAccount2  hasRegistered: aTransference Insertion.
	
	
	"BORRAR TEST2 ir pa atras"! !

----SNAPSHOT----(27 May 2021 22:26:00) CuisUniversity-4532.image priorSource: 16885703!

----STARTUP---- (30 May 2021 19:03:13) as C:\Users\recal\Desktop\windows64\CuisUniversity-4532.image!


Object subclass: #Transference
	instanceVariableNames: 'amount receptiveAccount receptiveAccount2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:05:36'!
Object subclass: #Transference
	instanceVariableNames: 'amount receptiveAccount receptiveAccount2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:05:49'!
ERROR!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:05:49'!
ERROR!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:07:20'!
ERROR!
!Transference methodsFor: 'initialization' stamp: 'JRC 5/30/2021 19:07:45' prior: 50860236!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	Withdraw register: anAmount on: aReceptiveAccount.
	Deposit register: anAmount on: aReceptiveAccount2.
	
! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:07:52'!
PASSED!

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:07:56'!
FAILURE!

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:07:56'!
FAILURE!

!methodRemoval: TransferenceTest #test03 stamp: 'JRC 5/30/2021 19:08:13'!
test03

	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	
	 self assert: anAccount  hasRegistered: aTransference Extraction.
	 self assert: anAccount2  hasRegistered: aTransference Insertion.
	
	
	"BORRAR TEST2 ir pa atras"!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:09:49'!
test03


	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	self assert:  (anAccount hasRegistered: aTransference).
	self assert:  (anAccount2 hasRegistered: aTransference).! !

!methodRemoval: TransferenceTest #test03 stamp: 'JRC 5/30/2021 19:09:58'!
test03


	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	self assert:  (anAccount hasRegistered: aTransference).
	self assert:  (anAccount2 hasRegistered: aTransference).!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:12:08' prior: 50860223!
test02

	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	self assert:  (anAccount hasRegistered: aTransference Withdraw).
	self assert:  (anAccount2 hasRegistered: aTransference Deposit).! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:12:20' prior: 50860377!
test02

	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	self assert:  (anAccount hasRegistered: aTransference withdraw).
	self assert:  (anAccount2 hasRegistered: aTransference deposit).! !

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:12:29'!
ERROR!
!Transference methodsFor: 'Operations' stamp: 'JRC 5/30/2021 19:12:52'!
withdraw
	self shouldBeImplemented.! !

!classDefinition: #Transference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:13:39'!
Object subclass: #Transference
	instanceVariableNames: 'amount receptiveAccount receptiveAccount2 withdraw'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transference methodsFor: 'Operations' stamp: 'JRC 5/30/2021 19:13:33' prior: 50860407!
withdraw
	withdraw! !

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:13:42'!
FAILURE!

!classDefinition: #Transference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:14:14'!
Object subclass: #Transference
	instanceVariableNames: 'amount receptiveAccount receptiveAccount2 withdraw deposit'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transference methodsFor: 'initialization' stamp: 'JRC 5/30/2021 19:14:12' prior: 50860321!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	withdraw:= Withdraw register: anAmount on: aReceptiveAccount.
	deposit := Deposit register: anAmount on: aReceptiveAccount2.
	
	
! !

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:14:23'!
FAILURE!
!Transference methodsFor: 'initialization' stamp: 'JRC 5/30/2021 19:15:12' prior: 50860436!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	withdraw := Withdraw register: anAmount on: aReceptiveAccount.
	deposit := Deposit register: anAmount on: aReceptiveAccount2.
	
	
! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:15:36'!
PASSED!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:15:47'!
PASSED!

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:15:47'!
FAILURE!

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:15:47'!
FAILURE!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:15:53'!
PASSED!

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:15:56'!
FAILURE!

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:15:56'!
FAILURE!

aTransference withdraw!
!Transference methodsFor: 'Operations' stamp: 'JRC 5/30/2021 19:16:39' prior: 50860420!
withdraw
	^withdraw! !

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:16:42'!
ERROR!
!Transference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:16:54'!
deposit
	self shouldBeImplemented.
	^deposit! !
!Transference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:17:02' prior: 50860482!
deposit
	^deposit! !

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:17:03'!
PASSED!

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:17:15'!
PASSED!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:17:15'!
PASSED!

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:17:15'!
PASSED!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:24:32'!
test03

	| anAccount anAccount2 aTransference aTransferenceDeposit aTransferenceWithdraw |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	aTransferenceWithdraw := aTransference withdraw.
	aTransferenceDeposit :=  aTransference deposit.
	
	self assert: aTransferenceWithdraw parentTransference equals: aTransference.
	self assert: aTransferenceDeposit parentTransference equals: aTransference.
	
	
	! !

!testRun: #TransferenceTest #test03 stamp: 'JRC 5/30/2021 19:24:53'!
ERROR!

!classDefinition: #WitdrawTransference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:26:24'!
Object subclass: #WitdrawTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #DepositTransference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:26:30'!
Object subclass: #DepositTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transference methodsFor: 'initialization' stamp: 'JRC 5/30/2021 19:26:06' prior: 50860448!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	withdraw := WitdrawTransference register: anAmount on: aReceptiveAccount.
	deposit := DepositTransference register: anAmount on: aReceptiveAccount2.
	
	
	
! !

Object subclass: #PARAORDENAR
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PARAORDENAR category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:26:55'!
Object subclass: #PARAORDENAR
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #PARAORDENAR stamp: 'JRC 5/30/2021 19:27:15'!
Object subclass: #PARAORDENAR
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!DepositTransference class methodsFor: 'no messages' stamp: 'JRC 5/30/2021 19:30:22'!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !
!WitdrawTransference class methodsFor: 'no messages' stamp: 'JRC 5/30/2021 19:30:29'!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !

!methodRemoval: WitdrawTransference class #register:on: stamp: 'JRC 5/30/2021 19:31:00'!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction!

!methodRemoval: DepositTransference class #register:on: stamp: 'JRC 5/30/2021 19:31:07'!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction!
!Transference methodsFor: 'initialization' stamp: 'JRC 5/30/2021 19:32:26' prior: 50860538!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	withdraw := WitdrawTransference registerOn: aReceptiveAccount from: self.
	deposit := DepositTransference registerOn: aReceptiveAccount2 from: self.
	
	
	
! !

!classDefinition: #Transference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:33:03'!
Object subclass: #Transference
	instanceVariableNames: 'amount receptiveAccount receptiveAccount2 withdraw deposit value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transference methodsFor: 'initialization' stamp: 'JRC 5/30/2021 19:32:59' prior: 50860595!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	withdraw := WitdrawTransference registerOn: aReceptiveAccount from: self.
	deposit := DepositTransference registerOn: aReceptiveAccount2 from: self.
	value := anAmount.
	
! !
!Transference methodsFor: 'initialization' stamp: 'JRC 5/30/2021 19:34:02' prior: 50860615!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	withdraw := WitdrawTransference registerOn: aReceptiveAccount for: self.
	deposit := DepositTransference registerOn: aReceptiveAccount2 for: self.
	value := anAmount.
	
! !

!classDefinition: #PATASTransference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:35:25'!
Object subclass: #PATASTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

PATASTransference subclass: #DepositTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #DepositTransference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:35:25'!
PATASTransference subclass: #DepositTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

PATASTransference subclass: #WitdrawTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #WitdrawTransference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:35:46'!
PATASTransference subclass: #WitdrawTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!DepositTransference methodsFor: 'no messages' stamp: 'JRC 5/30/2021 19:36:50'!
registerOn: aReceptiveAccount for: aTransference
! !
!WitdrawTransference methodsFor: 'no messages' stamp: 'JRC 5/30/2021 19:36:58'!
registerOn: aReceptiveAccount for: aTransference
! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:37:04'!
ERROR!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:37:04'!
ERROR!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:37:24'!
ERROR!
!DepositTransference class methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:37:38'!
registerOn: aReceptiveAccount for: aTransference
! !

!methodRemoval: DepositTransference #registerOn:for: stamp: 'JRC 5/30/2021 19:37:38'!
registerOn: aReceptiveAccount for: aTransference
!
!WitdrawTransference class methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:37:43'!
registerOn: aReceptiveAccount for: aTransference
! !

!methodRemoval: WitdrawTransference #registerOn:for: stamp: 'JRC 5/30/2021 19:37:43'!
registerOn: aReceptiveAccount for: aTransference
!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:37:48'!
FAILURE!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:37:48'!
FAILURE!
!DepositTransference methodsFor: 'no messages' stamp: 'JRC 5/30/2021 19:39:56'!
affectBalance: qwiejq! !
!DepositTransference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:40:14' prior: 50860710!
affectBalance: aBalance

	^10! !
!DepositTransference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:40:41' prior: 50860715!
affectBalance: aBalance

	^aBalance + self value ! !
!WitdrawTransference methodsFor: 'no messages' stamp: 'JRC 5/30/2021 19:40:57'!
affectBalance: aBalance

	^aBalance + self value ! !
!WitdrawTransference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:41:27' prior: 50860725!
affectBalance: aBalance

	^aBalance - self value ! !

PATASTransference subclass: #DepositTransference
	instanceVariableNames: 'parent'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #DepositTransference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:41:54'!
PATASTransference subclass: #DepositTransference
	instanceVariableNames: 'parent'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

PATASTransference subclass: #WitdrawTransference
	instanceVariableNames: 'parent'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #WitdrawTransference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:42:03'!
PATASTransference subclass: #WitdrawTransference
	instanceVariableNames: 'parent'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!WitdrawTransference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:42:30' prior: 50860730!
affectBalance: aBalance

	^aBalance - parent value ! !
!DepositTransference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:42:34' prior: 50860720!
affectBalance: aBalance

	^aBalance + parent value ! !
!DepositTransference class methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:46:02' prior: 50860687!
registerOn: aReceptiveAccount for: aTransference

	| transaction |
	
	transaction := self initializeFor: aTransference.
	aReceptiveAccount register: transaction.
		
	^ transaction! !
!WitdrawTransference class methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:46:12' prior: 50860696!
registerOn: aReceptiveAccount for: aTransference

	| transaction |
	
	transaction := self initializeFor: aTransference.
	aReceptiveAccount register: transaction.
		
	^ transaction! !
!DepositTransference methodsFor: 'nil' stamp: 'JRC 5/30/2021 19:46:40'!
initializeFor: aTransference
! !
!DepositTransference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:46:55' prior: 50860791!
initializeFor: aTransference
	parent := aTransference ! !
!WitdrawTransference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:47:09'!
initializeFor: aTransference
	parent := aTransference ! !
!DepositTransference class methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:47:25' prior: 50860773!
registerOn: aReceptiveAccount for: aTransference

	| transaction |
	
	transaction := self new initializeFor: aTransference.
	aReceptiveAccount register: transaction.
		
	^ transaction! !
!WitdrawTransference class methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:47:30' prior: 50860783!
registerOn: aReceptiveAccount for: aTransference

	| transaction |
	
	transaction := self new initializeFor: aTransference.
	aReceptiveAccount register: transaction.
		
	^ transaction! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:49:22'!
ERROR!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:49:22'!
ERROR!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:50:03'!
ERROR!
!WitdrawTransference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:50:46' prior: 50860762!
affectBalance: aBalance

	^aBalance - (parent value) ! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:50:48'!
ERROR!
!DepositTransference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:51:03' prior: 50860767!
affectBalance: aBalance

	^aBalance + (parent value)! !
!Transference methodsFor: 'nil' stamp: 'JRC 5/30/2021 19:52:03' overrides: 16881508!
value
	^value! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:52:09'!
PASSED!

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:52:14'!
PASSED!

!testRun: #TransferenceTest #test03 stamp: 'JRC 5/30/2021 19:52:57'!
ERROR!

!testRun: #TransferenceTest #test03 stamp: 'JRC 5/30/2021 19:52:57'!
ERROR!
!WitdrawTransference methodsFor: 'accessing' stamp: 'JRC 5/30/2021 19:53:17'!
parentTransference
	self shouldBeImplemented.! !
!WitdrawTransference methodsFor: 'accessing' stamp: 'JRC 5/30/2021 19:53:27' prior: 50860860!
parentTransference
	^parent! !

!testRun: #TransferenceTest #test03 stamp: 'JRC 5/30/2021 19:53:31'!
ERROR!
!DepositTransference methodsFor: 'accessing' stamp: 'JRC 5/30/2021 19:53:36'!
parentTransference
	self shouldBeImplemented.! !
!DepositTransference methodsFor: 'accessing' stamp: 'JRC 5/30/2021 19:53:41' prior: 50860871!
parentTransference
	^parent! !

!testRun: #TransferenceTest #test03 stamp: 'JRC 5/30/2021 19:53:43'!
PASSED!
!PATASTransference class methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:54:17'!
registerOn: aReceptiveAccount for: aTransference

	| transaction |
	
	transaction := self new initializeFor: aTransference.
	aReceptiveAccount register: transaction.
		
	^ transaction! !

!methodRemoval: DepositTransference class #registerOn:for: stamp: 'JRC 5/30/2021 19:54:17'!
registerOn: aReceptiveAccount for: aTransference

	| transaction |
	
	transaction := self new initializeFor: aTransference.
	aReceptiveAccount register: transaction.
		
	^ transaction!

!methodRemoval: WitdrawTransference class #registerOn:for: stamp: 'JRC 5/30/2021 19:54:31'!
registerOn: aReceptiveAccount for: aTransference

	| transaction |
	
	transaction := self new initializeFor: aTransference.
	aReceptiveAccount register: transaction.
		
	^ transaction!

!classDefinition: #DepositTransference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:55:13'!
PATASTransference subclass: #DepositTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #WitdrawTransference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:55:13'!
PATASTransference subclass: #WitdrawTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PATASTransference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 19:55:13'!
Object subclass: #PATASTransference
	instanceVariableNames: 'parent'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PATASTransference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:55:25'!
initializeFor: aTransference
	parent := aTransference ! !

!methodRemoval: DepositTransference #initializeFor: stamp: 'JRC 5/30/2021 19:55:25'!
initializeFor: aTransference
	parent := aTransference !
!PATASTransference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 19:55:34' prior: 50860933!
initializeFor: aTransference
	parent := aTransference ! !

!methodRemoval: WitdrawTransference #initializeFor: stamp: 'JRC 5/30/2021 19:55:34'!
initializeFor: aTransference
	parent := aTransference !
!PATASTransference methodsFor: 'accessing' stamp: 'JRC 5/30/2021 19:56:07'!
parentTransference
	^parent! !

!methodRemoval: DepositTransference #parentTransference stamp: 'JRC 5/30/2021 19:56:07'!
parentTransference
	^parent!

!methodRemoval: WitdrawTransference #parentTransference stamp: 'JRC 5/30/2021 19:56:12'!
parentTransference
	^parent!

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:56:26'!
PASSED!

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:56:26'!
PASSED!

!testRun: #TransferenceTest #test03 stamp: 'JRC 5/30/2021 19:56:26'!
PASSED!

!classRenamed: #PATASTransference as: #PatasTransference stamp: 'JRC 5/30/2021 19:56:45'!
Smalltalk renameClassNamed: #PATASTransference as: #PatasTransference!
!Behavior method!
initialize
	[ super initialize ] valueCoveringAll:
		{20 to: 29}.
	(transactions _ [
	(OrderedCollection
		cover: (49 to: 65)
		declaredAt: (49 to: 65)) new ] valueCoveringAll:
		{67 to: 69})
		cover: (33 to: 44)
		declaredAt: (33 to: 44).! !
!Behavior method!
register: anAmount from: aReceptiveAccount to: aReceptiveAccount2
	^ [
	([
	(self coverAll:
		{70 to: 73}) new ] valueCoveringAll:
		{75 to: 77})
		initializeRegister:
			(anAmount
				cover: (98 to: 105)
				declaredAt: (11 to: 18))
		from:
			(aReceptiveAccount
				cover: (113 to: 129)
				declaredAt: (26 to: 42))
		to:
			(aReceptiveAccount2
				cover: (135 to: 152)
				declaredAt: (48 to: 65)) ] valueCoveringAll:
		{79 to: 97. 107 to: 111. 131 to: 133}.! !
!Behavior method!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2
	(withdraw _ [
	(WitdrawTransference
		cover: (93 to: 111)
		declaredAt: (93 to: 111))
		registerOn:
			(aReceptiveAccount
				cover: (125 to: 141)
				declaredAt: (36 to: 52))
		for:
			(self coverAll:
				{148 to: 151}) ] valueCoveringAll:
		{113 to: 123. 143 to: 146})
		cover: (81 to: 88)
		declaredAt: (81 to: 88).
	(deposit _ [
	(DepositTransference
		cover: (166 to: 184)
		declaredAt: (166 to: 184))
		registerOn:
			(aReceptiveAccount2
				cover: (198 to: 215)
				declaredAt: (58 to: 75))
		for:
			(self coverAll:
				{222 to: 225}) ] valueCoveringAll:
		{186 to: 196. 217 to: 220})
		cover: (155 to: 161)
		declaredAt: (155 to: 161).
	(value _ anAmount
		cover: (238 to: 245)
		declaredAt: (21 to: 28))
		cover: (229 to: 233)
		declaredAt: (229 to: 233).! !
!Behavior method!
registerOn: aReceptiveAccount for: aTransference
	| transaction |
	(transaction _ [
	([
	(self coverAll:
		{86 to: 89}) new ] valueCoveringAll:
		{91 to: 93}) initializeFor:
		(aTransference
			cover: (110 to: 122)
			declaredAt: (36 to: 48)) ] valueCoveringAll:
		{95 to: 108})
		cover: (71 to: 81)
		declaredAt: (54 to: 64).
	[
	(aReceptiveAccount
		cover: (126 to: 142)
		declaredAt: (13 to: 29)) register:
		(transaction
			cover: (154 to: 164)
			declaredAt: (54 to: 64)) ] valueCoveringAll:
		{144 to: 152}.
	^ transaction
		cover: (173 to: 183)
		declaredAt: (54 to: 64).! !
!Behavior method!
initializeFor: aTransference
	(parent _ aTransference
		cover: (41 to: 53)
		declaredAt: (16 to: 28))
		cover: (31 to: 36)
		declaredAt: (31 to: 36).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{36 to: 36})
		into: [ :currentBalance :transaction |
			[
			(transaction
				cover: (79 to: 89)
				declaredAt: (65 to: 75)) affectBalance:
				(currentBalance
					cover: (106 to: 119)
					declaredAt: (49 to: 62)) ] valueCoveringAll:
				{91 to: 104} ]] valueCoveringAll:
		{28 to: 34. 40 to: 44}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) -
		([
		(parent
			cover: (40 to: 45)
			declaredAt: (40 to: 45)) value ] valueCoveringAll:
			{47 to: 51}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
value
	^ value
		cover: (9 to: 13)
		declaredAt: (9 to: 13).! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) +
		([
		(parent
			cover: (40 to: 45)
			declaredAt: (40 to: 45)) value ] valueCoveringAll:
			{47 to: 51}) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 19:59:13'!
PASSED!
!Behavior method!
withdraw
	^ withdraw
		cover: (12 to: 19)
		declaredAt: (12 to: 19).! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !
!Behavior method!
deposit
	^ deposit
		cover: (11 to: 17)
		declaredAt: (11 to: 17).! !

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 19:59:14'!
PASSED!
!Behavior method!
parentTransference
	^ parent
		cover: (22 to: 27)
		declaredAt: (22 to: 27).! !

!testRun: #TransferenceTest #test03 stamp: 'JRC 5/30/2021 19:59:14'!
PASSED!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 20:04:13'!
test04

	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[aTransference := Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorNegativeTransferenceValue.
            ].
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 20:04:41' prior: 50861119!
test04

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorNegativeTransferenceValue.
            ].
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 20:04:48' prior: 50861134!
test04

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorNegativeTransferenceValue.
            ].
	
	! !

!testRun: #TransferenceTest #test04 stamp: 'JRC 5/30/2021 20:05:48'!
FAILURE!
!Transference class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 20:07:45' prior: 50860151!
register: anAmount from: aReceptiveAccount to: aReceptiveAccount2

	anAmount <=0 ifTrue:[self].
	^self new initializeRegister:anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	! !

!testRun: #TransferenceTest #test04 stamp: 'JRC 5/30/2021 20:08:02'!
FAILURE!

!testRun: #TransferenceTest #test04 stamp: 'JRC 5/30/2021 20:08:02'!
FAILURE!

!testRun: #TransferenceTest #test04 stamp: 'JRC 5/30/2021 20:08:26'!
FAILURE!
!Transference class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 20:08:40'!
errorNegativeTransferenceValue
! !
!Transference class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 20:09:11' prior: 50861165!
register: anAmount from: aReceptiveAccount to: aReceptiveAccount2

	anAmount <=0 ifTrue:[self error: self errorNegativeTransferenceValue].
	^self new initializeRegister:anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	! !
!Transference class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 20:09:52' prior: 50861181!
errorNegativeTransferenceValue
	^'ERROR No se permiten transferencias con valor negativo.'! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 20:09:55'!
PASSED!

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 20:09:55'!
PASSED!

!testRun: #TransferenceTest #test03 stamp: 'JRC 5/30/2021 20:09:55'!
PASSED!

!testRun: #TransferenceTest #test04 stamp: 'JRC 5/30/2021 20:09:55'!
PASSED!

----SNAPSHOT----(30 May 2021 20:10:07) CuisUniversity-4532.image priorSource: 16916563!

Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Report category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 20:38:23'!
Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRenamed: #PatasTransference as: #PataTransference stamp: 'JRC 5/30/2021 20:38:35'!
Smalltalk renameClassNamed: #PatasTransference as: #PataTransference!

!classRemoval: #Report stamp: 'JRC 5/30/2021 20:39:49'!
Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 20:45:42'!
test05

	! !

!methodRemoval: TransferenceTest #test05 stamp: 'JRC 5/30/2021 20:45:55'!
test05

	!

TestCase subclass: #ReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReportTest category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 20:46:04'!
TestCase subclass: #ReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportTest methodsFor: 'no messages' stamp: 'JRC 5/30/2021 20:46:30'!
test01
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 20:47:09' prior: 50861255!
test01
	| anAccount |
	anAccount := ReceptiveAccount new.

	! !

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 20:51:46'!
Object subclass: #AccountSummary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 20:51:36' prior: 50861259!
test01

	| anAccount anAccountSummaryReport |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	self assert: OrderedCollection new equals: anAccountSummaryReport.
	! !

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 20:52:30'!
ERROR!
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 20:52:41'!
for: aReceptiveAccount 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeFor: aReceptiveAccount ! !
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 20:53:25' prior: 50861284!
for: aReceptiveAccount 
	^OrderedCollection new.
	"^self new initializeFor: aReceptiveAccount "! !
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 20:53:50' prior: 50861293!
for: aReceptiveAccount 
	^OrderedCollection new.! !

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 20:53:51'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 20:53:51'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 20:54:21'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 20:54:23'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 20:54:24'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 20:57:54'!
test02

	| anAccount anAccountSummaryReport |
	anAccount := ReceptiveAccount new.

	anAccountSummaryReport := AccountSummary for: anAccount.
	
	OrderedCollection new
	self assert: OrderedCollection new equals: anAccountSummaryReport.
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 20:58:32' prior: 50861316!
test02

	| anAccount anAccountSummaryReport |
	anAccount := ReceptiveAccount new.
	Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	OrderedCollection new
	self assert: OrderedCollection new equals: anAccountSummaryReport.
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 20:58:44' prior: 50861327!
test02

	| anAccount anAccountSummaryReport aDeposit |
	anAccount := ReceptiveAccount new.
	aDeposit := Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	OrderedCollection new
	self assert: OrderedCollection new equals: anAccountSummaryReport.
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:01:07' prior: 50861339!
test02

	| anAccount anAccountSummaryReport aDeposit result |
	anAccount := ReceptiveAccount new.
	aDeposit := Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:02:14' prior: 50861272!
test01

	| anAccount anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.! !

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 21:02:35'!
FAILURE!
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:04:04' prior: 50861300!
for: aReceptiveAccount 
	|AccountSummaryLines|
	AccountSummaryLines := OrderedCollection new.
	AccountSummaryLines add: 'Balance = 0'.
	^AccountSummaryLines! !

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 21:04:05'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 21:04:05'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 5/30/2021 21:04:05'!
FAILURE!

!testRun: #ReportTest #test02 stamp: 'JRC 5/30/2021 21:04:05'!
FAILURE!

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 21:04:19'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 5/30/2021 21:04:54'!
FAILURE!
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:11:40' prior: 50861381!
for: aReceptiveAccount 
	
	^self new initializeFor: aReceptiveAccount 

	
	
	
! !
!AccountSummary methodsFor: 'no messages' stamp: 'JRC 5/30/2021 21:11:57'!
initializeFor: anAccount! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:12:09' prior: 50861408!
initializeFor: anAccount
	|AccountSummaryLines|
	
	AccountSummaryLines := OrderedCollection new.
	AccountSummaryLines add: 'Balance = 0'.
	^AccountSummaryLines! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:12:42' prior: 50861412!
initializeFor: anAccount
	
! !

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 21:13:11'!
Object subclass: #AccountSummary
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:13:09' prior: 50861421!
initializeFor: anAccount
	
	account := anAccount.! !
!AccountSummary methodsFor: 'nil' stamp: 'JRC 5/30/2021 21:14:00'!
Summary
		|AccountSummaryLines|
	
	AccountSummaryLines := OrderedCollection new.
	AccountSummaryLines add: 'Balance = 0'.
	^AccountSummaryLines! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:14:25'!
summary
		|AccountSummaryLines|
	
	AccountSummaryLines := OrderedCollection new.
	AccountSummaryLines add: 'Balance = 0'.
	^AccountSummaryLines! !

!methodRemoval: AccountSummary #Summary stamp: 'JRC 5/30/2021 21:14:28'!
Summary
		|AccountSummaryLines|
	
	AccountSummaryLines := OrderedCollection new.
	AccountSummaryLines add: 'Balance = 0'.
	^AccountSummaryLines!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:14:49' prior: 50861445!
summary
		
	|AccountSummaryLines|
	
	AccountSummaryLines := OrderedCollection new.
	AccountSummaryLines add: 'Balance = 0'.
	^AccountSummaryLines! !

!methodRemoval: AccountSummary #summary stamp: 'JRC 5/30/2021 21:16:22'!
summary
		
	|AccountSummaryLines|
	
	AccountSummaryLines := OrderedCollection new.
	AccountSummaryLines add: 'Balance = 0'.
	^AccountSummaryLines!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:16:44' prior: 50861433!
initializeFor: anAccount
	
	|AccountSummaryLines|
	
	account := anAccount.
	
	
	AccountSummaryLines := OrderedCollection new.
	AccountSummaryLines add: 'Balance = 0'.
	^AccountSummaryLines! !

!methodRemoval: AccountSummary #initializeFor: stamp: 'JRC 5/30/2021 21:17:11'!
initializeFor: anAccount
	
	|AccountSummaryLines|
	
	account := anAccount.
	
	
	AccountSummaryLines := OrderedCollection new.
	AccountSummaryLines add: 'Balance = 0'.
	^AccountSummaryLines!
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:17:25' prior: 50861403!
for: aReceptiveAccount 

	|AccountSummaryLines|
	
	AccountSummaryLines := OrderedCollection new.
	AccountSummaryLines add: 'Balance = 0'.
	^AccountSummaryLines
	
	
! !

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 21:17:39'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 21:17:44'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 21:17:44'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 5/30/2021 21:17:44'!
FAILURE!

!testRun: #ReportTest #test02 stamp: 'JRC 5/30/2021 21:17:44'!
FAILURE!
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:20:30' prior: 50861493!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	aBalance := aReceptiveAccount balance.
	AccountSummaryLines add: 'Balance = 0'.
	
	^AccountSummaryLines
	
	
! !

'Balance = 0'.!

self browse
!
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:25:51' prior: 50861513!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 21:26:09'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 21:26:09'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 5/30/2021 21:26:09'!
FAILURE!

!testRun: #ReportTest #test02 stamp: 'JRC 5/30/2021 21:26:09'!
FAILURE!
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:30:21' prior: 50861525!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit 
		
			].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:33:05' prior: 50861548!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			]
		
			].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:34:32' prior: 50861565!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			]
		
			].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:34:40' prior: 50861588!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			]
		
		].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:34:44' prior: 50861611!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			]
		].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !

!testRun: #ReportTest #test02 stamp: 'JRC 5/30/2021 21:34:55'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 21:34:55'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 5/30/2021 21:34:55'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:36:19'!
test03

	| anAccount anAccountSummaryReport aDeposit result |
	anAccount := ReceptiveAccount new.
	aDeposit := Withdraw register: 100 on: anAccount.
	
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	result := OrderedCollection new.
	result add: 'Extracción por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:37:25' prior: 50861661!
test03

	| anAccount anAccountSummaryReport aWithdraw result |
	anAccount := ReceptiveAccount new.
	aWithdraw := Withdraw register: 100 on: anAccount.
	
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	result := OrderedCollection new.
	result add: 'Extracción por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	! !

!testRun: #ReportTest #test03 stamp: 'JRC 5/30/2021 21:37:30'!
FAILURE!

!testRun: #ReportTest #test03 stamp: 'JRC 5/30/2021 21:37:30'!
FAILURE!
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:38:46' prior: 50861633!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			]
		].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !

!testRun: #ReportTest #test03 stamp: 'JRC 5/30/2021 21:39:04'!
FAILURE!

!testRun: #ReportTest #test03 stamp: 'JRC 5/30/2021 21:39:04'!
FAILURE!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:39:59' prior: 50861676!
test03

	| anAccount anAccountSummaryReport aWithdraw result |
	anAccount := ReceptiveAccount new.
	aWithdraw := Withdraw register: 100 on: anAccount.
	
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	result := OrderedCollection new.
	result add: 'Extracción por 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.
	! !

!testRun: #ReportTest #test03 stamp: 'JRC 5/30/2021 21:40:03'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:44:07'!
test04

	| anAccount anAccount2 anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.
! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:45:58' prior: 50861746!
test04

	| anAccount anAccount2 anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.

	anAccountSummaryReport := AccountSummary for: anAccount2.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.! !

!testRun: #ReportTest #test04 stamp: 'JRC 5/30/2021 21:46:01'!
FAILURE!
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:47:44' prior: 50861696!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'AAAAAA'.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 21:49:06' prior: 50861790!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WitdrawTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !

PataTransference subclass: #WitdrawTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #WitdrawTransference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 21:49:58'!
PataTransference subclass: #WitdrawTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

PataTransference subclass: #WithdrawTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #WithdrawTransference category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 21:51:46'!
PataTransference subclass: #WithdrawTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #WithdrawTransference stamp: 'JRC 5/30/2021 21:51:59'!
PataTransference subclass: #WithdrawTransference
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRenamed: #WitdrawTransference as: #WitdraweTransference stamp: 'JRC 5/30/2021 21:52:12'!
Smalltalk renameClassNamed: #WitdrawTransference as: #WitdraweTransference!
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:52:12' prior: 50861826!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WitdraweTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !
!Transference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:52:12' prior: 50860626!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	withdraw := WitdraweTransference registerOn: aReceptiveAccount for: self.
	deposit := DepositTransference registerOn: aReceptiveAccount2 for: self.
	value := anAmount.
	
! !

!classRenamed: #WitdraweTransference as: #WithdraweTransference stamp: 'JRC 5/30/2021 21:52:27'!
Smalltalk renameClassNamed: #WitdraweTransference as: #WithdraweTransference!
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:52:27' prior: 50861908!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WithdraweTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !
!Transference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:52:27' prior: 50861952!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	withdraw := WithdraweTransference registerOn: aReceptiveAccount for: self.
	deposit := DepositTransference registerOn: aReceptiveAccount2 for: self.
	value := anAmount.
	
! !

!classRenamed: #WithdraweTransference as: #WithdrawTransference stamp: 'JRC 5/30/2021 21:52:58'!
Smalltalk renameClassNamed: #WithdraweTransference as: #WithdrawTransference!
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:52:58' prior: 50861969!
for: aReceptiveAccount 

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WithdrawTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !
!Transference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:52:58' prior: 50862013!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	withdraw := WithdrawTransference registerOn: aReceptiveAccount for: self.
	deposit := DepositTransference registerOn: aReceptiveAccount2 for: self.
	value := anAmount.
	
! !

!testRun: #TransferenceTest #test01 stamp: 'JRC 5/30/2021 21:53:22'!
PASSED!

!testRun: #TransferenceTest #test02 stamp: 'JRC 5/30/2021 21:53:22'!
PASSED!

!testRun: #TransferenceTest #test03 stamp: 'JRC 5/30/2021 21:53:22'!
PASSED!

!testRun: #TransferenceTest #test04 stamp: 'JRC 5/30/2021 21:53:22'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 21:53:28'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 5/30/2021 21:53:28'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 5/30/2021 21:53:28'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 5/30/2021 21:53:28'!
FAILURE!

!testRun: #ReportTest #test04 stamp: 'JRC 5/30/2021 21:53:28'!
FAILURE!

!testRun: #ReportTest #test01 stamp: 'JRC 5/30/2021 21:53:40'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 5/30/2021 21:53:40'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 5/30/2021 21:53:40'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 5/30/2021 21:53:40'!
FAILURE!

!testRun: #ReportTest #test04 stamp: 'JRC 5/30/2021 21:53:40'!
FAILURE!
!PataTransference methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 21:55:45' overrides: 16881508!
value
	^parent value.! !

!testRun: #ReportTest #test04 stamp: 'JRC 5/30/2021 21:57:05'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 22:00:33'!
test01AccountSummary

	| anAccount anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.! !

!methodRemoval: ReportTest #test01 stamp: 'JRC 5/30/2021 22:00:33'!
test01

	| anAccount anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 22:01:36'!
test05TransferNet
	! !

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 22:04:07'!
Object subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 22:04:02' prior: 50862146!
test05TransferNet
	| anAccount aTransferNetReport result |
	
	anAccount := ReceptiveAccount new.
	
	aTransferNetReport := TransferNet for: anAccount.
	
	result := 0.
	self assert: result equals: aTransferNetReport.! !

Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Report category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 22:04:36'!
Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Report subclass: #AccountSummary
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 22:06:05'!
Report subclass: #AccountSummary
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Report subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 22:06:21'!
Report subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Report subclass: #AccountSummary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'JRC 5/30/2021 22:06:30'!
Report subclass: #AccountSummary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 5/30/2021 22:08:37'!
ERROR!
!TransferNet class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 22:08:54'!
for: aReceptiveAccount 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeFor: aReceptiveAccount ! !
!TransferNet class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 22:09:12' prior: 50862216!
for: aReceptiveAccount 
	
	^0! !

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 5/30/2021 22:09:18'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 22:09:46' prior: 50862157!
test05TransferNet
	
	| anAccount aTransferNetReport result |
	
	anAccount := ReceptiveAccount new.
	
	aTransferNetReport := TransferNet for: anAccount.
	
	result := 0.
	self assert: result equals: aTransferNetReport.! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 22:10:11'!
test06

! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 22:11:24' prior: 50862242!
test06

	| anAccount anAccount2 anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	anAccountSummaryReport := AccountSummary for: anAccount.
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.

	anAccountSummaryReport := AccountSummary for: anAccount2.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 22:12:31' prior: 50862246!
test06

	| anAccount anAccount2 aTransferNetReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	aTransferNetReport := AccountSummary for: anAccount.
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.
	self assert: result equals: aTransferNetReport.

	aTransferNetReport := AccountSummary for: anAccount2.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: aTransferNetReport.! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/30/2021 22:13:52' prior: 50862270!
test06

	| anAccount anAccount2 aTransferNetReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	aTransferNetReport := TransferNet for: anAccount.
	result := -100.
	self assert: result equals: aTransferNetReport.

	aTransferNetReport := TransferNet for: anAccount2.
	result := 100.
	self assert: result equals: aTransferNetReport.! !

!testRun: #ReportTest #test06 stamp: 'JRC 5/30/2021 22:14:00'!
FAILURE!
!TransferNet class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 22:22:54' prior: 50862225!
for: aReceptiveAccount 
	
	|depositTransfersSum withdrawTransfersSum|
	
	depositTransfersSum := (aReceptiveAccount transactions select: [:aTransaction | aTransaction class = DepositTransference]) sum ifEmpty:[0].
	
	withdrawTransfersSum := (aReceptiveAccount transactions select: [:aTransaction | aTransaction class = WithdrawTransference]) sum ifEmpty:[0].
	
	^depositTransfersSum - withdrawTransfersSum! !

!testRun: #ReportTest #test06 stamp: 'JRC 5/30/2021 22:23:14'!
ERROR!

!testRun: #ReportTest #test06 stamp: 'JRC 5/30/2021 22:23:14'!
ERROR!

!testRun: #ReportTest #test06 stamp: 'JRC 5/30/2021 22:24:06'!
ERROR!

!testRun: #ReportTest #test06 stamp: 'JRC 5/30/2021 22:24:42'!
ERROR!
!TransferNet class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 22:26:18' prior: 50862312!
for: aReceptiveAccount 
	
	|depositTransfersSum withdrawTransfersSum|
	
	depositTransfersSum := (aReceptiveAccount transactions select: [:aTransaction | aTransaction class = DepositTransference]) sum: [:e | e.] ifEmpty:[0].
	
	withdrawTransfersSum := (aReceptiveAccount transactions select: [:aTransaction | aTransaction class = WithdrawTransference]) sum: [:e | e.] ifEmpty:[0].
	
	^depositTransfersSum - withdrawTransfersSum! !

!testRun: #ReportTest #test06 stamp: 'JRC 5/30/2021 22:26:24'!
ERROR!

----End fileIn of C:\Users\recal\Desktop\windows64\Packages\TerseGuide.pck.st----!
!TransferNet class methodsFor: 'instance creation' stamp: 'JRC 5/30/2021 22:29:34' prior: 50862337!
for: aReceptiveAccount 
	
	|depositTransfersSum withdrawTransfersSum|
	
	depositTransfersSum := (aReceptiveAccount transactions select: [:aTransaction | aTransaction class = DepositTransference])
		sum: [:aDepositTransference | aDepositTransference value.] ifEmpty:[0].
	
	withdrawTransfersSum := (aReceptiveAccount transactions select: [:aTransaction | aTransaction class = WithdrawTransference]) 
		sum: [:aWithdrawTransference | aWithdrawTransference value.] ifEmpty:[0].
	
	^depositTransfersSum - withdrawTransfersSum! !

!testRun: #ReportTest #test06 stamp: 'JRC 5/30/2021 22:29:43'!
PASSED!

----SNAPSHOT----(30 May 2021 22:31:30) CuisUniversity-4532.image priorSource: 16945973!

----SNAPSHOT----(30 May 2021 22:31:34) CuisUniversity-4532.image priorSource: 17076852!

----QUIT----(30 May 2021 22:32:09) CuisUniversity-4532.image priorSource: 17076941!

----STARTUP---- (31 May 2021 21:37:33) as C:\Users\recal\Desktop\windows64\CuisUniversity-4532.image!

!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/31/2021 21:51:14' prior: 50862030!
for: aReceptiveAccount 
	"^self new initializeFor: aReceptiveAccount "
	
	
	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WithdrawTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines
	
	
! !
!AccountSummary methodsFor: 'no messages' stamp: 'JRC 5/31/2021 21:52:27'!
XXXXXXXD: aReceptiveAccount

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WithdrawTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines! !
!AccountSummary class methodsFor: 'instance creation' stamp: 'JRC 5/31/2021 21:52:41' prior: 50865315!
for: aReceptiveAccount 
	^self new initializeFor: aReceptiveAccount
! !

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'JRC 5/31/2021 21:53:19'!
Report subclass: #AccountSummary
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 5/31/2021 21:53:17'!
initializeFor: aReceptiveAccount
	account := aReceptiveAccount.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 5/31/2021 21:54:24'!
XXXXXXXD

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	account transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WithdrawTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	
	
	aBalance := account balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines! !

!methodRemoval: AccountSummary #XXXXXXXD: stamp: 'JRC 5/31/2021 21:54:43'!
XXXXXXXD: aReceptiveAccount

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	aReceptiveAccount transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WithdrawTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	
	
	aBalance := aReceptiveAccount balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 5/31/2021 21:55:13'!
report

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	account transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WithdrawTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	
	
	aBalance := account balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines! !

!methodRemoval: AccountSummary #XXXXXXXD stamp: 'JRC 5/31/2021 21:55:13'!
XXXXXXXD

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	account transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WithdrawTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	
	
	aBalance := account balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'JRC 5/31/2021 21:55:57'!
Report subclass: #TransferNet
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferNet methodsFor: 'no messages' stamp: 'JRC 5/31/2021 21:55:56'!
report

	|depositTransfersSum withdrawTransfersSum|
	
	depositTransfersSum := (account transactions select: [:aTransaction | aTransaction class = 	DepositTransference])
		sum: [:aDepositTransference | aDepositTransference value.] ifEmpty:[0].
	
	withdrawTransfersSum := (account transactions select: [:aTransaction | aTransaction class = 	WithdrawTransference]) 
		sum: [:aWithdrawTransference | aWithdrawTransference value.] ifEmpty:[0].
	
	^depositTransfersSum - withdrawTransfersSum! !

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'JRC 5/31/2021 21:56:46'!
Report subclass: #AccountSummary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'JRC 5/31/2021 21:56:46'!
Report subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Report category: 'Portfolio-Solucion' stamp: 'JRC 5/31/2021 21:56:46'!
Object subclass: #Report
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Report methodsFor: 'as yet unclassified' stamp: 'JRC 5/31/2021 21:56:53'!
initializeFor: aReceptiveAccount
	account := aReceptiveAccount.! !

!methodRemoval: AccountSummary #initializeFor: stamp: 'JRC 5/31/2021 21:56:53'!
initializeFor: aReceptiveAccount
	account := aReceptiveAccount.!

!methodRemoval: TransferNet class #for: stamp: 'JRC 5/31/2021 21:57:38'!
for: aReceptiveAccount 
	
	|depositTransfersSum withdrawTransfersSum|
	
	depositTransfersSum := (aReceptiveAccount transactions select: [:aTransaction | aTransaction class = DepositTransference])
		sum: [:aDepositTransference | aDepositTransference value.] ifEmpty:[0].
	
	withdrawTransfersSum := (aReceptiveAccount transactions select: [:aTransaction | aTransaction class = WithdrawTransference]) 
		sum: [:aWithdrawTransference | aWithdrawTransference value.] ifEmpty:[0].
	
	^depositTransfersSum - withdrawTransfersSum!
!Report class methodsFor: 'instance creation' stamp: 'JRC 5/31/2021 21:57:47'!
for: aReceptiveAccount 
	^self new initializeFor: aReceptiveAccount
! !

!methodRemoval: AccountSummary class #for: stamp: 'JRC 5/31/2021 21:57:47'!
for: aReceptiveAccount 
	^self new initializeFor: aReceptiveAccount
!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/31/2021 21:59:10' prior: 50862124!
test01AccountSummary

	| anAccount anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 5/31/2021 21:59:12'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/31/2021 21:59:24' prior: 50861352!
test02

	| anAccount anAccountSummaryReport aDeposit result |
	anAccount := ReceptiveAccount new.
	aDeposit := Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	! !

!testRun: #ReportTest #test02 stamp: 'JRC 5/31/2021 21:59:29'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/31/2021 21:59:43' prior: 50861729!
test03

	| anAccount anAccountSummaryReport aWithdraw result |
	anAccount := ReceptiveAccount new.
	aWithdraw := Withdraw register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Extracción por 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/31/2021 22:00:00' prior: 50861763!
test04

	| anAccount anAccount2 anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.

	anAccountSummaryReport := (AccountSummary for: anAccount2) report.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/31/2021 22:00:10' prior: 50862232!
test05TransferNet
	
	| anAccount aTransferNetReport result |
	
	anAccount := ReceptiveAccount new.
	
	aTransferNetReport := (TransferNet for: anAccount) report.
	
	result := 0.
	self assert: result equals: aTransferNetReport.! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 5/31/2021 22:00:26' prior: 50862293!
test06

	| anAccount anAccount2 aTransferNetReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	aTransferNetReport := (TransferNet for: anAccount) report.
	result := -100.
	self assert: result equals: aTransferNetReport.

	aTransferNetReport := (TransferNet for: anAccount2) report.
	result := 100.
	self assert: result equals: aTransferNetReport.! !

!testRun: #ReportTest #test06 stamp: 'JRC 5/31/2021 22:00:34'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 5/31/2021 22:00:35'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 5/31/2021 22:00:35'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 5/31/2021 22:00:35'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 5/31/2021 22:00:35'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 5/31/2021 22:00:35'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 5/31/2021 22:00:35'!
PASSED!

----SNAPSHOT----(31 May 2021 22:01:13) CuisUniversity-4532.image priorSource: 17077030!

----QUIT----(31 May 2021 22:01:58) CuisUniversity-4532.image priorSource: 17092501!

----STARTUP---- (31 May 2021 22:07:34) as C:\Users\recal\Desktop\windows64\CuisUniversity-4532.image!


----QUIT----(31 May 2021 22:24:45) CuisUniversity-4532.image priorSource: 17092590!

----STARTUP---- (2 June 2021 15:56:51) as C:\Users\recal\Desktop\windows64\CuisUniversity-4532.image!

!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:04:35'!
test01TransferenceModifyBalanceCorrectly

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 10 from: anAccount to: anAccount2.
	
	self assert: -10 equals: anAccount balance.
	self assert: 10 equals: anAccount2 balance.! !

!methodRemoval: TransferenceTest #test01 stamp: 'JRC 6/2/2021 16:04:35'!
test01

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 10 from: anAccount to: anAccount2.
	
	self assert: -10 equals: anAccount balance.
	self assert: 10 equals: anAccount2 balance.!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:05:17'!
test02TransferenceRegisterCorrectLegInAccounts

	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	self assert:  (anAccount hasRegistered: aTransference withdraw).
	self assert:  (anAccount2 hasRegistered: aTransference deposit).! !

!methodRemoval: TransferenceTest #test02 stamp: 'JRC 6/2/2021 16:05:17'!
test02

	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	self assert:  (anAccount hasRegistered: aTransference withdraw).
	self assert:  (anAccount2 hasRegistered: aTransference deposit).!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:06:07'!
test03TransferenceRegCanReachTheirTransference

	| anAccount anAccount2 aTransference aTransferenceDeposit aTransferenceWithdraw |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	aTransferenceWithdraw := aTransference withdraw.
	aTransferenceDeposit :=  aTransference deposit.
	
	self assert: aTransferenceWithdraw parentTransference equals: aTransference.
	self assert: aTransferenceDeposit parentTransference equals: aTransference.
	
	
	! !

!methodRemoval: TransferenceTest #test03 stamp: 'JRC 6/2/2021 16:06:07'!
test03

	| anAccount anAccount2 aTransference aTransferenceDeposit aTransferenceWithdraw |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	aTransferenceWithdraw := aTransference withdraw.
	aTransferenceDeposit :=  aTransference deposit.
	
	self assert: aTransferenceWithdraw parentTransference equals: aTransference.
	self assert: aTransferenceDeposit parentTransference equals: aTransference.
	
	
	!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:06:17'!
test03TransferenceLegCanReachTheirTransference

	| anAccount anAccount2 aTransference aTransferenceDeposit aTransferenceWithdraw |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	aTransferenceWithdraw := aTransference withdraw.
	aTransferenceDeposit :=  aTransference deposit.
	
	self assert: aTransferenceWithdraw parentTransference equals: aTransference.
	self assert: aTransferenceDeposit parentTransference equals: aTransference.
	
	
	! !

!methodRemoval: TransferenceTest #test03TransferenceRegCanReachTheirTransference stamp: 'JRC 6/2/2021 16:06:17'!
test03TransferenceRegCanReachTheirTransference

	| anAccount anAccount2 aTransference aTransferenceDeposit aTransferenceWithdraw |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	aTransferenceWithdraw := aTransference withdraw.
	aTransferenceDeposit :=  aTransference deposit.
	
	self assert: aTransferenceWithdraw parentTransference equals: aTransference.
	self assert: aTransferenceDeposit parentTransference equals: aTransference.
	
	
	!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:06:49'!
test04TransferenceCanNotBeNegativeAmount

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorNegativeTransferenceValue.
            ].
	
	! !

!methodRemoval: TransferenceTest #test04 stamp: 'JRC 6/2/2021 16:06:49'!
test04

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorNegativeTransferenceValue.
            ].
	
	!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:08:19'!
test04TransferenceCanNotBeNegative

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorNegativeTransferenceValue.
            ].
	
	! !

!methodRemoval: TransferenceTest #test04TransferenceCanNotBeNegativeAmount stamp: 'JRC 6/2/2021 16:08:19'!
test04TransferenceCanNotBeNegativeAmount

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorNegativeTransferenceValue.
            ].
	
	!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:08:33' prior: 50865964!
test04TransferenceCanNotBeNegative

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: 0 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorNegativeTransferenceValue.
            ].
	
	! !

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegative stamp: 'JRC 6/2/2021 16:08:35'!
PASSED!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:08:40' prior: 50865994!
test04TransferenceCanNotBeNegative

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorNegativeTransferenceValue.
            ].
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:08:49' prior: 50866012!
test04TransferenceCanNotBeNegative

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorNegativeTransferenceValue.
            ].

	self should:[Transference register: 0 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorNegativeTransferenceValue.
            ].
	
	
	! !
!Transference class methodsFor: 'instance creation' stamp: 'JRC 6/2/2021 16:09:27' prior: 50861197!
errorNegativeTransferenceValue
	^'ERROR No se permiten transferencias con valor negativo o nulo.'! !
!Transference class methodsFor: 'instance creation' stamp: 'JRC 6/2/2021 16:10:05'!
errorInvalidTransferenceValue
	^'ERROR No se permiten transferencias con valor negativo o nulo.'! !
!Transference class methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:10:05' prior: 50861186!
register: anAmount from: aReceptiveAccount to: aReceptiveAccount2

	anAmount <=0 ifTrue:[self error: self errorInvalidTransferenceValue].
	^self new initializeRegister:anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:10:05' prior: 50866027!
test04TransferenceCanNotBeNegative

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].

	self should:[Transference register: 0 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].
	
	
	! !

!methodRemoval: Transference class #errorNegativeTransferenceValue stamp: 'JRC 6/2/2021 16:10:05'!
errorNegativeTransferenceValue
	^'ERROR No se permiten transferencias con valor negativo o nulo.'!

!testRun: #TransferenceTest #test01TransferenceModifyBalanceCorrectly stamp: 'JRC 6/2/2021 16:10:10'!
PASSED!

!testRun: #TransferenceTest #test02TransferenceRegisterCorrectLegInAccounts stamp: 'JRC 6/2/2021 16:10:10'!
PASSED!

!testRun: #TransferenceTest #test03TransferenceLegCanReachTheirTransference stamp: 'JRC 6/2/2021 16:10:10'!
PASSED!

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegative stamp: 'JRC 6/2/2021 16:10:10'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/2/2021 16:10:17'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/2/2021 16:10:17'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/2/2021 16:10:17'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/2/2021 16:10:17'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/2/2021 16:10:17'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/2/2021 16:10:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JRC 6/2/2021 16:10:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JRC 6/2/2021 16:10:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JRC 6/2/2021 16:10:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JRC 6/2/2021 16:10:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JRC 6/2/2021 16:10:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JRC 6/2/2021 16:10:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JRC 6/2/2021 16:10:22'!
PASSED!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:10:38'!
test04TransferenceCanNotBeNegativeOrZero

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].

	self should:[Transference register: 0 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].
	
	
	! !

!methodRemoval: TransferenceTest #test04TransferenceCanNotBeNegative stamp: 'JRC 6/2/2021 16:10:39'!
test04TransferenceCanNotBeNegative

	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].

	self should:[Transference register: 0 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].
	
	
	!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:11:44'!
test05TransferenceFromAndToCanNotBeTheSameAccount
	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].

	self should:[Transference register: 0 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].
	
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:11:48' prior: 50866199!
test05TransferenceFromAndToCanNotBeTheSameAccount
	
	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].

	self should:[Transference register: 0 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].
	
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:12:40' prior: 50866222!
test05TransferenceFromAndToCanNotBeTheSameAccount
	
	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.

	

	self should:[Transference register: 10 from: anAccount to: anAccount.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorSameAccountTransference.
            ].

	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:12:50' prior: 50866245!
test05TransferenceFromAndToCanNotBeTheSameAccount
	
	| anAccount |
	anAccount := ReceptiveAccount new.

	

	self should:[Transference register: 10 from: anAccount to: anAccount.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorSameAccountTransference.
            ].

	! !

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/2/2021 16:12:52'!
FAILURE!
!Transference class methodsFor: 'instance creation' stamp: 'JRC 6/2/2021 16:14:10' prior: 50866062!
register: anAmount from: aReceptiveAccount to: aReceptiveAccount2

	anAmount <=0 ifTrue:[self error: self errorInvalidTransferenceValue].
	 aReceptiveAccount = aReceptiveAccount2 ifTrue:[self error: self errorSameAccountTransference].
	^self new initializeRegister:anAmount from: aReceptiveAccount to: aReceptiveAccount2 
	
	! !

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/2/2021 16:14:12'!
ERROR!
!Transference class methodsFor: 'Errors' stamp: 'JRC 6/2/2021 16:14:49'!
errorSameAccountTransference
	self shouldBeImplemented.! !
!Transference class methodsFor: 'Errors' stamp: 'JRC 6/2/2021 16:15:59' prior: 50866294!
errorSameAccountTransference
	^'ERROR No se permiten transferencias entre la misma cuenta'! !

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/2/2021 16:16:00'!
FAILURE!

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/2/2021 16:16:12'!
PASSED!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:16:26' prior: 50866259!
test05TransferenceFromAndToCanNotBeTheSameAccount
	
	| anAccount |
	anAccount := ReceptiveAccount new.

	self should:[Transference register: 10 from: anAccount to: anAccount.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorSameAccountTransference.
            ].! !

!classRenamed: #PataTransference as: #TransferenceLegs stamp: 'JRC 6/2/2021 16:19:33'!
Smalltalk renameClassNamed: #PataTransference as: #TransferenceLegs!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:29:28' prior: 50865507!
report

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	"
	account transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WithdrawTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	"
	
	aBalance := account balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:30:43' prior: 50866332!
report

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	account XXX: self YYY:AccountSummaryLines.
	"
	account transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WithdrawTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	"
	
	aBalance := account balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines! !
!ReceptiveAccount methodsFor: 'composition' stamp: 'JRC 6/2/2021 16:41:34'!
XXX: anAccountSummary 

	transactions do: [:aTransaction |
		aTransaction reportFor: anAccountSummary
		]! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:42:05' prior: 50866375!
report

	|AccountSummaryLines aBalance|
	
	AccountSummaryLines := OrderedCollection new.
	
	account XXX: self.
	"
	account transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WithdrawTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	"
	
	aBalance := account balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines! !

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'JRC 6/2/2021 16:42:50'!
Report subclass: #AccountSummary
	instanceVariableNames: 'accountSummaryLines'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:42:47' prior: 50866425!
report

	|aBalance|
	
	accountSummaryLines := OrderedCollection new.
	
	account XXX: self.
	"
	account transactions do: [
		:aTransaction | 
		aTransaction class = Deposit ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Depósito por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = Withdraw ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Extracción por '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = DepositTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Entrada por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		aTransaction class = WithdrawTransference ifTrue:[
					AccountSummaryLines add: (String streamContents: [:s |
 	  		 		s nextPutAll: 'Salida por transferencia de '.
   		 			s nextPutAll: aTransaction value asString.
  		  		]).
			].
		].
	"
	
	aBalance := account balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines! !
!AccountTransaction methodsFor: 'private' stamp: 'JRC 6/2/2021 16:44:39'!
reportFor: aReport! !
!AccountTransaction methodsFor: 'private' stamp: 'JRC 6/2/2021 16:44:48' prior: 50866518!
reportFor: aReport
	self subclassResponsibility ! !
!AccountTransaction methodsFor: 'private' stamp: 'JRC 6/2/2021 16:45:01' prior: 50866522!
reportFor: aReport
	self subclassResponsibility! !
!AccountTransaction methodsFor: 'private' stamp: 'JRC 6/2/2021 16:45:06' prior: 50866527!
reportFor: aReport

	self subclassResponsibility! !
!Deposit methodsFor: 'private' stamp: 'JRC 6/2/2021 16:45:30' overrides: 50866532!
reportFor: aReport

	self shouldBeImplemented ! !
!Withdraw methodsFor: 'private' stamp: 'JRC 6/2/2021 16:45:38' overrides: 50866532!
reportFor: aReport

	self shouldBeImplemented ! !
!Deposit methodsFor: 'private' stamp: 'JRC 6/2/2021 16:47:17' prior: 50866537 overrides: 50866532!
reportFor: aReport

	aReport ReportADepositWithValue: value! !
!Deposit methodsFor: 'private' stamp: 'JRC 6/2/2021 16:47:37' prior: 50866547 overrides: 50866532!
reportFor: aReport

	aReport ReportADepositWithValue: value! !
!Deposit methodsFor: 'private' stamp: 'JRC 6/2/2021 16:47:47' prior: 50866553 overrides: 50866532!
reportFor: aReport

	aReport ReportADepositWithValue: value! !
!Withdraw methodsFor: 'private' stamp: 'JRC 6/2/2021 16:48:08' prior: 50866542 overrides: 50866532!
reportFor: aReport

	aReport ReportAWithdrawWithValue: value! !

AccountTransaction subclass: #TransferenceLegs
	instanceVariableNames: 'parent'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferenceLegs category: 'Portfolio-Solucion' stamp: 'JRC 6/2/2021 16:48:47'!
AccountTransaction subclass: #TransferenceLegs
	instanceVariableNames: 'parent'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!DepositTransference methodsFor: 'private' stamp: 'JRC 6/2/2021 16:49:12' overrides: 50866532!
reportFor: aReport! !
!WithdrawTransference methodsFor: 'private' stamp: 'JRC 6/2/2021 16:49:26' overrides: 50866532!
reportFor: aReport
	self shouldBeImplemented ! !
!DepositTransference methodsFor: 'private' stamp: 'JRC 6/2/2021 16:49:36' prior: 50866584 overrides: 50866532!
reportFor: aReport

	self shouldBeImplemented ! !
!Deposit methodsFor: 'private' stamp: 'JRC 6/2/2021 16:50:17' prior: 50866559 overrides: 50866532!
reportFor: aReport

	aReport reportADepositWithValue: value! !
!Withdraw methodsFor: 'private' stamp: 'JRC 6/2/2021 16:50:30' prior: 50866565 overrides: 50866532!
reportFor: aReport

	aReport reportAWithdrawWithValue: value! !
!DepositTransference methodsFor: 'private' stamp: 'JRC 6/2/2021 16:51:08' prior: 50866593 overrides: 50866532!
reportFor: aReport

	aReport reportAWithdrawTransferenceWithValue: self! !
!DepositTransference methodsFor: 'private' stamp: 'JRC 6/2/2021 16:51:29' prior: 50866610 overrides: 50866532!
reportFor: aReport

	aReport reportAWithdrawTransferenceWithValue: parent value! !
!DepositTransference methodsFor: 'private' stamp: 'JRC 6/2/2021 16:51:52' prior: 50866616 overrides: 50866532!
reportFor: aReport

	aReport reportADepositTransferenceWithValue: parent value! !
!WithdrawTransference methodsFor: 'private' stamp: 'JRC 6/2/2021 16:52:15' prior: 50866588 overrides: 50866532!
reportFor: aReport

	aReport reportAWithdrawTransferenceWithValue: parent value! !
!ReceptiveAccount methodsFor: 'private' stamp: 'JRC 6/2/2021 16:53:15' prior: 50866418!
XXX: aReport

	transactions do: [:aTransaction |
		aTransaction reportFor: aReport
		]! !
!Report methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 16:55:56'!
reportADepositTransferenceWithValue: aValue
	
	self subclassResponsibility ! !
!Report methodsFor: 'private' stamp: 'JRC 6/2/2021 16:56:58'!
reportAWithdrawTransferenceWithValue: aValue
	
	self subclassResponsibility ! !
!Report methodsFor: 'private' stamp: 'JRC 6/2/2021 16:57:05'!
reportAWithdrawWithValue: aValue
	
	self subclassResponsibility ! !
!Report methodsFor: 'private' stamp: 'JRC 6/2/2021 16:57:10'!
reportADepositWithValue: aValue
	
	self subclassResponsibility ! !
!Report methodsFor: 'report' stamp: 'JRC 6/2/2021 16:57:46'!
report
 	
	self subclassResponsibility ! !
!AccountSummary methodsFor: 'private' stamp: 'JRC 6/2/2021 17:00:42' overrides: 50866642!
reportADepositTransferenceWithValue: aValue

	accountSummaryLines add: 'Entrada por transferencia de ', aValue asString.! !
!AccountSummary methodsFor: 'private' stamp: 'JRC 6/2/2021 17:02:03' overrides: 50866647!
reportAWithdrawTransferenceWithValue: aValue

	accountSummaryLines add: 'Salida por transferencia de ', aValue asString.! !
!AccountSummary methodsFor: 'private' stamp: 'JRC 6/2/2021 17:02:27' overrides: 50866652!
reportAWithdrawWithValue: aValue

	accountSummaryLines add: 'Extracción por ', aValue asString.! !
!AccountSummary methodsFor: 'private' stamp: 'JRC 6/2/2021 17:02:40' overrides: 50866657!
reportADepositWithValue: aValue

	accountSummaryLines add: 'Depósito por ', aValue asString.! !
!AccountSummary methodsFor: 'report' stamp: 'JRC 6/2/2021 17:03:05' prior: 50866476 overrides: 50866661!
report

	|aBalance|
	
	accountSummaryLines := OrderedCollection new.
	
	account XXX: self.
	
	
	aBalance := account balance.
	
	AccountSummaryLines add: (String streamContents: [:s |
   	 		s nextPutAll: 'Balance = '.
    			s nextPutAll: aBalance asString.
    		]).
	
	^AccountSummaryLines! !
!AccountSummary methodsFor: 'report' stamp: 'JRC 6/2/2021 17:04:12' prior: 50866693 overrides: 50866661!
report

	|aBalance|
	
	accountSummaryLines := OrderedCollection new.
	
	account XXX: self.
	
	aBalance := account balance.
	
	accountSummaryLines add: 'Balance = ', aBalance asString.
	
	^accountSummaryLines! !
!ReceptiveAccount methodsFor: 'private' stamp: 'JRC 6/2/2021 17:06:15'!
sendTransactionsForReport: aReport

	transactions do: [:aTransaction |
		aTransaction reportFor: aReport
		]! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 17:06:15' prior: 50866706 overrides: 50866661!
report

	|aBalance|
	
	accountSummaryLines := OrderedCollection new.
	
	account sendTransactionsForReport: self.
	
	aBalance := account balance.
	
	accountSummaryLines add: 'Balance = ', aBalance asString.
	
	^accountSummaryLines! !

!methodRemoval: ReceptiveAccount #XXX: stamp: 'JRC 6/2/2021 17:06:15'!
XXX: aReport

	transactions do: [:aTransaction |
		aTransaction reportFor: aReport
		]!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/2/2021 17:06:46'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/2/2021 17:07:13'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/2/2021 17:07:13'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/2/2021 17:07:13'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/2/2021 17:07:13'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/2/2021 17:07:13'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/2/2021 17:07:13'!
PASSED!
!TransferNet methodsFor: 'private' stamp: 'JRC 6/2/2021 17:09:13' overrides: 50866642!
reportADepositTransferenceWithValue: aValue
	
	self subclassResponsibility ! !
!TransferNet methodsFor: 'private' stamp: 'JRC 6/2/2021 17:10:20' overrides: 50866657!
reportADepositWithValue: aValue
	
	self subclassResponsibility ! !
!TransferNet methodsFor: 'private' stamp: 'JRC 6/2/2021 17:10:29' overrides: 50866647!
reportAWithdrawTransferenceWithValue: aValue
	
	self subclassResponsibility ! !
!TransferNet methodsFor: 'private' stamp: 'JRC 6/2/2021 17:10:32' overrides: 50866652!
reportAWithdrawWithValue: aValue
	
	self subclassResponsibility ! !
!TransferNet methodsFor: 'private' stamp: 'JRC 6/2/2021 17:10:42' prior: 50866761 overrides: 50866657!
reportADepositWithValue: aValue
	
! !
!TransferNet methodsFor: 'private' stamp: 'JRC 6/2/2021 17:10:48' prior: 50866772 overrides: 50866652!
reportAWithdrawWithValue: aValue
	
! !
!TransferNet methodsFor: 'report' stamp: 'JRC 6/2/2021 17:11:59' prior: 50865597 overrides: 50866661!
report

	TransferNetValue := 0
	! !

Report subclass: #TransferNet
	instanceVariableNames: 'transferNetValue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'JRC 6/2/2021 17:13:21'!
Report subclass: #TransferNet
	instanceVariableNames: 'transferNetValue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferNet methodsFor: 'report' stamp: 'JRC 6/2/2021 17:13:29' prior: 50866788 overrides: 50866661!
report

	transferNetValue := 0
	! !
!TransferNet methodsFor: 'report' stamp: 'JRC 6/2/2021 17:13:37' prior: 50866805 overrides: 50866661!
report

	transferNetValue := 0
	
	! !
!TransferNet methodsFor: 'report' stamp: 'JRC 6/2/2021 17:13:54' prior: 50866810 overrides: 50866661!
report

	^transferNetValue := 0
	
! !
!TransferNet methodsFor: 'report' stamp: 'JRC 6/2/2021 17:14:13' prior: 50866815 overrides: 50866661!
report

	transferNetValue := 0.
	
	account sendTransactionsForReport: self.! !
!TransferNet methodsFor: 'report' stamp: 'JRC 6/2/2021 17:14:31' prior: 50866820 overrides: 50866661!
report

	transferNetValue := 0.
	
	account sendTransactionsForReport: self.
	
	^transferNetValue.! !
!TransferNet methodsFor: 'private' stamp: 'JRC 6/2/2021 17:14:57' prior: 50866755 overrides: 50866642!
reportADepositTransferenceWithValue: aValue
	
	transferNetValue + aValue ! !
!TransferNet methodsFor: 'private' stamp: 'JRC 6/2/2021 17:15:08' prior: 50866766 overrides: 50866647!
reportAWithdrawTransferenceWithValue: aValue
	
	transferNetValue +aValue ! !
!TransferNet methodsFor: 'private' stamp: 'JRC 6/2/2021 17:15:12' prior: 50866839 overrides: 50866647!
reportAWithdrawTransferenceWithValue: aValue
	
	transferNetValue + aValue ! !
!TransferNet methodsFor: 'private' stamp: 'JRC 6/2/2021 17:15:21' prior: 50866845 overrides: 50866647!
reportAWithdrawTransferenceWithValue: aValue
	
	transferNetValue - aValue ! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/2/2021 17:15:34'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/2/2021 17:15:34'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/2/2021 17:15:34'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/2/2021 17:15:34'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/2/2021 17:15:34'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/2/2021 17:15:34'!
FAILURE!

!testRun: #ReportTest #test06 stamp: 'JRC 6/2/2021 17:15:34'!
FAILURE!
!TransferNet methodsFor: 'private' stamp: 'JRC 6/2/2021 17:16:04' prior: 50866833 overrides: 50866642!
reportADepositTransferenceWithValue: aValue
	
	transferNetValue := transferNetValue + aValue ! !
!TransferNet methodsFor: 'private' stamp: 'JRC 6/2/2021 17:16:11' prior: 50866851 overrides: 50866647!
reportAWithdrawTransferenceWithValue: aValue
	
	transferNetValue := transferNetValue - aValue ! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/2/2021 17:16:22'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/2/2021 17:16:22'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/2/2021 17:16:22'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/2/2021 17:16:22'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/2/2021 17:16:22'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/2/2021 17:16:22'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/2/2021 17:16:43'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/2/2021 17:16:43'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/2/2021 17:16:43'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/2/2021 17:16:43'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/2/2021 17:16:43'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/2/2021 17:16:43'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 17:20:33'!
test07AccountSummary

	| anPortfolio anAccount anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/2/2021 17:24:47' prior: 50866915!
test07AccountSummary

	| aPortfolio anAccount result aPortfolioSummaryReport |
	anAccount := ReceptiveAccount new.
	aPortfolio := Portfolio with: anAccount.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: aPortfolioSummaryReport.! !

!testRun: #ReportTest #test07AccountSummary stamp: 'JRC 6/2/2021 17:25:09'!
ERROR!

!testRun: #ReportTest #test07AccountSummary stamp: 'JRC 6/2/2021 17:25:09'!
ERROR!
!ReceptiveAccount methodsFor: 'private' stamp: 'JRC 6/2/2021 17:25:48' prior: 50866715!
sendTransactionsForReport: aReport

	self transactions do: [:aTransaction |
		aTransaction reportFor: aReport
		]! !
!Account methodsFor: 'private' stamp: 'JRC 6/2/2021 17:25:52'!
sendTransactionsForReport: aReport

	self transactions do: [:aTransaction |
		aTransaction reportFor: aReport
		]! !

!methodRemoval: ReceptiveAccount #sendTransactionsForReport: stamp: 'JRC 6/2/2021 17:25:52'!
sendTransactionsForReport: aReport

	self transactions do: [:aTransaction |
		aTransaction reportFor: aReport
		]!

!testRun: #ReportTest #test07AccountSummary stamp: 'JRC 6/2/2021 17:26:04'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/2/2021 17:26:15'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/2/2021 17:26:15'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/2/2021 17:26:15'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/2/2021 17:26:15'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/2/2021 17:26:15'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/2/2021 17:26:15'!
PASSED!

!testRun: #ReportTest #test07AccountSummary stamp: 'JRC 6/2/2021 17:26:15'!
PASSED!

----SNAPSHOT----(2 June 2021 17:26:49) CuisUniversity-4532.image priorSource: 17092779!

anAccount := ReceptiveAccount new.
anAccount2 := ReceptiveAccount new.
aDeposit := Deposit register: 100 on: anAccount.
aDeposit := Deposit register: 69 on: anAccount2.
aDeposit := Deposit register: 36 on: anAccount2.
aDeposit := Deposit register: 1008 on: anAccount.
	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.!

(AccountSummary for: aPortfolio) report.!

anAccount := ReceptiveAccount new.
anAccount2 := ReceptiveAccount new.
aDeposit := Deposit register: 100 on: anAccount.
aDeposit := Deposit register: 69 on: anAccount2.
aWithdraw := Withdraw register: 36 on: anAccount2.
aWithdraw := Withdraw register: 1008 on: anAccount.

	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	
	!

anAccount := ReceptiveAccount new.
anAccount2 := ReceptiveAccount new.
aDeposit := Deposit register: 100 on: anAccount.
aDeposit := Deposit register: 69 on: anAccount2.
aWithdraw := Withdraw register: 360 on: anAccount2.
aWithdraw := Withdraw register: 1000 on: anAccount.
aTransference := Transference register: 420 from: anAccount to: anAccount2.

	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/2/2021 17:39:33'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/2/2021 17:39:33'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/2/2021 17:39:33'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/2/2021 17:39:33'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/2/2021 17:39:33'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/2/2021 17:39:33'!
PASSED!

!testRun: #ReportTest #test07AccountSummary stamp: 'JRC 6/2/2021 17:39:33'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/2/2021 17:40:25'!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio anAccount result aPortfolioSummaryReport |
	anAccount := ReceptiveAccount new.
	aPortfolio := Portfolio with: anAccount.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: aPortfolioSummaryReport.! !

!methodRemoval: ReportTest #test07AccountSummary stamp: 'JRC 6/2/2021 17:40:25'!
test07AccountSummary

	| aPortfolio anAccount result aPortfolioSummaryReport |
	anAccount := ReceptiveAccount new.
	aPortfolio := Portfolio with: anAccount.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: aPortfolioSummaryReport.!

anAccount := ReceptiveAccount new.
anAccount2 := ReceptiveAccount new.
aDeposit := Deposit register: 100 on: anAccount.
aDeposit := Deposit register: 69 on: anAccount2.
aWithdraw := Withdraw register: 360 on: anAccount2.
aWithdraw := Withdraw register: 1000 on: anAccount.
aTransference := Transference register: 420 from: anAccount to: anAccount2.

	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/2/2021 17:47:08' prior: 50867046!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport anAccount anAccount2 result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	Deposit register: 100 on: anAccount.
	Deposit register: 69 on: anAccount2.
	Withdraw register: 360 on: anAccount2.
	Withdraw register: 1000 on: anAccount.
	Transference register: 420 from: anAccount to: anAccount2.

	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 100'. 
	result add: 'Extracción por 1000'.
	result add: 'Salida por transferencia de 420'.
	result add: 'Depósito por 69'.
	result add: 'Extracción por 360'.
	result add: 'Entrada por transferencia de 420'.
	result add: 'Balance = -1191'.
	
	self assert: result equals: aPortfolioSummaryReport.
	! !

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/2/2021 17:47:22'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/2/2021 17:47:22'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/2/2021 17:47:22'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/2/2021 17:47:22'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/2/2021 17:47:22'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/2/2021 17:47:22'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/2/2021 17:47:22'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/2/2021 17:47:22'!
PASSED!

anAccount := ReceptiveAccount new.
anAccount2 := ReceptiveAccount new.
aDeposit := Deposit register: 1 on: anAccount.
aDeposit := Deposit register: 1 on: anAccount2.
aWithdraw := Withdraw register: 2 on: anAccount2.
aWithdraw := Withdraw register: 2 on: anAccount.
aTransference := Transference register: 100 from: anAccount to: anAccount2.

	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.!

anAccount := ReceptiveAccount new.
anAccount2 := ReceptiveAccount new.
aDeposit := Deposit register: 10 on: anAccount.
aDeposit := Deposit register: 10 on: anAccount2.
aWithdraw := Withdraw register: 20 on: anAccount2.
aWithdraw := Withdraw register: 20 on: anAccount.
aTransference := Transference register: 1000 from: anAccount to: anAccount2.

	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/2/2021 17:52:07' prior: 50867089!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport anAccount anAccount2 result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.

	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Balance = -20'.
	
	self assert: result equals: aPortfolioSummaryReport.
	! !

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/2/2021 17:52:09'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/2/2021 17:52:09'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/2/2021 17:52:09'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/2/2021 17:52:09'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/2/2021 17:52:09'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/2/2021 17:52:09'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/2/2021 17:52:09'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/2/2021 17:52:09'!
PASSED!
!Behavior method!
initialize
	[ super initialize ] valueCoveringAll:
		{20 to: 29}.
	(transactions _ [
	(OrderedCollection
		cover: (49 to: 65)
		declaredAt: (49 to: 65)) new ] valueCoveringAll:
		{67 to: 69})
		cover: (33 to: 44)
		declaredAt: (33 to: 44).! !
!Behavior method!
for: aReceptiveAccount
	^ [
	([
	(self coverAll:
		{27 to: 30}) new ] valueCoveringAll:
		{32 to: 34}) initializeFor:
		(aReceptiveAccount
			cover: (51 to: 67)
			declaredAt: (6 to: 22)) ] valueCoveringAll:
		{36 to: 49}.! !
!Behavior method!
initializeFor: aReceptiveAccount
	(account _ aReceptiveAccount
		cover: (46 to: 62)
		declaredAt: (16 to: 32))
		cover: (35 to: 41)
		declaredAt: (35 to: 41).! !
!Behavior method!
report
	| aBalance |
	(accountSummaryLines _ [
	(OrderedCollection
		cover: (47 to: 63)
		declaredAt: (47 to: 63)) new ] valueCoveringAll:
		{65 to: 67})
		cover: (24 to: 42)
		declaredAt: (24 to: 42).
	[
	(account
		cover: (73 to: 79)
		declaredAt: (73 to: 79)) sendTransactionsForReport:
		(self coverAll:
			{108 to: 111}) ] valueCoveringAll:
		{81 to: 106}.
	(aBalance _ [
	(account
		cover: (129 to: 135)
		declaredAt: (73 to: 79)) balance ] valueCoveringAll:
		{137 to: 143})
		cover: (117 to: 124)
		declaredAt: (11 to: 18).
	[
	(accountSummaryLines
		cover: (149 to: 167)
		declaredAt: (24 to: 42)) add:
		([
		('Balance = ' coverAll:
			{174 to: 185}) ,
			([
			(aBalance
				cover: (188 to: 195)
				declaredAt: (11 to: 18)) asString ] valueCoveringAll:
				{197 to: 204}) ] valueCoveringAll:
			{186 to: 186}) ] valueCoveringAll:
		{169 to: 172}.
	^ accountSummaryLines
		cover: (211 to: 229)
		declaredAt: (24 to: 42).! !
!Behavior method!
sendTransactionsForReport: aReport
	[
	([
	(self coverAll:
		{38 to: 41}) transactions ] valueCoveringAll:
		{43 to: 54}) do: [ :aTransaction |
		[
		(aTransaction
			cover: (79 to: 90)
			declaredAt: (62 to: 73)) reportFor:
			(aReport
				cover: (103 to: 109)
				declaredAt: (28 to: 34)) ] valueCoveringAll:
			{92 to: 101} ]] valueCoveringAll:
		{56 to: 58}.! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{36 to: 36})
		into: [ :currentBalance :transaction |
			[
			(transaction
				cover: (79 to: 89)
				declaredAt: (65 to: 75)) affectBalance:
				(currentBalance
					cover: (106 to: 119)
					declaredAt: (49 to: 62)) ] valueCoveringAll:
				{91 to: 104} ]] valueCoveringAll:
		{28 to: 34. 40 to: 44}.! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/2/2021 17:53:03'!
PASSED!
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
reportFor: aReport
	[
	(aReport
		cover: (22 to: 28)
		declaredAt: (12 to: 18)) reportADepositWithValue:
		(value
			cover: (55 to: 59)
			declaredAt: (55 to: 59)) ] valueCoveringAll:
		{30 to: 53}.! !
!Behavior method!
reportADepositWithValue: aValue
	[
	(accountSummaryLines
		cover: (35 to: 53)
		declaredAt: (35 to: 53)) add:
		([
		('Depósito por ' coverAll:
			{60 to: 74}) ,
			([
			(aValue
				cover: (77 to: 82)
				declaredAt: (26 to: 31)) asString ] valueCoveringAll:
				{84 to: 91}) ] valueCoveringAll:
			{75 to: 75}) ] valueCoveringAll:
		{55 to: 58}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReportTest #test02 stamp: 'JRC 6/2/2021 17:53:03'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
reportFor: aReport
	[
	(aReport
		cover: (22 to: 28)
		declaredAt: (12 to: 18)) reportAWithdrawWithValue:
		(value
			cover: (56 to: 60)
			declaredAt: (56 to: 60)) ] valueCoveringAll:
		{30 to: 54}.! !
!Behavior method!
reportAWithdrawWithValue: aValue
	[
	(accountSummaryLines
		cover: (36 to: 54)
		declaredAt: (36 to: 54)) add:
		([
		('Extracción por ' coverAll:
			{61 to: 77}) ,
			([
			(aValue
				cover: (80 to: 85)
				declaredAt: (27 to: 32)) asString ] valueCoveringAll:
				{87 to: 94}) ] valueCoveringAll:
			{78 to: 78}) ] valueCoveringAll:
		{56 to: 59}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) -
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReportTest #test03 stamp: 'JRC 6/2/2021 17:53:03'!
PASSED!
!Behavior method!
register: anAmount from: aReceptiveAccount to: aReceptiveAccount2
	[
	([
	(anAmount
		cover: (69 to: 76)
		declaredAt: (11 to: 18)) <=
		(0 coverAll:
			{80 to: 80}) ] valueCoveringAll:
		{78 to: 79}) ifTrue: [
		[
		(self coverAll:
			{90 to: 93}) error:
			([
			(self coverAll:
				{102 to: 105}) errorInvalidTransferenceValue ] valueCoveringAll:
				{107 to: 135}) ] valueCoveringAll:
			{95 to: 100} ]] valueCoveringAll:
		{82 to: 88}.
	[
	([
	(aReceptiveAccount
		cover: (141 to: 157)
		declaredAt: (26 to: 42)) =
		(aReceptiveAccount2
			cover: (161 to: 178)
			declaredAt: (48 to: 65)) ] valueCoveringAll:
		{159 to: 159}) ifTrue: [
		[
		(self coverAll:
			{188 to: 191}) error:
			([
			(self coverAll:
				{200 to: 203}) errorSameAccountTransference ] valueCoveringAll:
				{205 to: 232}) ] valueCoveringAll:
			{193 to: 198} ]] valueCoveringAll:
		{180 to: 186}.
	^ [
	([
	(self coverAll:
		{238 to: 241}) new ] valueCoveringAll:
		{243 to: 245})
		initializeRegister:
			(anAmount
				cover: (266 to: 273)
				declaredAt: (11 to: 18))
		from:
			(aReceptiveAccount
				cover: (281 to: 297)
				declaredAt: (26 to: 42))
		to:
			(aReceptiveAccount2
				cover: (303 to: 320)
				declaredAt: (48 to: 65)) ] valueCoveringAll:
		{247 to: 265. 275 to: 279. 299 to: 301}.! !
!Behavior method!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2
	(withdraw _ [
	(WithdrawTransference
		cover: (93 to: 112)
		declaredAt: (93 to: 112))
		registerOn:
			(aReceptiveAccount
				cover: (126 to: 142)
				declaredAt: (36 to: 52))
		for:
			(self coverAll:
				{149 to: 152}) ] valueCoveringAll:
		{114 to: 124. 144 to: 147})
		cover: (81 to: 88)
		declaredAt: (81 to: 88).
	(deposit _ [
	(DepositTransference
		cover: (167 to: 185)
		declaredAt: (167 to: 185))
		registerOn:
			(aReceptiveAccount2
				cover: (199 to: 216)
				declaredAt: (58 to: 75))
		for:
			(self coverAll:
				{223 to: 226}) ] valueCoveringAll:
		{187 to: 197. 218 to: 221})
		cover: (156 to: 162)
		declaredAt: (156 to: 162).
	(value _ anAmount
		cover: (239 to: 246)
		declaredAt: (21 to: 28))
		cover: (230 to: 234)
		declaredAt: (230 to: 234).! !
!Behavior method!
registerOn: aReceptiveAccount for: aTransference
	| transaction |
	(transaction _ [
	([
	(self coverAll:
		{86 to: 89}) new ] valueCoveringAll:
		{91 to: 93}) initializeFor:
		(aTransference
			cover: (110 to: 122)
			declaredAt: (36 to: 48)) ] valueCoveringAll:
		{95 to: 108})
		cover: (71 to: 81)
		declaredAt: (54 to: 64).
	[
	(aReceptiveAccount
		cover: (126 to: 142)
		declaredAt: (13 to: 29)) register:
		(transaction
			cover: (154 to: 164)
			declaredAt: (54 to: 64)) ] valueCoveringAll:
		{144 to: 152}.
	^ transaction
		cover: (173 to: 183)
		declaredAt: (54 to: 64).! !
!Behavior method!
initializeFor: aTransference
	(parent _ aTransference
		cover: (41 to: 53)
		declaredAt: (16 to: 28))
		cover: (31 to: 36)
		declaredAt: (31 to: 36).! !
!Behavior method!
reportFor: aReport
	[
	(aReport
		cover: (22 to: 28)
		declaredAt: (12 to: 18)) reportAWithdrawTransferenceWithValue:
		([
		(parent
			cover: (68 to: 73)
			declaredAt: (68 to: 73)) value ] valueCoveringAll:
			{75 to: 79}) ] valueCoveringAll:
		{30 to: 66}.! !
!Behavior method!
value
	^ value
		cover: (9 to: 13)
		declaredAt: (9 to: 13).! !
!Behavior method!
reportAWithdrawTransferenceWithValue: aValue
	[
	(accountSummaryLines
		cover: (48 to: 66)
		declaredAt: (48 to: 66)) add:
		([
		('Salida por transferencia de ' coverAll:
			{73 to: 102}) ,
			([
			(aValue
				cover: (105 to: 110)
				declaredAt: (39 to: 44)) asString ] valueCoveringAll:
				{112 to: 119}) ] valueCoveringAll:
			{103 to: 103}) ] valueCoveringAll:
		{68 to: 71}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) -
		([
		(parent
			cover: (40 to: 45)
			declaredAt: (40 to: 45)) value ] valueCoveringAll:
			{47 to: 51}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
reportFor: aReport
	[
	(aReport
		cover: (22 to: 28)
		declaredAt: (12 to: 18)) reportADepositTransferenceWithValue:
		([
		(parent
			cover: (67 to: 72)
			declaredAt: (67 to: 72)) value ] valueCoveringAll:
			{74 to: 78}) ] valueCoveringAll:
		{30 to: 65}.! !
!Behavior method!
reportADepositTransferenceWithValue: aValue
	[
	(accountSummaryLines
		cover: (47 to: 65)
		declaredAt: (47 to: 65)) add:
		([
		('Entrada por transferencia de ' coverAll:
			{72 to: 102}) ,
			([
			(aValue
				cover: (105 to: 110)
				declaredAt: (38 to: 43)) asString ] valueCoveringAll:
				{112 to: 119}) ] valueCoveringAll:
			{103 to: 103}) ] valueCoveringAll:
		{67 to: 70}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) +
		([
		(parent
			cover: (40 to: 45)
			declaredAt: (40 to: 45)) value ] valueCoveringAll:
			{47 to: 51}) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReportTest #test04 stamp: 'JRC 6/2/2021 17:53:04'!
PASSED!
!Behavior method!
report
	(transferNetValue _ 0 coverAll:
		{30 to: 30})
		cover: (10 to: 25)
		declaredAt: (10 to: 25).
	[
	(account
		cover: (36 to: 42)
		declaredAt: (36 to: 42)) sendTransactionsForReport:
		(self coverAll:
			{71 to: 74}) ] valueCoveringAll:
		{44 to: 69}.
	^ transferNetValue
		cover: (81 to: 96)
		declaredAt: (10 to: 25).! !

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/2/2021 17:53:04'!
PASSED!
!Behavior method!
reportAWithdrawTransferenceWithValue: aValue
	(transferNetValue _ [
	(transferNetValue
		cover: (49 to: 64)
		declaredAt: (49 to: 64)) -
		(aValue
			cover: (88 to: 93)
			declaredAt: (39 to: 44)) ] valueCoveringAll:
		{86 to: 86})
		cover: (69 to: 84)
		declaredAt: (49 to: 64).! !
!Behavior method!
reportADepositTransferenceWithValue: aValue
	(transferNetValue _ [
	(transferNetValue
		cover: (48 to: 63)
		declaredAt: (48 to: 63)) +
		(aValue
			cover: (87 to: 92)
			declaredAt: (38 to: 43)) ] valueCoveringAll:
		{85 to: 85})
		cover: (68 to: 83)
		declaredAt: (48 to: 63).! !

!testRun: #ReportTest #test06 stamp: 'JRC 6/2/2021 17:53:04'!
PASSED!
!Behavior method!
with: anAccount with: anotherAccount
	^ [ | cascadeReceiver |
	cascadeReceiver _ [
	(self coverAll:
		{41 to: 44}) new ] valueCoveringAll:
		{46 to: 48}.
	[ cascadeReceiver add: anAccount ] valueCoveringAll:
		{53 to: 66}.
	[ cascadeReceiver add: anotherAccount ] valueCoveringAll:
		{71 to: 89}.
	[ cascadeReceiver yourself ] valueCoveringAll:
		{94 to: 101} ] value.! !
!Behavior method!
initialize
	(accounts _ [
	(OrderedCollection
		cover: (26 to: 42)
		declaredAt: (26 to: 42)) new ] valueCoveringAll:
		{44 to: 46})
		cover: (14 to: 21)
		declaredAt: (14 to: 21).
	(parents _ [
	(OrderedCollection
		cover: (61 to: 77)
		declaredAt: (26 to: 42)) new ] valueCoveringAll:
		{79 to: 81})
		cover: (50 to: 56)
		declaredAt: (50 to: 56).! !
!Behavior method!
add: accountToAdd
	[
	(self coverAll:
		{21 to: 24}) assertCanAdd:
		(accountToAdd
			cover: (40 to: 51)
			declaredAt: (6 to: 17)) ] valueCoveringAll:
		{26 to: 38}.
	[
	(accounts
		cover: (58 to: 65)
		declaredAt: (58 to: 65)) add:
		(accountToAdd
			cover: (72 to: 83)
			declaredAt: (6 to: 17)) ] valueCoveringAll:
		{67 to: 70}.
	[
	(accountToAdd
		cover: (87 to: 98)
		declaredAt: (6 to: 17)) addedTo:
		(self coverAll:
			{109 to: 112}) ] valueCoveringAll:
		{100 to: 107}.! !
!Behavior method!
assertCanAdd: accountToAdd
	[
	([
	(self coverAll:
		{31 to: 34}) anyRootParentIsComposedBy:
		(accountToAdd
			cover: (63 to: 74)
			declaredAt: (15 to: 26)) ] valueCoveringAll:
		{36 to: 61}) ifTrue: [
		[
		(self coverAll:
			{87 to: 90}) signalCanNotAddAccount ] valueCoveringAll:
			{92 to: 113} ]] valueCoveringAll:
		{77 to: 83}.! !
!Behavior method!
anyRootParentIsComposedBy: accountToAdd
	^ [
	([
	(self coverAll:
		{44 to: 47}) rootParents ] valueCoveringAll:
		{49 to: 59}) anySatisfy: [ :aParent |
		[
		(aParent
			cover: (86 to: 92)
			declaredAt: (76 to: 82)) isComposedBy:
			(accountToAdd
				cover: (108 to: 119)
				declaredAt: (28 to: 39)) ] valueCoveringAll:
			{94 to: 106} ]] valueCoveringAll:
		{61 to: 71}.! !
!Behavior method!
rootParents
	| rootParents |
	(rootParents _ [
	(Set
		cover: (50 to: 52)
		declaredAt: (50 to: 52)) new ] valueCoveringAll:
		{54 to: 56})
		cover: (35 to: 45)
		declaredAt: (18 to: 28).
	[
	(self coverAll:
		{60 to: 63}) addRootParentsTo:
		(rootParents
			cover: (83 to: 93)
			declaredAt: (18 to: 28)) ] valueCoveringAll:
		{65 to: 81}.
	^ rootParents
		cover: (101 to: 111)
		declaredAt: (18 to: 28).! !
!Behavior method!
addRootParentsTo: rootParents
	[
	(parents
		cover: (33 to: 39)
		declaredAt: (33 to: 39))
		ifEmpty: [
			[
			(rootParents
				cover: (55 to: 65)
				declaredAt: (19 to: 29)) add:
				(self coverAll:
					{72 to: 75}) ] valueCoveringAll:
				{67 to: 70} ]
		ifNotEmpty: [
			[
			(parents
				cover: (96 to: 102)
				declaredAt: (33 to: 39)) do: [ :aParent |
				[
				(aParent
					cover: (121 to: 127)
					declaredAt: (111 to: 117)) addRootParentsTo:
					(rootParents
						cover: (147 to: 157)
						declaredAt: (19 to: 29)) ] valueCoveringAll:
					{129 to: 145} ]] valueCoveringAll:
				{104 to: 106} ]] valueCoveringAll:
		{44 to: 51. 82 to: 92}.! !
!Behavior method!
isComposedBy: anAccount
	^ [
	([
	(self coverAll:
		{29 to: 32}) =
		(anAccount
			cover: (36 to: 44)
			declaredAt: (15 to: 23)) ] valueCoveringAll:
		{34 to: 34}) or: [
		[
		(accounts
			cover: (52 to: 59)
			declaredAt: (52 to: 59)) anySatisfy: [ :composedAccount |
			[
			([
			(composedAccount
				cover: (95 to: 109)
				declaredAt: (76 to: 90)) isComposedBy:
				(anAccount
					cover: (125 to: 133)
					declaredAt: (15 to: 23)) ] valueCoveringAll:
				{111 to: 123}) or: [
				[
				(anAccount
					cover: (142 to: 150)
					declaredAt: (15 to: 23)) isComposedBy:
					(composedAccount
						cover: (166 to: 180)
						declaredAt: (76 to: 90)) ] valueCoveringAll:
					{152 to: 164} ]] valueCoveringAll:
				{136 to: 138} ]] valueCoveringAll:
			{61 to: 71} ]] valueCoveringAll:
		{46 to: 48}.! !
!Behavior method!
addedTo: aPortfolio
	^ self.! !
!Behavior method!
isComposedBy: anAccount
	^ [
	(self coverAll:
		{28 to: 31}) =
		(anAccount
			cover: (35 to: 43)
			declaredAt: (15 to: 23)) ] valueCoveringAll:
		{33 to: 33}.! !
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (53 to: 69)
		declaredAt: (53 to: 69)) new ] valueCoveringAll:
		{71 to: 73})
		cover: (37 to: 48)
		declaredAt: (19 to: 30).
	[
	(accounts
		cover: (77 to: 84)
		declaredAt: (77 to: 84)) do: [ :anAccount |
		[
		(anAccount
			cover: (105 to: 113)
			declaredAt: (93 to: 101)) addTransactionsTo:
			(transactions
				cover: (134 to: 145)
				declaredAt: (19 to: 30)) ] valueCoveringAll:
			{115 to: 132} ]] valueCoveringAll:
		{86 to: 88}.
	^ transactions
		cover: (154 to: 165)
		declaredAt: (19 to: 30).! !
!Behavior method!
addTransactionsTo: aCollectionOfTransactions
	[
	(aCollectionOfTransactions
		cover: (48 to: 72)
		declaredAt: (20 to: 44)) addAll:
		(transactions
			cover: (82 to: 93)
			declaredAt: (82 to: 93)) ] valueCoveringAll:
		{74 to: 80}.! !
!Behavior method!
balance
	^ [
	(accounts
		cover: (13 to: 20)
		declaredAt: (13 to: 20))
		sum: [ :anAccount |
			[
			(anAccount
				cover: (42 to: 50)
				declaredAt: (30 to: 38)) balance ] valueCoveringAll:
				{52 to: 58} ]
		ifEmpty: [
			0 coverAll:
				{73 to: 73} ]] valueCoveringAll:
		{22 to: 25. 62 to: 69}.! !

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/2/2021 17:53:04'!
PASSED!
!Behavior method!
initialize
	[ super initialize ] valueCoveringAll:
		{20 to: 29}.
	(transactions _ [
	(OrderedCollection
		cover: (49 to: 65)
		declaredAt: (49 to: 65)) new ] valueCoveringAll:
		{67 to: 69})
		cover: (33 to: 44)
		declaredAt: (33 to: 44).! !
!Behavior method!
for: aReceptiveAccount
	^ [
	([
	(self coverAll:
		{27 to: 30}) new ] valueCoveringAll:
		{32 to: 34}) initializeFor:
		(aReceptiveAccount
			cover: (51 to: 67)
			declaredAt: (6 to: 22)) ] valueCoveringAll:
		{36 to: 49}.! !
!Behavior method!
initializeFor: aReceptiveAccount
	(account _ aReceptiveAccount
		cover: (46 to: 62)
		declaredAt: (16 to: 32))
		cover: (35 to: 41)
		declaredAt: (35 to: 41).! !
!Behavior method!
report
	| aBalance |
	(accountSummaryLines _ [
	(OrderedCollection
		cover: (47 to: 63)
		declaredAt: (47 to: 63)) new ] valueCoveringAll:
		{65 to: 67})
		cover: (24 to: 42)
		declaredAt: (24 to: 42).
	[
	(account
		cover: (73 to: 79)
		declaredAt: (73 to: 79)) sendTransactionsForReport:
		(self coverAll:
			{108 to: 111}) ] valueCoveringAll:
		{81 to: 106}.
	(aBalance _ [
	(account
		cover: (129 to: 135)
		declaredAt: (73 to: 79)) balance ] valueCoveringAll:
		{137 to: 143})
		cover: (117 to: 124)
		declaredAt: (11 to: 18).
	[
	(accountSummaryLines
		cover: (149 to: 167)
		declaredAt: (24 to: 42)) add:
		([
		('Balance = ' coverAll:
			{174 to: 185}) ,
			([
			(aBalance
				cover: (188 to: 195)
				declaredAt: (11 to: 18)) asString ] valueCoveringAll:
				{197 to: 204}) ] valueCoveringAll:
			{186 to: 186}) ] valueCoveringAll:
		{169 to: 172}.
	^ accountSummaryLines
		cover: (211 to: 229)
		declaredAt: (24 to: 42).! !
!Behavior method!
sendTransactionsForReport: aReport
	[
	([
	(self coverAll:
		{38 to: 41}) transactions ] valueCoveringAll:
		{43 to: 54}) do: [ :aTransaction |
		[
		(aTransaction
			cover: (79 to: 90)
			declaredAt: (62 to: 73)) reportFor:
			(aReport
				cover: (103 to: 109)
				declaredAt: (28 to: 34)) ] valueCoveringAll:
			{92 to: 101} ]] valueCoveringAll:
		{56 to: 58}.! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{36 to: 36})
		into: [ :currentBalance :transaction |
			[
			(transaction
				cover: (79 to: 89)
				declaredAt: (65 to: 75)) affectBalance:
				(currentBalance
					cover: (106 to: 119)
					declaredAt: (49 to: 62)) ] valueCoveringAll:
				{91 to: 104} ]] valueCoveringAll:
		{28 to: 34. 40 to: 44}.! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/2/2021 17:53:42'!
PASSED!
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
reportFor: aReport
	[
	(aReport
		cover: (22 to: 28)
		declaredAt: (12 to: 18)) reportADepositWithValue:
		(value
			cover: (55 to: 59)
			declaredAt: (55 to: 59)) ] valueCoveringAll:
		{30 to: 53}.! !
!Behavior method!
reportADepositWithValue: aValue
	[
	(accountSummaryLines
		cover: (35 to: 53)
		declaredAt: (35 to: 53)) add:
		([
		('Depósito por ' coverAll:
			{60 to: 74}) ,
			([
			(aValue
				cover: (77 to: 82)
				declaredAt: (26 to: 31)) asString ] valueCoveringAll:
				{84 to: 91}) ] valueCoveringAll:
			{75 to: 75}) ] valueCoveringAll:
		{55 to: 58}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReportTest #test02 stamp: 'JRC 6/2/2021 17:53:42'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
reportFor: aReport
	[
	(aReport
		cover: (22 to: 28)
		declaredAt: (12 to: 18)) reportAWithdrawWithValue:
		(value
			cover: (56 to: 60)
			declaredAt: (56 to: 60)) ] valueCoveringAll:
		{30 to: 54}.! !
!Behavior method!
reportAWithdrawWithValue: aValue
	[
	(accountSummaryLines
		cover: (36 to: 54)
		declaredAt: (36 to: 54)) add:
		([
		('Extracción por ' coverAll:
			{61 to: 77}) ,
			([
			(aValue
				cover: (80 to: 85)
				declaredAt: (27 to: 32)) asString ] valueCoveringAll:
				{87 to: 94}) ] valueCoveringAll:
			{78 to: 78}) ] valueCoveringAll:
		{56 to: 59}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) -
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReportTest #test03 stamp: 'JRC 6/2/2021 17:53:43'!
PASSED!
!Behavior method!
register: anAmount from: aReceptiveAccount to: aReceptiveAccount2
	[
	([
	(anAmount
		cover: (69 to: 76)
		declaredAt: (11 to: 18)) <=
		(0 coverAll:
			{80 to: 80}) ] valueCoveringAll:
		{78 to: 79}) ifTrue: [
		[
		(self coverAll:
			{90 to: 93}) error:
			([
			(self coverAll:
				{102 to: 105}) errorInvalidTransferenceValue ] valueCoveringAll:
				{107 to: 135}) ] valueCoveringAll:
			{95 to: 100} ]] valueCoveringAll:
		{82 to: 88}.
	[
	([
	(aReceptiveAccount
		cover: (141 to: 157)
		declaredAt: (26 to: 42)) =
		(aReceptiveAccount2
			cover: (161 to: 178)
			declaredAt: (48 to: 65)) ] valueCoveringAll:
		{159 to: 159}) ifTrue: [
		[
		(self coverAll:
			{188 to: 191}) error:
			([
			(self coverAll:
				{200 to: 203}) errorSameAccountTransference ] valueCoveringAll:
				{205 to: 232}) ] valueCoveringAll:
			{193 to: 198} ]] valueCoveringAll:
		{180 to: 186}.
	^ [
	([
	(self coverAll:
		{238 to: 241}) new ] valueCoveringAll:
		{243 to: 245})
		initializeRegister:
			(anAmount
				cover: (266 to: 273)
				declaredAt: (11 to: 18))
		from:
			(aReceptiveAccount
				cover: (281 to: 297)
				declaredAt: (26 to: 42))
		to:
			(aReceptiveAccount2
				cover: (303 to: 320)
				declaredAt: (48 to: 65)) ] valueCoveringAll:
		{247 to: 265. 275 to: 279. 299 to: 301}.! !
!Behavior method!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2
	(withdraw _ [
	(WithdrawTransference
		cover: (93 to: 112)
		declaredAt: (93 to: 112))
		registerOn:
			(aReceptiveAccount
				cover: (126 to: 142)
				declaredAt: (36 to: 52))
		for:
			(self coverAll:
				{149 to: 152}) ] valueCoveringAll:
		{114 to: 124. 144 to: 147})
		cover: (81 to: 88)
		declaredAt: (81 to: 88).
	(deposit _ [
	(DepositTransference
		cover: (167 to: 185)
		declaredAt: (167 to: 185))
		registerOn:
			(aReceptiveAccount2
				cover: (199 to: 216)
				declaredAt: (58 to: 75))
		for:
			(self coverAll:
				{223 to: 226}) ] valueCoveringAll:
		{187 to: 197. 218 to: 221})
		cover: (156 to: 162)
		declaredAt: (156 to: 162).
	(value _ anAmount
		cover: (239 to: 246)
		declaredAt: (21 to: 28))
		cover: (230 to: 234)
		declaredAt: (230 to: 234).! !
!Behavior method!
registerOn: aReceptiveAccount for: aTransference
	| transaction |
	(transaction _ [
	([
	(self coverAll:
		{86 to: 89}) new ] valueCoveringAll:
		{91 to: 93}) initializeFor:
		(aTransference
			cover: (110 to: 122)
			declaredAt: (36 to: 48)) ] valueCoveringAll:
		{95 to: 108})
		cover: (71 to: 81)
		declaredAt: (54 to: 64).
	[
	(aReceptiveAccount
		cover: (126 to: 142)
		declaredAt: (13 to: 29)) register:
		(transaction
			cover: (154 to: 164)
			declaredAt: (54 to: 64)) ] valueCoveringAll:
		{144 to: 152}.
	^ transaction
		cover: (173 to: 183)
		declaredAt: (54 to: 64).! !
!Behavior method!
initializeFor: aTransference
	(parent _ aTransference
		cover: (41 to: 53)
		declaredAt: (16 to: 28))
		cover: (31 to: 36)
		declaredAt: (31 to: 36).! !
!Behavior method!
reportFor: aReport
	[
	(aReport
		cover: (22 to: 28)
		declaredAt: (12 to: 18)) reportAWithdrawTransferenceWithValue:
		([
		(parent
			cover: (68 to: 73)
			declaredAt: (68 to: 73)) value ] valueCoveringAll:
			{75 to: 79}) ] valueCoveringAll:
		{30 to: 66}.! !
!Behavior method!
value
	^ value
		cover: (9 to: 13)
		declaredAt: (9 to: 13).! !
!Behavior method!
reportAWithdrawTransferenceWithValue: aValue
	[
	(accountSummaryLines
		cover: (48 to: 66)
		declaredAt: (48 to: 66)) add:
		([
		('Salida por transferencia de ' coverAll:
			{73 to: 102}) ,
			([
			(aValue
				cover: (105 to: 110)
				declaredAt: (39 to: 44)) asString ] valueCoveringAll:
				{112 to: 119}) ] valueCoveringAll:
			{103 to: 103}) ] valueCoveringAll:
		{68 to: 71}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) -
		([
		(parent
			cover: (40 to: 45)
			declaredAt: (40 to: 45)) value ] valueCoveringAll:
			{47 to: 51}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
reportFor: aReport
	[
	(aReport
		cover: (22 to: 28)
		declaredAt: (12 to: 18)) reportADepositTransferenceWithValue:
		([
		(parent
			cover: (67 to: 72)
			declaredAt: (67 to: 72)) value ] valueCoveringAll:
			{74 to: 78}) ] valueCoveringAll:
		{30 to: 65}.! !
!Behavior method!
reportADepositTransferenceWithValue: aValue
	[
	(accountSummaryLines
		cover: (47 to: 65)
		declaredAt: (47 to: 65)) add:
		([
		('Entrada por transferencia de ' coverAll:
			{72 to: 102}) ,
			([
			(aValue
				cover: (105 to: 110)
				declaredAt: (38 to: 43)) asString ] valueCoveringAll:
				{112 to: 119}) ] valueCoveringAll:
			{103 to: 103}) ] valueCoveringAll:
		{67 to: 70}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) +
		([
		(parent
			cover: (40 to: 45)
			declaredAt: (40 to: 45)) value ] valueCoveringAll:
			{47 to: 51}) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReportTest #test04 stamp: 'JRC 6/2/2021 17:53:43'!
PASSED!
!Behavior method!
report
	(transferNetValue _ 0 coverAll:
		{30 to: 30})
		cover: (10 to: 25)
		declaredAt: (10 to: 25).
	[
	(account
		cover: (36 to: 42)
		declaredAt: (36 to: 42)) sendTransactionsForReport:
		(self coverAll:
			{71 to: 74}) ] valueCoveringAll:
		{44 to: 69}.
	^ transferNetValue
		cover: (81 to: 96)
		declaredAt: (10 to: 25).! !

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/2/2021 17:53:43'!
PASSED!
!Behavior method!
reportAWithdrawTransferenceWithValue: aValue
	(transferNetValue _ [
	(transferNetValue
		cover: (49 to: 64)
		declaredAt: (49 to: 64)) -
		(aValue
			cover: (88 to: 93)
			declaredAt: (39 to: 44)) ] valueCoveringAll:
		{86 to: 86})
		cover: (69 to: 84)
		declaredAt: (49 to: 64).! !
!Behavior method!
reportADepositTransferenceWithValue: aValue
	(transferNetValue _ [
	(transferNetValue
		cover: (48 to: 63)
		declaredAt: (48 to: 63)) +
		(aValue
			cover: (87 to: 92)
			declaredAt: (38 to: 43)) ] valueCoveringAll:
		{85 to: 85})
		cover: (68 to: 83)
		declaredAt: (48 to: 63).! !

!testRun: #ReportTest #test06 stamp: 'JRC 6/2/2021 17:53:43'!
PASSED!
!Behavior method!
with: anAccount with: anotherAccount
	^ [ | cascadeReceiver |
	cascadeReceiver _ [
	(self coverAll:
		{41 to: 44}) new ] valueCoveringAll:
		{46 to: 48}.
	[ cascadeReceiver add: anAccount ] valueCoveringAll:
		{53 to: 66}.
	[ cascadeReceiver add: anotherAccount ] valueCoveringAll:
		{71 to: 89}.
	[ cascadeReceiver yourself ] valueCoveringAll:
		{94 to: 101} ] value.! !
!Behavior method!
initialize
	(accounts _ [
	(OrderedCollection
		cover: (26 to: 42)
		declaredAt: (26 to: 42)) new ] valueCoveringAll:
		{44 to: 46})
		cover: (14 to: 21)
		declaredAt: (14 to: 21).
	(parents _ [
	(OrderedCollection
		cover: (61 to: 77)
		declaredAt: (26 to: 42)) new ] valueCoveringAll:
		{79 to: 81})
		cover: (50 to: 56)
		declaredAt: (50 to: 56).! !
!Behavior method!
add: accountToAdd
	[
	(self coverAll:
		{21 to: 24}) assertCanAdd:
		(accountToAdd
			cover: (40 to: 51)
			declaredAt: (6 to: 17)) ] valueCoveringAll:
		{26 to: 38}.
	[
	(accounts
		cover: (58 to: 65)
		declaredAt: (58 to: 65)) add:
		(accountToAdd
			cover: (72 to: 83)
			declaredAt: (6 to: 17)) ] valueCoveringAll:
		{67 to: 70}.
	[
	(accountToAdd
		cover: (87 to: 98)
		declaredAt: (6 to: 17)) addedTo:
		(self coverAll:
			{109 to: 112}) ] valueCoveringAll:
		{100 to: 107}.! !
!Behavior method!
assertCanAdd: accountToAdd
	[
	([
	(self coverAll:
		{31 to: 34}) anyRootParentIsComposedBy:
		(accountToAdd
			cover: (63 to: 74)
			declaredAt: (15 to: 26)) ] valueCoveringAll:
		{36 to: 61}) ifTrue: [
		[
		(self coverAll:
			{87 to: 90}) signalCanNotAddAccount ] valueCoveringAll:
			{92 to: 113} ]] valueCoveringAll:
		{77 to: 83}.! !
!Behavior method!
anyRootParentIsComposedBy: accountToAdd
	^ [
	([
	(self coverAll:
		{44 to: 47}) rootParents ] valueCoveringAll:
		{49 to: 59}) anySatisfy: [ :aParent |
		[
		(aParent
			cover: (86 to: 92)
			declaredAt: (76 to: 82)) isComposedBy:
			(accountToAdd
				cover: (108 to: 119)
				declaredAt: (28 to: 39)) ] valueCoveringAll:
			{94 to: 106} ]] valueCoveringAll:
		{61 to: 71}.! !
!Behavior method!
rootParents
	| rootParents |
	(rootParents _ [
	(Set
		cover: (50 to: 52)
		declaredAt: (50 to: 52)) new ] valueCoveringAll:
		{54 to: 56})
		cover: (35 to: 45)
		declaredAt: (18 to: 28).
	[
	(self coverAll:
		{60 to: 63}) addRootParentsTo:
		(rootParents
			cover: (83 to: 93)
			declaredAt: (18 to: 28)) ] valueCoveringAll:
		{65 to: 81}.
	^ rootParents
		cover: (101 to: 111)
		declaredAt: (18 to: 28).! !
!Behavior method!
addRootParentsTo: rootParents
	[
	(parents
		cover: (33 to: 39)
		declaredAt: (33 to: 39))
		ifEmpty: [
			[
			(rootParents
				cover: (55 to: 65)
				declaredAt: (19 to: 29)) add:
				(self coverAll:
					{72 to: 75}) ] valueCoveringAll:
				{67 to: 70} ]
		ifNotEmpty: [
			[
			(parents
				cover: (96 to: 102)
				declaredAt: (33 to: 39)) do: [ :aParent |
				[
				(aParent
					cover: (121 to: 127)
					declaredAt: (111 to: 117)) addRootParentsTo:
					(rootParents
						cover: (147 to: 157)
						declaredAt: (19 to: 29)) ] valueCoveringAll:
					{129 to: 145} ]] valueCoveringAll:
				{104 to: 106} ]] valueCoveringAll:
		{44 to: 51. 82 to: 92}.! !
!Behavior method!
isComposedBy: anAccount
	^ [
	([
	(self coverAll:
		{29 to: 32}) =
		(anAccount
			cover: (36 to: 44)
			declaredAt: (15 to: 23)) ] valueCoveringAll:
		{34 to: 34}) or: [
		[
		(accounts
			cover: (52 to: 59)
			declaredAt: (52 to: 59)) anySatisfy: [ :composedAccount |
			[
			([
			(composedAccount
				cover: (95 to: 109)
				declaredAt: (76 to: 90)) isComposedBy:
				(anAccount
					cover: (125 to: 133)
					declaredAt: (15 to: 23)) ] valueCoveringAll:
				{111 to: 123}) or: [
				[
				(anAccount
					cover: (142 to: 150)
					declaredAt: (15 to: 23)) isComposedBy:
					(composedAccount
						cover: (166 to: 180)
						declaredAt: (76 to: 90)) ] valueCoveringAll:
					{152 to: 164} ]] valueCoveringAll:
				{136 to: 138} ]] valueCoveringAll:
			{61 to: 71} ]] valueCoveringAll:
		{46 to: 48}.! !
!Behavior method!
addedTo: aPortfolio
	^ self.! !
!Behavior method!
isComposedBy: anAccount
	^ [
	(self coverAll:
		{28 to: 31}) =
		(anAccount
			cover: (35 to: 43)
			declaredAt: (15 to: 23)) ] valueCoveringAll:
		{33 to: 33}.! !
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (53 to: 69)
		declaredAt: (53 to: 69)) new ] valueCoveringAll:
		{71 to: 73})
		cover: (37 to: 48)
		declaredAt: (19 to: 30).
	[
	(accounts
		cover: (77 to: 84)
		declaredAt: (77 to: 84)) do: [ :anAccount |
		[
		(anAccount
			cover: (105 to: 113)
			declaredAt: (93 to: 101)) addTransactionsTo:
			(transactions
				cover: (134 to: 145)
				declaredAt: (19 to: 30)) ] valueCoveringAll:
			{115 to: 132} ]] valueCoveringAll:
		{86 to: 88}.
	^ transactions
		cover: (154 to: 165)
		declaredAt: (19 to: 30).! !
!Behavior method!
addTransactionsTo: aCollectionOfTransactions
	[
	(aCollectionOfTransactions
		cover: (48 to: 72)
		declaredAt: (20 to: 44)) addAll:
		(transactions
			cover: (82 to: 93)
			declaredAt: (82 to: 93)) ] valueCoveringAll:
		{74 to: 80}.! !
!Behavior method!
balance
	^ [
	(accounts
		cover: (13 to: 20)
		declaredAt: (13 to: 20))
		sum: [ :anAccount |
			[
			(anAccount
				cover: (42 to: 50)
				declaredAt: (30 to: 38)) balance ] valueCoveringAll:
				{52 to: 58} ]
		ifEmpty: [
			0 coverAll:
				{73 to: 73} ]] valueCoveringAll:
		{22 to: 25. 62 to: 69}.! !

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/2/2021 17:53:43'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/2/2021 17:57:22'!
test08TransferNetWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport anAccount anAccount2 result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.

	aPortfolio := Portfolio with: anAccount.
	aPortfolioSummaryReport := (TransferNet for: aPortfolio) report.
	
	result := -1000.
	
	self assert: result equals: aPortfolioSummaryReport.
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/2/2021 17:57:37' prior: 50868346!
test08TransferNetWorksWithPortfolio

	| aPortfolio aTransferNetReport anAccount anAccount2 result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.

	aPortfolio := Portfolio with: anAccount.
	aTransferNetReport := (TransferNet for: aPortfolio) report.
	
	result := -1000.
	
	self assert: result equals: aTransferNetReport.
	! !

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/2/2021 17:57:40'!
PASSED!

----SNAPSHOT----(2 June 2021 18:11:36) CuisUniversity-4532.image priorSource: 17130706!

----SNAPSHOT----(2 June 2021 18:29:02) CuisUniversity-4532.image priorSource: 17175673!

----QUIT----(2 June 2021 18:29:59) CuisUniversity-4532.image priorSource: 17175762!

----STARTUP---- (3 June 2021 10:39:52) as C:\Users\recal\Desktop\windows64\CuisUniversity-4532.image!

!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 10:54:05'!
test09

! !

johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 11:01:28' prior: 50868402!
test09

	| angiesAccount childrenPortfolio johnsAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.


	
	! !

!classDefinition: #PortfolioTreeReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 11:05:04'!
Object subclass: #PortfolioTreeReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 11:04:49' prior: 50868407!
test09

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	
	

	
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 11:06:46' prior: 50868427!
test09

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'
	

	
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 11:10:18' prior: 50868444!
test09

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '	Cuenta de Angeles'.

	self assert: result equals: aPortfolioTreeReport.
	
	! !

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 11:11:40'!
ERROR!
!Account class methodsFor: 'instance creation' stamp: 'JRC 6/3/2021 11:12:03'!
named: aString 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeNamed: aString ! !
!Account class methodsFor: 'instance creation' stamp: 'JRC 6/3/2021 11:14:01' prior: 50868485!
named: aString 
	^self new initializeNamed: aString ! !

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 11:14:03'!
ERROR!

!classDefinition: #Account category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 11:14:15'!
Object subclass: #Account
	instanceVariableNames: 'string'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Account methodsFor: 'initialization' stamp: 'JRC 6/3/2021 11:14:15'!
initializeNamed: aString 
	self shouldBeImplemented.
	string := aString.! !
!Account class methodsFor: 'instance creation' stamp: 'JRC 6/3/2021 11:15:06' prior: 50868493!
named: aName
	^self new initializeNamed: aName! !

!classDefinition: #Account category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 11:17:22'!
Object subclass: #Account
	instanceVariableNames: 'string name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Account methodsFor: 'initialization' stamp: 'JRC 6/3/2021 11:17:20' prior: 50868507!
initializeNamed: aName 
	
	name := aName.
	self initialize.! !

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 11:17:25'!
ERROR!

Object subclass: #Account
	instanceVariableNames: 'name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Account category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 11:17:37'!
Object subclass: #Account
	instanceVariableNames: 'name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Account class methodsFor: 'instance creation' stamp: 'JRC 6/3/2021 11:17:56'!
named: aString with: aReceptiveAccount with: aReceptiveAccount3 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeNamed: aString with: aReceptiveAccount with: aReceptiveAccount3 ! !
!Account class methodsFor: 'instance creation' stamp: 'JRC 6/3/2021 11:22:58' prior: 50868543!
named: aName with: anAccount with: anAccount2
	
	^((self new initializeNamed: aName) add: anAccount) add: anAccount2; yourself.! !

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 11:23:29'!
ERROR!
!Account class methodsFor: 'instance creation' stamp: 'JRC 6/3/2021 11:24:13'!
named: aName with: anAccount
	
	^(self new initializeNamed: aName) add: anAccount; yourself.! !

Report subclass: #PortfolioTreeReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioTreeReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 11:25:24'!
Report subclass: #PortfolioTreeReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 11:26:56'!
ERROR!

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 11:27:15'!
ERROR!
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 11:27:38' overrides: 50866661!
report
	self shouldBeImplemented.! !

!classDefinition: #PortfolioTreeReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 11:35:16'!
Report subclass: #PortfolioTreeReport
	instanceVariableNames: 'treeReportLines'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTreeReport methodsFor: 'report' stamp: 'JRC 6/3/2021 11:35:13' prior: 50868586 overrides: 50866661!
report

	treeReportLines := OrderedCollection new.
	
	account XXX: self.
	
	^treeReportLines! !

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 11:35:21'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 11:36:25'!
XXX: aPortfolioTreeReport 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 11:38:13' prior: 50868607!
XXX: aPortfolioTreeReport 
	
	aPortfolioTreeReport registerPortfolioName: name.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 11:49:04'!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '	Cuenta de Angeles'.

	self assert: result equals: aPortfolioTreeReport.
	
	! !

!methodRemoval: ReportTest #test09 stamp: 'JRC 6/3/2021 11:49:04'!
test09

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '	Cuenta de Angeles'.

	self assert: result equals: aPortfolioTreeReport.
	
	!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 11:50:02'!
test09

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.

	self assert: result equals: aPortfolioTreeReport.
	
	! !

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 11:50:19'!
ERROR!

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 11:50:19'!
ERROR!
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 11:50:59'!
registerPortfolioName: aString 
	self shouldBeImplemented.! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 11:51:35' prior: 50868676!
registerPortfolioName: aName
	treeReportLines add: aName.
	! !

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 11:51:38'!
PASSED!

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 11:51:41'!
PASSED!

!methodRemoval: ReportTest #test10 stamp: 'JRC 6/3/2021 11:52:41'!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '	Cuenta de Angeles'.

	self assert: result equals: aPortfolioTreeReport.
	
	!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 11:52:49'!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '	Cuenta de Angeles'.

	self assert: result equals: aPortfolioTreeReport.
	! !

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 11:52:52'!
FAILURE!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 11:52:52'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:03:51' prior: 50868612!
XXX: aReport 
	
	aReport registerPortfolioName: name.
	
	aReport registerPortfolioChildren: accounts.! !

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 12:04:04'!
ERROR!

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 12:04:04'!
ERROR!
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:04:22'!
registerPortfolioChildren: anOrderedCollection 
	self shouldBeImplemented.! !

!classDefinition: #PortfolioTreeReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 12:08:00'!
Report subclass: #PortfolioTreeReport
	instanceVariableNames: 'treeReportLines level'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:08:07' prior: 50868748!
registerPortfolioChildren: anAccountList
		level := level+1.
		anAccountList do: [:anAccount |
		anAccount XXX: self
		].
		level := level-1.! !

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 12:08:11'!
ERROR!
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:09:12' overrides: 50865637!
initializeFor: aReceptiveAccount
	account := aReceptiveAccount.
	level := 0.! !
!AccountSummary methodsFor: 'report' stamp: 'JRC 6/3/2021 12:09:53' overrides: 50865637!
initializeFor: aReceptiveAccount
	account := aReceptiveAccount.! !
!PortfolioTreeReport methodsFor: 'initializate' stamp: 'JRC 6/3/2021 12:10:23' prior: 50868774 overrides: 50865637!
initializeFor: aReceptiveAccount
	account := aReceptiveAccount.! !
!Report methodsFor: 'initializate' stamp: 'JRC 6/3/2021 12:10:31' prior: 50865637!
initializeFor: aReceptiveAccount
	self subclassResponsibility ! !
!PortfolioTreeReport methodsFor: 'initializate' stamp: 'JRC 6/3/2021 12:11:07' prior: 50868786 overrides: 50868791!
initializeFor: aReceptiveAccount
	account := aReceptiveAccount.
	level := 0.! !
!TransferNet methodsFor: 'initializate' stamp: 'JRC 6/3/2021 12:11:17' overrides: 50868791!
initializeFor: aReceptiveAccount
	account := aReceptiveAccount.! !

!testRun: #TransferenceTest #test01TransferenceModifyBalanceCorrectly stamp: 'JRC 6/3/2021 12:11:23'!
PASSED!

!testRun: #TransferenceTest #test02TransferenceRegisterCorrectLegInAccounts stamp: 'JRC 6/3/2021 12:11:23'!
PASSED!

!testRun: #TransferenceTest #test03TransferenceLegCanReachTheirTransference stamp: 'JRC 6/3/2021 12:11:23'!
PASSED!

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegativeOrZero stamp: 'JRC 6/3/2021 12:11:23'!
PASSED!

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/3/2021 12:11:23'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'JRC 6/3/2021 12:11:29'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'JRC 6/3/2021 12:11:29'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'JRC 6/3/2021 12:11:29'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'JRC 6/3/2021 12:11:29'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'JRC 6/3/2021 12:11:29'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'JRC 6/3/2021 12:11:29'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'JRC 6/3/2021 12:11:29'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'JRC 6/3/2021 12:11:29'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'JRC 6/3/2021 12:11:29'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'JRC 6/3/2021 12:11:29'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'JRC 6/3/2021 12:11:29'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'JRC 6/3/2021 12:11:29'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'JRC 6/3/2021 12:11:30'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'JRC 6/3/2021 12:11:30'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'JRC 6/3/2021 12:11:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JRC 6/3/2021 12:11:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JRC 6/3/2021 12:11:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JRC 6/3/2021 12:11:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JRC 6/3/2021 12:11:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JRC 6/3/2021 12:11:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JRC 6/3/2021 12:11:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JRC 6/3/2021 12:11:33'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 12:11:39'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 12:11:40'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 12:11:40'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 12:11:40'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 12:11:40'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 12:11:40'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 12:11:40'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 12:11:40'!
PASSED!

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 12:11:40'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:11:40'!
ERROR!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:11:40'!
ERROR!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:12:05'!
ERROR!
!ReceptiveAccount methodsFor: 'nil' stamp: 'JRC 6/3/2021 12:13:54'!
XXX: aReport 
	
	aReport registerPortfolioName: name.
	
! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:14:50'!
registerAccountName: aName
	treeReportLines add: aName.
	! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:14:50' prior: 50868938!
XXX: aReport 
	
	aReport registerAccountName: name.
	
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:14:50' prior: 50868737!
XXX: aReport 
	
	aReport registerAccountName: name.
	
	aReport registerPortfolioChildren: accounts.! !

!methodRemoval: PortfolioTreeReport #registerPortfolioName: stamp: 'JRC 6/3/2021 12:14:50'!
registerPortfolioName: aName
	treeReportLines add: aName.
	!
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:15:49' prior: 50868943!
registerAccountName: aName
	treeReportLines add: aName.
	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:18:37' prior: 50868966!
registerAccountName: aName
	
	| TabulatedName |
	TabulatedName := aName.
	level timesRepeat: [' ',aName].
	
	treeReportLines add: TabulatedName.! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:19:13' prior: 50868972!
registerAccountName: aName
	
	| TabulatedName |
	TabulatedName := aName.
	
	level timesRepeat: [' ',TabulatedName].
	
	treeReportLines add: TabulatedName.! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:21:35' prior: 50868980!
registerAccountName: aName
	
	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aName.
	treeReportLines add: tabulatedName.! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:21:38' prior: 50868989!
registerAccountName: aName
	
	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName , aName.
	treeReportLines add: tabulatedName.! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:21:51' prior: 50868999!
registerAccountName: aName
	
	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aName.
	treeReportLines add: tabulatedName.! !

carlos  _ ''!

carlos  _ ''.
2 timesRepeat: [carlos _ carlos, 'e'].
carlos.!

carlos  _ ''.
2 timesRepeat: [carlos _ carlos, '	e'].
carlos. !

carlos  _ 'a'.
2 timesRepeat: [carlos _ carlos, '	'].
carlos. !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:23:35' prior: 50869009!
registerAccountName: aName
	
	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aName.
	treeReportLines add: tabulatedName.! !

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 12:24:07'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:24:11'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:27:28' prior: 50868711!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '	Cuenta de Angeles'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:28:20' prior: 50869040!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: 'Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '	Cuenta de Angeles'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:28:24'!
FAILURE!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:28:24'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:28:32' prior: 50869067!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '	Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '	Cuenta de Angeles'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:28:38' prior: 50869101!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '		Cuenta de Angeles'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:28:54'!
FAILURE!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:28:54'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:29:21' prior: 50869130!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '		Cuenta de Angeles'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:29:24'!
FAILURE!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:29:34'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:30:32' prior: 50869164!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeReport for: familyPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '		Cuenta de Angeles'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:30:33'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:31:26' prior: 50869198!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeReport for: familyPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '		Cuenta de Angeles'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:31:27'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 12:31:27'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 12:31:27'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 12:31:27'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 12:31:27'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 12:31:27'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 12:31:27'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 12:31:27'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 12:31:27'!
PASSED!

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 12:31:27'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:31:27'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:33:13' prior: 50869229!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result familyPortfolio myAccount pepeAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	pepeAccount := ReceptiveAccount named: 'Cuenta de pepe'.
	familyPortfolio add: pepeAccount.
	aPortfolioTreeReport := (PortfolioTreeReport for: familyPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '		Cuenta de Angeles'.
	result add: '	Cuenta de pepe'.
	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:33:20'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:33:52' prior: 50869285!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result familyPortfolio myAccount pepeAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	pepeAccount := ReceptiveAccount named: 'Cuenta de pepe'.
	familyPortfolio add: pepeAccount.
	aPortfolioTreeReport := (PortfolioTreeReport for: familyPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '		Cuenta de Angeles'.
	result add: '	Cuenta de pepe'.
	self assert: result equals: aPortfolioTreeReport.
	
	
! !

aPortfolioTreeReport!

self print
!

self at: 3
!

self at: 5
 !

aPortfolioTreeReport!

self at: 5!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:41:00'!
test11

	
	
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:41:28' prior: 50869357!
test11

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.

	self assert: result equals: aPortfolioTreeReport.
	
	
	
! !

!classDefinition: #PortfolioTreeSummaryReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 12:43:48'!
Report subclass: #PortfolioTreeSummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:43:34' prior: 50869361!
test11

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: 'Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
	
! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 12:43:55'!
ERROR!

!classDefinition: #PortfolioTreeSummaryReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 12:44:11'!
Report subclass: #PortfolioTreeSummaryReport
	instanceVariableNames: 'receptiveAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTreeSummaryReport methodsFor: 'initializate' stamp: 'JRC 6/3/2021 12:44:11' overrides: 50868791!
initializeFor: aReceptiveAccount 
	self shouldBeImplemented.
	receptiveAccount := aReceptiveAccount.! !
!PortfolioTreeSummaryReport methodsFor: 'initializate' stamp: 'JRC 6/3/2021 12:44:40' prior: 50869408 overrides: 50868791!
initializeFor: anAccount 
	
	receptiveAccount := anAccount.! !

!classDefinition: #PortfolioTreeSummaryReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 12:44:50'!
Report subclass: #PortfolioTreeSummaryReport
	instanceVariableNames: 'Account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 12:44:50' prior: 50869416 overrides: 50868791!
initializeFor: anAccount 
	
	Account := anAccount.! !
!PortfolioTreeSummaryReport methodsFor: 'initializate' stamp: 'JRC 6/3/2021 12:45:17' prior: 50869431 overrides: 50868791!
initializeFor: anAccount 
	
	account := anAccount.! !

Report subclass: #PortfolioTreeSummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioTreeSummaryReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 12:45:31'!
Report subclass: #PortfolioTreeSummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 12:45:36'!
ERROR!
!PortfolioTreeSummaryReport methodsFor: 'report' stamp: 'JRC 6/3/2021 12:45:55' overrides: 50866661!
report
	self shouldBeImplemented.! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 12:46:38'!
ERROR!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 12:46:38'!
ERROR!
!PortfolioTreeSummaryReport methodsFor: 'error handling' stamp: 'JRC 6/3/2021 12:46:45' overrides: 16881409!
error: aString 
	self shouldBeImplemented.! !

!testRun: #TransferenceTest #test01TransferenceModifyBalanceCorrectly stamp: 'JRC 6/3/2021 12:49:18'!
PASSED!

!testRun: #TransferenceTest #test02TransferenceRegisterCorrectLegInAccounts stamp: 'JRC 6/3/2021 12:49:18'!
PASSED!

!testRun: #TransferenceTest #test03TransferenceLegCanReachTheirTransference stamp: 'JRC 6/3/2021 12:49:18'!
PASSED!

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegativeOrZero stamp: 'JRC 6/3/2021 12:49:18'!
PASSED!

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/3/2021 12:49:18'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:49:38' prior: 50869382!
test11

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: 'Balance = 0'.

	"self assert: result equals: aPortfolioTreeReport."
	
	self assert: true
	
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:49:48' prior: 50869488!
test11

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: 'Balance = 0'.

	"self assert: result equals: aPortfolioTreeReport."
	self assert: false.
	
	
! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 12:49:52'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 12:49:52'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 12:49:52'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 12:49:52'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 12:49:52'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 12:49:52'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 12:49:52'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 12:49:52'!
PASSED!

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 12:49:52'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:49:52'!
PASSED!

!methodRemoval: PortfolioTreeSummaryReport #error: stamp: 'JRC 6/3/2021 12:50:21'!
error: aString 
	self shouldBeImplemented.!
!PortfolioTreeSummaryReport methodsFor: 'report' stamp: 'JRC 6/3/2021 12:50:43' prior: 50869457 overrides: 50866661!
report
	^self! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 12:50:46'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 12:50:46'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 12:50:47'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 12:50:47'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 12:50:47'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 12:50:47'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 12:50:47'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 12:50:47'!
PASSED!

!testRun: #ReportTest #test09 stamp: 'JRC 6/3/2021 12:50:47'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:50:47'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 12:50:47'!
FAILURE!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 12:50:47'!
FAILURE!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 12:50:57'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:51:17'!
test09TreeReport

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.

	self assert: result equals: aPortfolioTreeReport.
	
	! !

!methodRemoval: ReportTest #test09 stamp: 'JRC 6/3/2021 12:51:17'!
test09

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.

	self assert: result equals: aPortfolioTreeReport.
	
	!

----SNAPSHOT----(3 June 2021 12:51:29) CuisUniversity-4532.image priorSource: 17175851!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:52:35' prior: 50869503!
test11

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: 'Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 12:52:40'!
FAILURE!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 12:52:40'!
FAILURE!
!PortfolioTreeSummaryReport methodsFor: 'report' stamp: 'JRC 6/3/2021 12:54:24' prior: 50869548 overrides: 50866661!
report
	
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:55:00' prior: 50869612!
test11

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !
!PortfolioTreeSummaryReport methodsFor: 'report' stamp: 'JRC 6/3/2021 12:55:24' prior: 50869632 overrides: 50866661!
report
	account 
	! !
!PortfolioTreeSummaryReport methodsFor: 'report' stamp: 'JRC 6/3/2021 13:00:31' prior: 50869651 overrides: 50866661!
report
	|result  Summary tabulatedSummary|
	
	result :=  (PortfolioTreeReport for: account) report.
	Summary := (AccountSummary for: account) report.
	
	tabulatedSummary := OrderedCollection new.
	Summary do: [:SummaryLine | 
		tabulatedSummary add : ' ',SummaryLine]
	! !
!PortfolioTreeSummaryReport methodsFor: 'report' stamp: 'JRC 6/3/2021 13:01:10' prior: 50869656 overrides: 50866661!
report
	|result  Summary tabulatedSummary|
	
	result :=  (PortfolioTreeReport for: account) report.
	Summary := (AccountSummary for: account) report.
	tabulatedSummary := OrderedCollection new.
	
	Summary do: [:SummaryLine | 
		tabulatedSummary add : ' ',SummaryLine].
	
	result add: tabulatedSummary.
	^result.
	! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:01:16'!
ERROR!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:01:16'!
ERROR!
!PortfolioTreeSummaryReport methodsFor: 'report' stamp: 'JRC 6/3/2021 13:01:30' prior: 50869669 overrides: 50866661!
report
	|result  Summary tabulatedSummary|
	
	result :=  (PortfolioTreeReport for: account) report.
	Summary := (AccountSummary for: account) report.
	tabulatedSummary := OrderedCollection new.
	
	Summary do: [:SummaryLine | 
		tabulatedSummary add: ' ',SummaryLine].
	
	result add: tabulatedSummary.
	^result.
	! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:01:34'!
FAILURE!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:01:34'!
FAILURE!
!PortfolioTreeSummaryReport methodsFor: 'report' stamp: 'JRC 6/3/2021 13:02:26' prior: 50869687 overrides: 50866661!
report
	|result  Summary tabulatedSummary|
	
	result :=  (PortfolioTreeReport for: account) report.
	Summary := (AccountSummary for: account) report.
	tabulatedSummary := OrderedCollection new.
	
	Summary do: [:SummaryLine | 
		tabulatedSummary add: ' ',SummaryLine].
	
	result addAll: tabulatedSummary.
	^result.
	! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:02:35'!
FAILURE!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:02:37'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:02:44'!
FAILURE!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:02:44'!
FAILURE!
!PortfolioTreeSummaryReport methodsFor: 'report' stamp: 'JRC 6/3/2021 13:03:17' prior: 50869706 overrides: 50866661!
report
	|result  Summary tabulatedSummary|
	
	result :=  (PortfolioTreeReport for: account) report.
	Summary := (AccountSummary for: account) report.
	tabulatedSummary := OrderedCollection new.
	
	Summary do: [:SummaryLine | 
		tabulatedSummary add: '	',SummaryLine].
	
	result addAll: tabulatedSummary.
	^result.
	! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:03:22'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:03:35'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 13:05:43' prior: 50869635!
test11

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount |
	
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:14:24'!
FAILURE!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:14:24'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 13:15:43' prior: 50869746!
test11

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount |
	
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 13:05:43' prior: 50869771!
test11

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount |
	
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:16:22'!
FAILURE!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:16:22'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:55:00' prior: 50869791!
test11

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:17:09'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 13:17:53' prior: 50869816!
test11

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	johnsAccount := ReceptiveAccount  named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 12:55:00' prior: 50869833!
test11

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:19:02'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 13:19:07'!
test12

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 13:20:12'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 13:26:31' prior: 50869871!
test12

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '		Balance = 0'.
	result add: 'Cuenta de Angeles'.
	result add: '		Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 13:26:35'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 13:27:21' prior: 50869888!
test12

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '		Balance = 0'.
	result add: '	Cuenta de Angeles'.
	result add: '		Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!classDefinition: #PortfolioTreeSummaryReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 13:31:26'!
Report subclass: #PortfolioTreeSummaryReport
	instanceVariableNames: 'treeSummary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTreeSummaryReport methodsFor: 'report' stamp: 'JRC 6/3/2021 13:31:24' prior: 50869729 overrides: 50866661!
report
	
	
	treeSummary := OrderedCollection new.
	
	account YYY: self.
	
	^treeSummary.
	"|result  Summary tabulatedSummary|
	
	result :=  (PortfolioTreeReport for: account) report.
	Summary := (AccountSummary for: account) report.
	tabulatedSummary := OrderedCollection new.
	
	Summary do: [:SummaryLine | 
		tabulatedSummary add: '	',SummaryLine].
	
	result addAll: tabulatedSummary.
	^result.
	"! !

!classDefinition: #PortfolioTreeSummaryReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 13:31:48'!
Report subclass: #PortfolioTreeSummaryReport
	instanceVariableNames: 'treeSummary level'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTreeSummaryReport methodsFor: 'initializate' stamp: 'JRC 6/3/2021 13:31:46' prior: 50869437 overrides: 50868791!
initializeFor: anAccount 
	
	account := anAccount.
	level := 0.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 13:33:01'!
YYY: aReport 
	
	aReport registerPortfolio: self.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 13:33:58'!
YYY: aReport 
	
	aReport registerReceptiveAccount: self.
! !
!PortfolioTreeSummaryReport methodsFor: 'nil' stamp: 'JRC 6/3/2021 13:35:00'!
registerPortfolio: aPortfolio
! !
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 13:37:13' prior: 50869989!
registerPortfolio: aPortfolio

	"self registerAccountName: name.
	
	aReport registerPortfolioChildren: accounts."! !
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 13:39:15' prior: 50869994!
registerPortfolio: aPortfolio

	aPortfolio registerNameIn: self.
	"self registerAccountName: name.
	
	
	
	aReport registerPortfolioChildren: accounts."! !
!Account methodsFor: 'nil' stamp: 'JRC 6/3/2021 13:40:19'!
registerNameIn: aReport.
	aReport registerAccountName: name.! !
!Account methodsFor: 'private' stamp: 'JRC 6/3/2021 13:40:55'!
registerNameInReport: aReport.
	aReport registerAccountName: name.! !
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 13:40:55' prior: 50870002!
registerPortfolio: aPortfolio

	aPortfolio registerNameInReport: self.
	"self registerAccountName: name.
	
	
	
	aReport registerPortfolioChildren: accounts."! !

!methodRemoval: Account #registerNameIn: stamp: 'JRC 6/3/2021 13:40:55'!
registerNameIn: aReport.
	aReport registerAccountName: name.!
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 13:44:44' prior: 50870019!
registerPortfolio: aPortfolio

	aPortfolio registerNameInReport: self.
	aPortfolio registerChildrenInReport: self.
	aPortfolio registerBalanceInReport: self.
	
	
	
	"self registerAccountName: name.
	aReport registerPortfolioChildren: accounts."! !
!Portfolio methodsFor: 'nil' stamp: 'JRC 6/3/2021 13:48:03'!
registerChildrenInReport: aReport.

	aReport registerChildrenAccounts: accounts. ! !
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 13:48:48'!
registerChildrenAccounts: accounts. ! !

!methodRemoval: PortfolioTreeSummaryReport #registerChildrenAccounts: stamp: 'JRC 6/3/2021 13:49:31'!
registerChildrenAccounts: accounts. !
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 13:49:56'!
registerPortfolioChildren: anAccountList
		level := level+1.
		anAccountList do: [:anAccount |
		anAccount XXX: self
		].
		level := level-1.! !
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 13:50:03' prior: 50870057!
registerPortfolioChildren: anAccountList
		level := level+1.
		anAccountList do: [:anAccount |
		anAccount YYY: self
		].
		level := level-1.! !
!Portfolio methodsFor: 'private' stamp: 'JRC 6/3/2021 13:51:30' prior: 50870042!
registerChildrenInReport: aReport.

	aReport registerPortfolioChildren: accounts. 
	
! !
!Portfolio methodsFor: 'private' stamp: 'JRC 6/3/2021 13:53:40'!
registerBalanceInReport: aReport.! !
!Portfolio methodsFor: 'private' stamp: 'JRC 6/3/2021 13:54:16' prior: 50870078!
registerBalanceInReport: aReport.
	aReport registerBalanceInReport: self balance.! !
!Portfolio methodsFor: 'private' stamp: 'JRC 6/3/2021 13:54:46' prior: 50870082!
registerBalanceInReport: aReport.
	aReport registerBalance: self balance.! !
!PortfolioTreeSummaryReport methodsFor: 'nil' stamp: 'JRC 6/3/2021 13:55:43'!
registerBalance: aBalance
	
! !
!PortfolioTreeSummaryReport methodsFor: 'nil' stamp: 'JRC 6/3/2021 13:56:35'!
registerAccountName: aName
	
	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aName.
	treeSummary add: tabulatedName.! !
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 13:57:50' prior: 50870093!
registerBalance: aBalance
	treeSummary add: 'Balance = ', aBalance asString.
	
! !
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 13:58:04' prior: 50870107!
registerBalance: aBalance

	treeSummary add: 'Balance = ', aBalance asString.
	
! !
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 13:59:01' prior: 50870114!
registerBalance: aBalance
	|tabulatedBalance|
	tabulatedBalance := 'Balance = ', aBalance asString.
	"treeSummary add: "
	
! !
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 14:00:35' prior: 50870121!
registerBalance: aBalance


	"treeSummary add: "


	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, 'Balance = ', aBalance asString.
	treeSummary add: tabulatedName.
! !
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 14:00:46' prior: 50870129!
registerBalance: aBalance

	| tabulatedName |
	
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, 'Balance = ', aBalance asString.
	treeSummary add: tabulatedName.
! !

----SNAPSHOT----(3 June 2021 14:01:11) CuisUniversity-4532.image priorSource: 17214651!
!PortfolioTreeSummaryReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 14:21:54' prior: 50870141!
registerBalance: aBalance

	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, 'Balance = ', aBalance asString.
	treeSummary add: tabulatedName.
! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:24:49'!
tabulateWithLevel: aName

	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aName.
	treeSummary add: tabulatedName! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:24:49' prior: 50870097!
registerAccountName: aName
	
	self tabulateWithLevel: aName.! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:26:03' prior: 50870155!
registerBalance: aBalance
	
	|aBalanceValueLine|
	
	aBalanceValueLine := 'Balance = ', aBalance asString.

	self tabulateWithLevel: aBalanceValueLine.
	! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:28:18' prior: 50870165!
tabulateWithLevel: aName

	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aName.
	! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:28:56' prior: 50870175!
registerAccountName: aName
	
	|tabulatedName|
	
	tabulatedName := self tabulateWithLevel: aName.
	
	treeSummary add: tabulatedName.! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:29:09' prior: 50870189!
tabulateWithLevel: aName

	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aName.
	^tabulatedName .! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:29:12' prior: 50870206!
tabulateWithLevel: aName

	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aName.
	^tabulatedName.! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:30:00' prior: 50870181!
registerBalance: aBalance
	
	|aBalanceValueLine aTabulatedBalanceValueLine |
	
	aBalanceValueLine := 'Balance = ', aBalance asString.

	aTabulatedBalanceValueLine := self tabulateWithLevel: aBalanceValueLine.
	
	! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:30:16' prior: 50870224!
registerBalance: aBalance
	
	|aBalanceValueLine aTabulatedBalanceValueLine |
	
	aBalanceValueLine := 'Balance = ', aBalance asString.

	aTabulatedBalanceValueLine := self tabulateWithLevel: aBalanceValueLine.
	
	treeSummary add: aTabulatedBalanceValueLine.! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:30:36' prior: 50870215!
tabulateWithLevel: aLine

	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aLine.
	^tabulatedName.! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:31:25' prior: 50870234!
registerBalance: aBalance
	
	| aTabulatedBalanceValueLine |
	
	aTabulatedBalanceValueLine := self tabulateWithLevel: ('Balance = ', aBalance asString).
	
	treeSummary add: aTabulatedBalanceValueLine.! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:32:35'!
registerReceptiveAccount: anAccount
	! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:33:41' prior: 50870264!
registerReceptiveAccount: anAccount
	self registerAccountName: anAccount.
	self registerAccountSummaryFor: anAccount.! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:34:08' prior: 50870269!
registerReceptiveAccount: anAccount

	self registerAccountName: anAccount.
	self registerAccountSummaryFor: anAccount.! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:38:31'!
registerAccountSummaryFor: anAccount| anAccountSummaryReport tabulatedReport |
.
	
	level := level+1.
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	tabulatedReport := OrderedCollection new.
	
	anAccountSummaryReport do: [
		:aLine |
		tabulatedReport add: (self tabulateWithLevel: aLine)
		 ].
	level := level-1.
! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:38:47' prior: 50870283!
registerAccountSummaryFor: anAccount| anAccountSummaryReport tabulatedReport |
.
	level := level+1.
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	tabulatedReport := OrderedCollection new.
	
	anAccountSummaryReport do: [
		:aLine |
		tabulatedReport add: (self tabulateWithLevel: aLine)
		 ].
	level := level-1.
! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:39:26' prior: 50870297!
registerAccountSummaryFor: anAccount

	| anAccountSummaryReport tabulatedReport |

	level := level+1.
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	tabulatedReport := OrderedCollection new.
	
	anAccountSummaryReport do: [
		:aLine |
		tabulatedReport add: (self tabulateWithLevel: aLine)
		 ].
	level := level-1.
! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:40:33' prior: 50870065!
registerPortfolioChildren: anAccountList
		
		level := level+1.
		anAccountList do: [:anAccount |
		anAccount YYY: self
		].
		level := level-1.! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 14:40:48'!
FAILURE!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 14:40:48'!
FAILURE!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 14:41:04'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 14:41:05'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 14:41:05'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 14:41:05'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 14:41:05'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 14:41:05'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 14:41:05'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 14:41:05'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 14:41:05'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 14:41:05'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 14:41:05'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 14:41:05'!
FAILURE!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 14:41:05'!
ERROR!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 14:41:13'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 14:41:13'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 14:41:13'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 14:41:13'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 14:41:13'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 14:41:13'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 14:41:13'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 14:41:13'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 14:41:13'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 14:41:13'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 14:41:13'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 14:41:13'!
FAILURE!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 14:41:13'!
ERROR!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 14:41:18'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 14:41:40' prior: 50869855!
test11

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:42:36' prior: 50870255!
registerBalance: aBalance
	
	| aTabulatedBalanceValueLine |
	
	level := level+1.
	aTabulatedBalanceValueLine := self tabulateWithLevel: ('Balance = ', aBalance asString).
	treeSummary add: aTabulatedBalanceValueLine.
	level := level-1.
	
	
! !

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 14:42:55'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 14:43:02'!
ERROR!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 14:43:02'!
ERROR!
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:45:00' prior: 50870276!
registerReceptiveAccount: anAccount

	anAccount registerNameInReport: self.
	self registerAccountSummaryFor: anAccount.! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:45:48' prior: 50870436!
registerReceptiveAccount: anAccount

	anAccount registerNameInReport: self.
	anAccount registerAccountSummaryInReport: self.
! !

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 14:46:08'!
ERROR!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 14:46:18'!
registerAccountSummaryInReport: aPortfolioTreeSummaryReport 
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 14:47:06' prior: 50870452!
registerAccountSummaryInReport: aReport 
	
	aReport registerAccountSummaryFor: self.
	
	! !

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 14:47:10'!
FAILURE!
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:48:37' prior: 50870311!
registerAccountSummaryFor: anAccount

	| anAccountSummaryReport tabulatedReport |

	level := level+1.
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	tabulatedReport := OrderedCollection new.
	
	anAccountSummaryReport do: [
		:aLine |
		treeSummary add: (self tabulateWithLevel: aLine)
		 ].
	level := level-1.
! !
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 14:48:45' prior: 50870467!
registerAccountSummaryFor: anAccount

	| anAccountSummaryReport |

	level := level+1.
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	anAccountSummaryReport do: [
		:aLine |
		treeSummary add: (self tabulateWithLevel: aLine)
		 ].
	level := level-1.
! !

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 14:49:03'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 14:49:29'!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:johnsAccount with: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '		Balance = 0'.
	result add: '	Cuenta de Angeles'.
	result add: '		Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 14:50:45' prior: 50870494!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '		Balance = 0'.
	result add: '	Cuenta de Angeles'.
	result add: '		Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 14:53:45' prior: 50870518!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: 'Cuenta Mia'.
	result add: 'Balance = 0'.
	result add: 'Portfolio de hijos'.
	result add: 'Cuenta de Juan'.
	result add: '	Balance = 0'.
	result add: 'Cuenta de Angeles'.
	result add: 'Balance = 0'.
	result add: 'Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 14:54:09' prior: 50870548!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '	Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '	Cuenta de Juan'.
	result add: '	Balance = 0'.
	result add: '	Cuenta de Angeles'.
	result add: '	Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 14:54:51' prior: 50870581!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Balance = 0'.
	result add: '		Cuenta de Angeles'.
	result add: '			Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 14:55:35'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 14:55:35'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 14:55:35'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 14:55:35'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 14:55:35'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 14:55:35'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 14:55:35'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 14:55:35'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 14:55:35'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 14:55:35'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 14:55:35'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 14:55:35'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'JRC 6/3/2021 14:55:35'!
FAILURE!

!testRun: #ReportTest #test13 stamp: 'JRC 6/3/2021 14:55:35'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 14:56:36' prior: 50870614!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Balance = 0'.
	result add: '		Cuenta de Angeles'.
	result add: '			Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test13 stamp: 'JRC 6/3/2021 14:56:48'!
FAILURE!

!testRun: #ReportTest #test13 stamp: 'JRC 6/3/2021 14:56:48'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 14:57:20' prior: 50870681!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Balance = 0'.
	result add: '		Cuenta de Angeles'.
	result add: '			Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 14:58:14' prior: 50870719!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Balance = 0'.
	result add: '		Cuenta de Angeles'.
	result add: '			Balance = 0'.
	result add: '		Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!testRun: #ReportTest #test13 stamp: 'JRC 6/3/2021 14:58:17'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 14:58:32' prior: 50870752!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Balance = 0'.
	result add: '		Cuenta de Angeles'.
	result add: '			Balance = 0'.
	result add: '		Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 14:58:41' prior: 50869914!
test12

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Balance = 0'.
	result add: '		Cuenta de Angeles'.
	result add: '			Balance = 0'.
	result add: '		Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
! !

!methodRemoval: ReportTest #test13 stamp: 'JRC 6/3/2021 14:58:44'!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Balance = 0'.
	result add: '		Cuenta de Angeles'.
	result add: '			Balance = 0'.
	result add: '		Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 14:59:16'!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Balance = 0'.
	result add: '		Cuenta de Angeles'.
	result add: '			Balance = 0'.
	result add: '		Balance = 0'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:00:30' prior: 50870889!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	
	Deposit register: 3312  on: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Balance = 0'.
	result add: '		Cuenta de Angeles'.
	result add: '			Balance = 3312'.
	result add: '		Balance = 3312'.
	result add: '	Balance = 3312'.

	self assert: result equals: aPortfolioTreeReport.
	
! !

!testRun: #ReportTest #test13 stamp: 'JRC 6/3/2021 15:00:34'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:01:11' prior: 50870923!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	
	Deposit register: 3312  on: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Balance = 0'.
	result add: '		Cuenta de Angeles'.
	result add: '			Depósito por 3312'.
	result add: '			Balance = 3312'.
	result add: '		Balance = 3312'.
	result add: '	Balance = 3312'.

	self assert: result equals: aPortfolioTreeReport.
	
! !

!testRun: #ReportTest #test13 stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'JRC 6/3/2021 15:01:14'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:02:05' prior: 50870961!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	
	Withdraw register: 12  on: johnsAccount.
	Deposit register: 3312  on: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Balance = 0'.
	result add: '		Cuenta de Angeles'.
	result add: '			Depósito por 3312'.
	result add: '			Balance = 3312'.
	result add: '		Balance = 3312'.
	result add: '	Balance = 3312'.

	self assert: result equals: aPortfolioTreeReport.
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:02:44' prior: 50871032!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	
	Withdraw register: 12  on: johnsAccount.
	Deposit register: 3312  on: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: ''.
	result add: '			Balance = -12'.
	result add: '		Cuenta de Angeles'.
	result add: '			Depósito por 3312'.
	result add: '			Balance = 3312'.
	result add: '		Balance = 3312'.
	result add: '	Balance = 3312'.

	self assert: result equals: aPortfolioTreeReport.
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:03:18' prior: 50871070!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	
	Withdraw register: 12  on: johnsAccount.
	Deposit register: 3312  on: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: 'Extracción por 12'.
	result add: '			Balance = -12'.
	result add: '		Cuenta de Angeles'.
	result add: '			Depósito por 3312'.
	result add: '			Balance = 3312'.
	result add: '		Balance = 3312'.
	result add: '	Balance = 3312'.

	self assert: result equals: aPortfolioTreeReport.
	
! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:03:44' prior: 50871109!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	
	Withdraw register: 12  on: johnsAccount.
	Deposit register: 3312  on: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Extracción por 12'.
	result add: '			Balance = -12'.
	result add: '		Cuenta de Angeles'.
	result add: '			Depósito por 3312'.
	result add: '			Balance = 3312'.
	result add: '		Balance = 3300'.
	result add: '	Balance = 3300'.

	self assert: result equals: aPortfolioTreeReport.
	
! !

!testRun: #ReportTest #test13 stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'JRC 6/3/2021 15:03:47'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:04:18' prior: 50870822!
test12

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	
	Withdraw register: 12  on: johnsAccount.
	Deposit register: 3312  on: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Extracción por 12'.
	result add: '			Balance = -12'.
	result add: '		Cuenta de Angeles'.
	result add: '			Depósito por 3312'.
	result add: '			Balance = 3312'.
	result add: '		Balance = 3300'.
	result add: '	Balance = 3300'.

	self assert: result equals: aPortfolioTreeReport.
	
! !

!methodRemoval: ReportTest #test13 stamp: 'JRC 6/3/2021 15:04:23'!
test13

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	
	Withdraw register: 12  on: johnsAccount.
	Deposit register: 3312  on: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Extracción por 12'.
	result add: '			Balance = -12'.
	result add: '		Cuenta de Angeles'.
	result add: '			Depósito por 3312'.
	result add: '			Balance = 3312'.
	result add: '		Balance = 3300'.
	result add: '	Balance = 3300'.

	self assert: result equals: aPortfolioTreeReport.
	
!

----SNAPSHOT----(3 June 2021 15:04:49) CuisUniversity-4532.image priorSource: 17232008!

----QUIT----(3 June 2021 15:05:18) CuisUniversity-4532.image priorSource: 17268769!

----STARTUP---- (3 June 2021 15:05:33) as C:\Users\recal\Desktop\windows64\CuisUniversity-4532.image!

!PortfolioTreeReport methodsFor: 'nil' stamp: 'JRC 6/3/2021 15:11:18'!
registerPortfolio: aPortfolio

	aPortfolio registerNameInReport: self.
	aPortfolio  registerChildrenInReport: self.
! !
!Portfolio methodsFor: 'private' stamp: 'JRC 6/3/2021 15:11:38' prior: 50868954!
XXX: aReport 
	
	aReport registerAccountName: name.
	aReport registerPortfolioChildren: accounts.! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:11:46' prior: 50871308!
registerPortfolio: aPortfolio

	aPortfolio registerNameInReport: self.
	aPortfolio registerChildrenInReport: self.
! !
!Portfolio methodsFor: 'private' stamp: 'JRC 6/3/2021 15:11:59' prior: 50871315!
XXX: aReport
	
	aReport registerAccountName: name.
	aReport registerPortfolioChildren: accounts.! !
!PortfolioTreeReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:12:37' prior: 50868763!
registerPortfolioChildren: anAccountList

		level := level+1.
		anAccountList do: [:anAccount |
		anAccount XXX: self
		].
		level := level-1.! !
!PortfolioTreeReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:12:53' prior: 50871335!
registerPortfolioChildren: anAccountList

		level := level+1.
		anAccountList do: [:anAccount |
		anAccount YYY: self
		].
		level := level-1.! !
!PortfolioTreeReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:14:56'!
registerReceptiveAccount: anAccount
	anAccount registerNameInReport: self.! !
!PortfolioTreeReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:15:04' prior: 50871350!
registerReceptiveAccount: anAccount

	anAccount registerNameInReport: self.! !
!PortfolioTreeReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:16:15' prior: 50869026!
registerAccountName: aName
	
	|tabulatedName|
	
	tabulatedName := self tabulateWithLevel: aName.
	
	treeReportLines add: tabulatedName.! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:16:29'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:16:29'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:16:29'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:16:29'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:16:29'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:16:29'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:16:29'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:16:29'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:16:29'!
ERROR!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:16:29'!
ERROR!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:16:29'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:16:29'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:16:35'!
ERROR!
!PortfolioTreeReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:17:05'!
tabulateWithLevel: aLine

	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aLine.
	^tabulatedName.! !

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:17:11'!
ERROR!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:17:16'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:17:20'!
PASSED!

!classDefinition: #PortfolioReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:19:32'!
Report subclass: #PortfolioReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioTreeReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:19:32'!
PortfolioReport subclass: #PortfolioTreeReport
	instanceVariableNames: 'treeReportLines level'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

PortfolioReport subclass: #PortfolioTreeSummaryReport
	instanceVariableNames: 'treeSummary level'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioTreeSummaryReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:19:48'!
PortfolioReport subclass: #PortfolioTreeSummaryReport
	instanceVariableNames: 'treeSummary level'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioTreeReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:20:26'!
PortfolioReport subclass: #PortfolioTreeReport
	instanceVariableNames: 'treeReportLines'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioTreeSummaryReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:20:26'!
PortfolioReport subclass: #PortfolioTreeSummaryReport
	instanceVariableNames: 'treeSummary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:20:26'!
Report subclass: #PortfolioReport
	instanceVariableNames: 'level'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioTreeReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:21:12'!
PortfolioReport subclass: #PortfolioTreeReport
	instanceVariableNames: 'treeSummary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:21:12' prior: 50868599 overrides: 50866661!
report

	treeSummary := OrderedCollection new.
	
	account XXX: self.
	
	^treeSummary! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:21:12' prior: 50871362!
registerAccountName: aName
	
	|tabulatedName|
	
	tabulatedName := self tabulateWithLevel: aName.
	
	treeSummary add: tabulatedName.! !

!classDefinition: #PortfolioTreeReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:21:23'!
PortfolioReport subclass: #PortfolioTreeReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioTreeSummaryReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:21:23'!
PortfolioReport subclass: #PortfolioTreeSummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:21:24'!
Report subclass: #PortfolioReport
	instanceVariableNames: 'level treeSummary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:21:31'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:21:31'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:21:31'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:21:31'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:21:31'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:21:31'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:21:31'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:21:31'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:21:31'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:21:31'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:21:31'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:21:31'!
PASSED!
!PortfolioReport methodsFor: 'initializate' stamp: 'JRC 6/3/2021 15:21:53' overrides: 50868791!
initializeFor: anAccount 
	
	account := anAccount.
	level := 0.! !

!methodRemoval: PortfolioTreeSummaryReport #initializeFor: stamp: 'JRC 6/3/2021 15:21:53'!
initializeFor: anAccount 
	
	account := anAccount.
	level := 0.!

!methodRemoval: PortfolioTreeReport #initializeFor: stamp: 'JRC 6/3/2021 15:22:10'!
initializeFor: aReceptiveAccount
	account := aReceptiveAccount.
	level := 0.!
!PortfolioTreeSummaryReport methodsFor: 'report' stamp: 'JRC 6/3/2021 15:22:36' prior: 50869948 overrides: 50866661!
report
	
	
	treeSummary := OrderedCollection new.
	
	account YYY: self.
	
	^treeSummary.
! !
!PortfolioTreeReport methodsFor: 'report' stamp: 'JRC 6/3/2021 15:22:46' prior: 50871482 overrides: 50866661!
report

	treeSummary := OrderedCollection new.
	
	account YYY: self.
	
	^treeSummary! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:22:49'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:22:49'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:22:49'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:22:49'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:22:49'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:22:49'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:22:49'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:22:49'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:22:49'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:22:49'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:22:49'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:22:49'!
PASSED!
!PortfolioReport methodsFor: 'report' stamp: 'JRC 6/3/2021 15:23:05' overrides: 50866661!
report

	treeSummary := OrderedCollection new.
	
	account YYY: self.
	
	^treeSummary! !

!methodRemoval: PortfolioTreeReport #report stamp: 'JRC 6/3/2021 15:23:05'!
report

	treeSummary := OrderedCollection new.
	
	account YYY: self.
	
	^treeSummary!

!methodRemoval: PortfolioTreeSummaryReport #report stamp: 'JRC 6/3/2021 15:23:29'!
report
	
	
	treeSummary := OrderedCollection new.
	
	account YYY: self.
	
	^treeSummary.
!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:23:32'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:23:32'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:23:32'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:23:32'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:23:32'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:23:32'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:23:32'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:23:32'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:23:32'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:23:32'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:23:32'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:23:32'!
PASSED!
!PortfolioReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:23:47'!
registerAccountName: aName
	
	|tabulatedName|
	
	tabulatedName := self tabulateWithLevel: aName.
	
	treeSummary add: tabulatedName.! !

!methodRemoval: PortfolioTreeSummaryReport #registerAccountName: stamp: 'JRC 6/3/2021 15:23:48'!
registerAccountName: aName
	
	|tabulatedName|
	
	tabulatedName := self tabulateWithLevel: aName.
	
	treeSummary add: tabulatedName.!

!methodRemoval: PortfolioTreeReport #registerAccountName: stamp: 'JRC 6/3/2021 15:23:59'!
registerAccountName: aName
	
	|tabulatedName|
	
	tabulatedName := self tabulateWithLevel: aName.
	
	treeSummary add: tabulatedName.!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:24:05'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:24:05'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:24:05'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:24:05'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:24:05'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:24:05'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:24:05'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:24:05'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:24:05'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:24:06'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:24:06'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:24:06'!
PASSED!
!PortfolioReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:24:28'!
registerPortfolioChildren: anAccountList
		
		level := level+1.
		anAccountList do: [:anAccount |
		anAccount YYY: self
		].
		level := level-1.! !

!methodRemoval: PortfolioTreeSummaryReport #registerPortfolioChildren: stamp: 'JRC 6/3/2021 15:24:28'!
registerPortfolioChildren: anAccountList
		
		level := level+1.
		anAccountList do: [:anAccount |
		anAccount YYY: self
		].
		level := level-1.!

!methodRemoval: PortfolioTreeReport #registerPortfolioChildren: stamp: 'JRC 6/3/2021 15:24:35'!
registerPortfolioChildren: anAccountList

		level := level+1.
		anAccountList do: [:anAccount |
		anAccount YYY: self
		].
		level := level-1.!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:24:37'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:24:37'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:24:38'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:24:38'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:24:38'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:24:38'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:24:38'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:24:38'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:24:38'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:24:38'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:24:38'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:24:38'!
PASSED!
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:25:00' prior: 50870032!
registerPortfolio: aPortfolio

	aPortfolio registerNameInReport: self.
	aPortfolio registerChildrenInReport: self.
	aPortfolio registerBalanceInReport: self.
! !
!PortfolioReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:25:09'!
tabulateWithLevel: aLine

	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aLine.
	^tabulatedName.! !

!methodRemoval: PortfolioTreeSummaryReport #tabulateWithLevel: stamp: 'JRC 6/3/2021 15:25:09'!
tabulateWithLevel: aLine

	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aLine.
	^tabulatedName.!

!methodRemoval: PortfolioTreeReport #tabulateWithLevel: stamp: 'JRC 6/3/2021 15:25:16'!
tabulateWithLevel: aLine

	| tabulatedName |
	tabulatedName := ''.
	
	level timesRepeat: [tabulatedName := tabulatedName,'	'].
	tabulatedName := tabulatedName, aLine.
	^tabulatedName.!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:25:23'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:25:23'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:25:23'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:25:23'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:25:23'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:25:23'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:25:23'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:25:23'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:25:24'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:25:24'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:25:24'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:25:24'!
PASSED!
!PortfolioReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:28:31'!
withIncreasedLevel: aBlock
		
		level := level+1.
		aBlock value.
		level := level-1.! !
!PortfolioReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:29:10' prior: 50871706!
registerPortfolioChildren: anAccountList
		
		self withIncreasedLevel: [
			anAccountList do: [:anAccount |
			anAccount YYY: self
			].
		]
		! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:29:14'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:29:14'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:29:14'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:29:14'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:29:14'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:29:14'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:29:14'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:29:14'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:29:14'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:29:14'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:29:14'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:29:14'!
PASSED!
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:29:58' prior: 50870481!
registerAccountSummaryFor: anAccount

	| anAccountSummaryReport |

	self withIncreasedLevel: [
		anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
		anAccountSummaryReport do: [
			:aLine |
			treeSummary add: (self tabulateWithLevel: aLine)
			 ].
	].
! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:30:10'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:30:10'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:30:10'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:30:10'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:30:10'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:30:10'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:30:10'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:30:10'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:30:10'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:30:10'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:30:10'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:30:10'!
PASSED!
!PortfolioTreeSummaryReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:30:36' prior: 50870418!
registerBalance: aBalance
	
	| aTabulatedBalanceValueLine |
	
	self withIncreasedLevel: [
		aTabulatedBalanceValueLine := self tabulateWithLevel: ('Balance = ', aBalance asString).
		treeSummary add: aTabulatedBalanceValueLine.
	]
	
	
! !

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:30:39'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:30:39'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:30:39'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:30:39'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:30:39'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:30:39'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:30:39'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:30:39'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:30:39'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:30:39'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:30:39'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:30:39'!
PASSED!

!classDefinition: #TransferenceReport category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:31:53'!
Report subclass: #TransferenceReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:31:53'!
TransferenceReport subclass: #AccountSummary
	instanceVariableNames: 'accountSummaryLines'
	classVariableNames: 'AccountSummaryLines'
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

TransferenceReport subclass: #TransferNet
	instanceVariableNames: 'transferNetValue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:32:07'!
TransferenceReport subclass: #TransferNet
	instanceVariableNames: 'transferNetValue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferenceReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:33:44' overrides: 50866642!
reportADepositTransferenceWithValue: aValue
	
	self subclassResponsibility ! !
!TransferenceReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:34:02' overrides: 50866657!
reportADepositWithValue: aValue
	
	self subclassResponsibility ! !
!TransferenceReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:34:15' overrides: 50866647!
reportAWithdrawTransferenceWithValue: aValue
	
	self subclassResponsibility ! !
!TransferenceReport methodsFor: 'private' stamp: 'JRC 6/3/2021 15:34:25' overrides: 50866652!
reportAWithdrawWithValue: aValue
	
	self subclassResponsibility ! !

!methodRemoval: Report #reportAWithdrawWithValue: stamp: 'JRC 6/3/2021 15:34:33'!
reportAWithdrawWithValue: aValue
	
	self subclassResponsibility !

!methodRemoval: Report #reportAWithdrawTransferenceWithValue: stamp: 'JRC 6/3/2021 15:34:35'!
reportAWithdrawTransferenceWithValue: aValue
	
	self subclassResponsibility !

!methodRemoval: Report #reportADepositWithValue: stamp: 'JRC 6/3/2021 15:34:37'!
reportADepositWithValue: aValue
	
	self subclassResponsibility !

!methodRemoval: Report #reportADepositTransferenceWithValue: stamp: 'JRC 6/3/2021 15:34:39'!
reportADepositTransferenceWithValue: aValue
	
	self subclassResponsibility !
!TransferenceReport methodsFor: 'initializate' stamp: 'JRC 6/3/2021 15:35:29' overrides: 50868791!
initializeFor: aReceptiveAccount
	account := aReceptiveAccount.! !

!methodRemoval: AccountSummary #initializeFor: stamp: 'JRC 6/3/2021 15:35:29'!
initializeFor: aReceptiveAccount
	account := aReceptiveAccount.!

!methodRemoval: TransferNet #initializeFor: stamp: 'JRC 6/3/2021 15:35:36'!
initializeFor: aReceptiveAccount
	account := aReceptiveAccount.!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:35:41'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:35:41'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:35:41'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:35:41'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:35:41'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:35:41'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:35:42'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:35:42'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:35:42'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:35:42'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:35:42'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:35:42'!
PASSED!

!testRun: #TransferenceTest #test01TransferenceModifyBalanceCorrectly stamp: 'JRC 6/3/2021 15:35:46'!
PASSED!

!testRun: #TransferenceTest #test02TransferenceRegisterCorrectLegInAccounts stamp: 'JRC 6/3/2021 15:35:46'!
PASSED!

!testRun: #TransferenceTest #test03TransferenceLegCanReachTheirTransference stamp: 'JRC 6/3/2021 15:35:46'!
PASSED!

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegativeOrZero stamp: 'JRC 6/3/2021 15:35:46'!
PASSED!

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/3/2021 15:35:46'!
PASSED!
!Portfolio methodsFor: 'private' stamp: 'JRC 6/3/2021 15:38:12'!
registerAccountForPortfolioReport: aReport 
	
	aReport registerPortfolio: self.! !
!ReceptiveAccount methodsFor: 'private' stamp: 'JRC 6/3/2021 15:38:12'!
registerAccountForPortfolioReport: aReport 
	
	aReport registerReceptiveAccount: self.
! !
!PortfolioReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:38:12' prior: 50871829!
registerPortfolioChildren: anAccountList
		
		self withIncreasedLevel: [
			anAccountList do: [:anAccount |
			anAccount registerAccountForPortfolioReport: self
			].
		]
		! !
!PortfolioReport methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:38:12' prior: 50871609 overrides: 50866661!
report

	treeSummary := OrderedCollection new.
	
	account registerAccountForPortfolioReport: self.
	
	^treeSummary! !

!methodRemoval: Portfolio #YYY: stamp: 'JRC 6/3/2021 15:38:12'!
YYY: aReport 
	
	aReport registerPortfolio: self.!

!methodRemoval: ReceptiveAccount #YYY: stamp: 'JRC 6/3/2021 15:38:12'!
YYY: aReport 
	
	aReport registerReceptiveAccount: self.
!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:38:37'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:38:37'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:38:37'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:38:37'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:38:37'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:38:37'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:38:37'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:38:37'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:38:37'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:38:37'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:38:37'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:38:37'!
PASSED!

!methodRemoval: ReceptiveAccount #XXX: stamp: 'JRC 6/3/2021 15:38:43'!
XXX: aReport 
	
	aReport registerAccountName: name.
	
!

!methodRemoval: Portfolio #XXX: stamp: 'JRC 6/3/2021 15:38:50'!
XXX: aReport
	
	aReport registerAccountName: name.
	aReport registerPortfolioChildren: accounts.!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:38:56'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:38:56'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:38:56'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:38:56'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:38:56'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:38:56'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:38:56'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:38:56'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:38:56'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:38:56'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'JRC 6/3/2021 15:38:56'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:38:56'!
PASSED!

----SNAPSHOT----(3 June 2021 15:39:39) CuisUniversity-4532.image priorSource: 17268858!

----QUIT----(3 June 2021 15:40:10) CuisUniversity-4532.image priorSource: 17297175!

----STARTUP---- (3 June 2021 15:40:21) as C:\Users\recal\Desktop\windows64\CuisUniversity-4532.image!

!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:42:39' prior: 50865806!
test01TransferenceModifyBalanceCorrectly

	"| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 10 from: anAccount to: anAccount2.
	
	self assert: -10 equals: anAccount balance.
	self assert: 10 equals: anAccount2 balance."! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:42:44' prior: 50865829!
test02TransferenceRegisterCorrectLegInAccounts

"	| anAccount anAccount2 aTransference |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	self assert:  (anAccount hasRegistered: aTransference withdraw).
	self assert:  (anAccount2 hasRegistered: aTransference deposit)."! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:42:51' prior: 50865895!
test03TransferenceLegCanReachTheirTransference

"	| anAccount anAccount2 aTransference aTransferenceDeposit aTransferenceWithdraw |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	aTransferenceWithdraw := aTransference withdraw.
	aTransferenceDeposit :=  aTransference deposit.
	
	self assert: aTransferenceWithdraw parentTransference equals: aTransference.
	self assert: aTransferenceDeposit parentTransference equals: aTransference."
	
	
	! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:42:58' prior: 50866155!
test04TransferenceCanNotBeNegativeOrZero
"
	| anAccount anAccount2 |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].

	self should:[Transference register: 0 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].
	"
	
	! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:43:04' prior: 50866313!
test05TransferenceFromAndToCanNotBeTheSameAccount
	
	"| anAccount |
	anAccount := ReceptiveAccount new.

	self should:[Transference register: 10 from: anAccount to: anAccount.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorSameAccountTransference.
            ]."! !

!classDefinition: #TransferenceTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:43:34'!
TestCase subclass: #TransferenceTest
	instanceVariableNames: 'anAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferenceTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:43:35'!
TestCase subclass: #TransferenceTest
	instanceVariableNames: 'anAccount anAccount2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:43:30' prior: 50872197!
test01TransferenceModifyBalanceCorrectly

	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 10 from: anAccount to: anAccount2.
	
	self assert: -10 equals: anAccount balance.
	self assert: 10 equals: anAccount2 balance.! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:44:00' prior: 50872210!
test02TransferenceRegisterCorrectLegInAccounts

	|  aTransference |

	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	self assert:  (anAccount hasRegistered: aTransference withdraw).
	self assert:  (anAccount2 hasRegistered: aTransference deposit).! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:44:02' prior: 50872309!
test02TransferenceRegisterCorrectLegInAccounts

	| aTransference |

	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	self assert:  (anAccount hasRegistered: aTransference withdraw).
	self assert:  (anAccount2 hasRegistered: aTransference deposit).! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:44:06' prior: 50872321!
test02TransferenceRegisterCorrectLegInAccounts

	| aTransference |

	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	
	self assert:  (anAccount hasRegistered: aTransference withdraw).
	self assert:  (anAccount2 hasRegistered: aTransference deposit).! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:44:17' prior: 50872225!
test03TransferenceLegCanReachTheirTransference

	| aTransference aTransferenceDeposit aTransferenceWithdraw |

	
	aTransference := Transference register: 10 from: anAccount to: anAccount2.
	aTransferenceWithdraw := aTransference withdraw.
	aTransferenceDeposit :=  aTransference deposit.
	
	self assert: aTransferenceWithdraw parentTransference equals: aTransference.
	self assert: aTransferenceDeposit parentTransference equals: aTransference.
	
	
	! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:44:32' prior: 50872245!
test04TransferenceCanNotBeNegativeOrZero

	self should:[Transference register: -10 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].

	self should:[Transference register: 0 from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].
	
	
	! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:44:41' prior: 50872267!
test05TransferenceFromAndToCanNotBeTheSameAccount

	self should:[Transference register: 10 from: anAccount to: anAccount.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorSameAccountTransference.
            ].! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:45:00' overrides: 16927572!
setUp

	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:45:00' prior: 50872297!
test01TransferenceModifyBalanceCorrectly

	self setUp.
	
	Transference register: 10 from: anAccount to: anAccount2.
	
	self assert: -10 equals: anAccount balance.
	self assert: 10 equals: anAccount2 balance.! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:45:05' prior: 50872399!
test01TransferenceModifyBalanceCorrectly


	
	Transference register: 10 from: anAccount to: anAccount2.
	
	self assert: -10 equals: anAccount balance.
	self assert: 10 equals: anAccount2 balance.! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:45:07' prior: 50872409!
test01TransferenceModifyBalanceCorrectly

	Transference register: 10 from: anAccount to: anAccount2.
	
	self assert: -10 equals: anAccount balance.
	self assert: 10 equals: anAccount2 balance.! !

!testRun: #TransferenceTest #test01TransferenceModifyBalanceCorrectly stamp: 'JRC 6/3/2021 15:45:14'!
PASSED!

!testRun: #TransferenceTest #test02TransferenceRegisterCorrectLegInAccounts stamp: 'JRC 6/3/2021 15:45:14'!
PASSED!

!testRun: #TransferenceTest #test03TransferenceLegCanReachTheirTransference stamp: 'JRC 6/3/2021 15:45:14'!
PASSED!

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegativeOrZero stamp: 'JRC 6/3/2021 15:45:14'!
PASSED!

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/3/2021 15:45:14'!
PASSED!
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:49:58'!
testFailTransferenceWith: anErrorMessage registering: anAmount from: anAccountT to: anAccount2T

	self should:[Transference register: anAmount from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = anErrorMessage.
            ].! !

!classDefinition: #TransferenceTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:50:10'!
TestCase subclass: #TransferenceTest
	instanceVariableNames: 'Account anAccount2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:10' prior: 50872418!
test01TransferenceModifyBalanceCorrectly

	Transference register: 10 from: Account to: anAccount2.
	
	self assert: -10 equals: Account balance.
	self assert: 10 equals: anAccount2 balance.! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:10' prior: 50872345!
test03TransferenceLegCanReachTheirTransference

	| aTransference aTransferenceDeposit aTransferenceWithdraw |

	
	aTransference := Transference register: 10 from: Account to: anAccount2.
	aTransferenceWithdraw := aTransference withdraw.
	aTransferenceDeposit :=  aTransference deposit.
	
	self assert: aTransferenceWithdraw parentTransference equals: aTransference.
	self assert: aTransferenceDeposit parentTransference equals: aTransference.
	
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:10' prior: 50872381!
test05TransferenceFromAndToCanNotBeTheSameAccount

	self should:[Transference register: 10 from: Account to: Account.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorSameAccountTransference.
            ].! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:10' prior: 50872445!
testFailTransferenceWith: anErrorMessage registering: anAmount from: anAccountT to: anAccount2T

	self should:[Transference register: anAmount from: Account to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = anErrorMessage.
            ].! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:10' prior: 50872393 overrides: 16927572!
setUp

	Account := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:10' prior: 50872333!
test02TransferenceRegisterCorrectLegInAccounts

	| aTransference |

	aTransference := Transference register: 10 from: Account to: anAccount2.
	
	self assert:  (Account hasRegistered: aTransference withdraw).
	self assert:  (anAccount2 hasRegistered: aTransference deposit).! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:10' prior: 50872362!
test04TransferenceCanNotBeNegativeOrZero

	self should:[Transference register: -10 from: Account to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].

	self should:[Transference register: 0 from: Account to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].
	
	
	! !

!classDefinition: #TransferenceTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:50:16'!
TestCase subclass: #TransferenceTest
	instanceVariableNames: 'Account Account2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:16' prior: 50872526!
test02TransferenceRegisterCorrectLegInAccounts

	| aTransference |

	aTransference := Transference register: 10 from: Account to: Account2.
	
	self assert:  (Account hasRegistered: aTransference withdraw).
	self assert:  (Account2 hasRegistered: aTransference deposit).! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:16' prior: 50872520 overrides: 16927572!
setUp

	Account := ReceptiveAccount new.
	Account2 := ReceptiveAccount new! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:16' prior: 50872466!
test01TransferenceModifyBalanceCorrectly

	Transference register: 10 from: Account to: Account2.
	
	self assert: -10 equals: Account balance.
	self assert: 10 equals: Account2 balance.! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:16' prior: 50872538!
test04TransferenceCanNotBeNegativeOrZero

	self should:[Transference register: -10 from: Account to: Account2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].

	self should:[Transference register: 0 from: Account to: Account2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].
	
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:16' prior: 50872476!
test03TransferenceLegCanReachTheirTransference

	| aTransference aTransferenceDeposit aTransferenceWithdraw |

	
	aTransference := Transference register: 10 from: Account to: Account2.
	aTransferenceWithdraw := aTransference withdraw.
	aTransferenceDeposit :=  aTransference deposit.
	
	self assert: aTransferenceWithdraw parentTransference equals: aTransference.
	self assert: aTransferenceDeposit parentTransference equals: aTransference.
	
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:16' prior: 50872506!
testFailTransferenceWith: anErrorMessage registering: anAmount from: anAccountT to: anAccount2T

	self should:[Transference register: anAmount from: Account to: Account2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = anErrorMessage.
            ].! !

!classDefinition: #TransferenceTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:50:35'!
TestCase subclass: #TransferenceTest
	instanceVariableNames: 'account Account2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:35' prior: 50872584!
test01TransferenceModifyBalanceCorrectly

	Transference register: 10 from: account to: Account2.
	
	self assert: -10 equals: account balance.
	self assert: 10 equals: Account2 balance.! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:35' prior: 50872612!
test03TransferenceLegCanReachTheirTransference

	| aTransference aTransferenceDeposit aTransferenceWithdraw |

	
	aTransference := Transference register: 10 from: account to: Account2.
	aTransferenceWithdraw := aTransference withdraw.
	aTransferenceDeposit :=  aTransference deposit.
	
	self assert: aTransferenceWithdraw parentTransference equals: aTransference.
	self assert: aTransferenceDeposit parentTransference equals: aTransference.
	
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:36' prior: 50872494!
test05TransferenceFromAndToCanNotBeTheSameAccount

	self should:[Transference register: 10 from: account to: account.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorSameAccountTransference.
            ].! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:36' prior: 50872630!
testFailTransferenceWith: anErrorMessage registering: anAmount from: anAccountT to: anAccount2T

	self should:[Transference register: anAmount from: account to: Account2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = anErrorMessage.
            ].! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:36' prior: 50872578 overrides: 16927572!
setUp

	account := ReceptiveAccount new.
	Account2 := ReceptiveAccount new! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:36' prior: 50872565!
test02TransferenceRegisterCorrectLegInAccounts

	| aTransference |

	aTransference := Transference register: 10 from: account to: Account2.
	
	self assert:  (account hasRegistered: aTransference withdraw).
	self assert:  (Account2 hasRegistered: aTransference deposit).! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:50:36' prior: 50872593!
test04TransferenceCanNotBeNegativeOrZero

	self should:[Transference register: -10 from: account to: Account2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].

	self should:[Transference register: 0 from: account to: Account2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].
	
	
	! !

!classDefinition: #TransferenceTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 15:51:03'!
TestCase subclass: #TransferenceTest
	instanceVariableNames: 'account account2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:51:03' prior: 50872710!
test02TransferenceRegisterCorrectLegInAccounts

	| aTransference |

	aTransference := Transference register: 10 from: account to: account2.
	
	self assert:  (account hasRegistered: aTransference withdraw).
	self assert:  (account2 hasRegistered: aTransference deposit).! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:51:03' prior: 50872704 overrides: 16927572!
setUp

	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:51:03' prior: 50872651!
test01TransferenceModifyBalanceCorrectly

	Transference register: 10 from: account to: account2.
	
	self assert: -10 equals: account balance.
	self assert: 10 equals: account2 balance.! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:51:03' prior: 50872722!
test04TransferenceCanNotBeNegativeOrZero

	self should:[Transference register: -10 from: account to: account2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].

	self should:[Transference register: 0 from: account to: account2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorInvalidTransferenceValue.
            ].
	
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:51:03' prior: 50872660!
test03TransferenceLegCanReachTheirTransference

	| aTransference aTransferenceDeposit aTransferenceWithdraw |

	
	aTransference := Transference register: 10 from: account to: account2.
	aTransferenceWithdraw := aTransference withdraw.
	aTransferenceDeposit :=  aTransference deposit.
	
	self assert: aTransferenceWithdraw parentTransference equals: aTransference.
	self assert: aTransferenceDeposit parentTransference equals: aTransference.
	
	
	! !
!TransferenceTest methodsFor: 'as yet unclassified' stamp: 'JRC 6/3/2021 15:51:03' prior: 50872690!
testFailTransferenceWith: anErrorMessage registering: anAmount from: anAccountT to: anAccount2T

	self should:[Transference register: anAmount from: account to: account2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = anErrorMessage.
            ].! !

!testRun: #TransferenceTest #test01TransferenceModifyBalanceCorrectly stamp: 'JRC 6/3/2021 15:51:18'!
PASSED!

!testRun: #TransferenceTest #test02TransferenceRegisterCorrectLegInAccounts stamp: 'JRC 6/3/2021 15:51:18'!
PASSED!

!testRun: #TransferenceTest #test03TransferenceLegCanReachTheirTransference stamp: 'JRC 6/3/2021 15:51:18'!
PASSED!

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegativeOrZero stamp: 'JRC 6/3/2021 15:51:18'!
PASSED!

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/3/2021 15:51:18'!
PASSED!
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:51:42' prior: 50872814!
testFailTransferenceWith: anErrorMessage registering: anAmount from: anAccount to: anAccount2

	self should:[Transference register: anAmount from: anAccount to: anAccount2.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = anErrorMessage.
            ].! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:52:49' prior: 50872678!
test05TransferenceFromAndToCanNotBeTheSameAccount

	self should:[Transference register: 10 from: account to: account.] raise: Error
	withExceptionDo: [:anError |
            self assert: anError messageText  = Transference errorSameAccountTransference.
            ].


	self testFailTransferenceWith: Transference errorSameAccountTransference
		registering: 10
		from: account 
		to: account! !
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:52:55' prior: 50872857!
test05TransferenceFromAndToCanNotBeTheSameAccount

	self testFailTransferenceWith: Transference errorSameAccountTransference
		registering: 10
		from: account 
		to: account! !

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/3/2021 15:52:57'!
PASSED!

!testRun: #TransferenceTest #test01TransferenceModifyBalanceCorrectly stamp: 'JRC 6/3/2021 15:52:57'!
PASSED!

!testRun: #TransferenceTest #test02TransferenceRegisterCorrectLegInAccounts stamp: 'JRC 6/3/2021 15:52:57'!
PASSED!

!testRun: #TransferenceTest #test03TransferenceLegCanReachTheirTransference stamp: 'JRC 6/3/2021 15:52:57'!
PASSED!

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegativeOrZero stamp: 'JRC 6/3/2021 15:52:57'!
PASSED!

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/3/2021 15:52:58'!
PASSED!
!TransferenceTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:53:47' prior: 50872777!
test04TransferenceCanNotBeNegativeOrZero

	self testFailTransferenceWith: Transference errorInvalidTransferenceValue
		registering: -10
		from: account 
		to: account2.
		
	self testFailTransferenceWith: Transference errorInvalidTransferenceValue
		registering: 0
		from: account 
		to: account2.! !

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegativeOrZero stamp: 'JRC 6/3/2021 15:53:49'!
PASSED!

!testRun: #TransferenceTest #test01TransferenceModifyBalanceCorrectly stamp: 'JRC 6/3/2021 15:53:49'!
PASSED!

!testRun: #TransferenceTest #test02TransferenceRegisterCorrectLegInAccounts stamp: 'JRC 6/3/2021 15:53:49'!
PASSED!

!testRun: #TransferenceTest #test03TransferenceLegCanReachTheirTransference stamp: 'JRC 6/3/2021 15:53:49'!
PASSED!

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegativeOrZero stamp: 'JRC 6/3/2021 15:53:49'!
PASSED!

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/3/2021 15:53:49'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:55:25'!
test11TreeSummaryReport

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!methodRemoval: ReportTest #test11 stamp: 'JRC 6/3/2021 15:55:25'!
test11

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!

!testRun: #ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!

!testRun: #ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReport stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 15:56:13'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:57:57'!
test01AccountSummaryForAnAccountWithOutTransactionsOnlyShowsBalanceAtZero

	| anAccount anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.! !

!methodRemoval: ReportTest #test01AccountSummary stamp: 'JRC 6/3/2021 15:57:57'!
test01AccountSummary

	| anAccount anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:59:23'!
test02AccountSummaryForAnAccountWithADepositShowsTheDepositAndTheBalance

	| anAccount anAccountSummaryReport aDeposit result |
	anAccount := ReceptiveAccount new.
	aDeposit := Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	! !

!methodRemoval: ReportTest #test02 stamp: 'JRC 6/3/2021 15:59:23'!
test02

	| anAccount anAccountSummaryReport aDeposit result |
	anAccount := ReceptiveAccount new.
	aDeposit := Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 15:59:45'!
test02AccountSummaryForAnAccountWithADepositShowsTheDepositAndTheBalanceCorrectly

	| anAccount anAccountSummaryReport aDeposit result |
	anAccount := ReceptiveAccount new.
	aDeposit := Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	! !

!methodRemoval: ReportTest #test02AccountSummaryForAnAccountWithADepositShowsTheDepositAndTheBalance stamp: 'JRC 6/3/2021 15:59:45'!
test02AccountSummaryForAnAccountWithADepositShowsTheDepositAndTheBalance

	| anAccount anAccountSummaryReport aDeposit result |
	anAccount := ReceptiveAccount new.
	aDeposit := Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:01:02'!
test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly

	| anAccount anAccountSummaryReport aWithdraw result |
	anAccount := ReceptiveAccount new.
	aWithdraw := Withdraw register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Extracción por 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.
	! !

!methodRemoval: ReportTest #test03 stamp: 'JRC 6/3/2021 16:01:02'!
test03

	| anAccount anAccountSummaryReport aWithdraw result |
	anAccount := ReceptiveAccount new.
	aWithdraw := Withdraw register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Extracción por 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.
	!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:01:21'!
test02AccountSummaryForAnAccountWithADepositShowsCorrectly

	| anAccount anAccountSummaryReport aDeposit result |
	anAccount := ReceptiveAccount new.
	aDeposit := Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	! !

!methodRemoval: ReportTest #test02AccountSummaryForAnAccountWithADepositShowsTheDepositAndTheBalanceCorrectly stamp: 'JRC 6/3/2021 16:01:21'!
test02AccountSummaryForAnAccountWithADepositShowsTheDepositAndTheBalanceCorrectly

	| anAccount anAccountSummaryReport aDeposit result |
	anAccount := ReceptiveAccount new.
	aDeposit := Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:01:55'!
test01AccountSummaryForAnAccountWithOutTransactionsOnlyShowsCorrectly

	| anAccount anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.! !

!methodRemoval: ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsOnlyShowsBalanceAtZero stamp: 'JRC 6/3/2021 16:01:55'!
test01AccountSummaryForAnAccountWithOutTransactionsOnlyShowsBalanceAtZero

	| anAccount anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:02:10'!
test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly

	| anAccount anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.! !

!methodRemoval: ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsOnlyShowsCorrectly stamp: 'JRC 6/3/2021 16:02:10'!
test01AccountSummaryForAnAccountWithOutTransactionsOnlyShowsCorrectly

	| anAccount anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:03:04'!
test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly

	| anAccount anAccount2 anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.

	anAccountSummaryReport := (AccountSummary for: anAccount2) report.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.! !

!methodRemoval: ReportTest #test04 stamp: 'JRC 6/3/2021 16:03:04'!
test04

	| anAccount anAccount2 anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.

	anAccountSummaryReport := (AccountSummary for: anAccount2) report.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:04:13'!
test05TransferNetForAnAccountWithOutTransactionsIsCero
	
	| anAccount aTransferNetReport result |
	
	anAccount := ReceptiveAccount new.
	
	aTransferNetReport := (TransferNet for: anAccount) report.
	
	result := 0.
	self assert: result equals: aTransferNetReport.! !

!methodRemoval: ReportTest #test05TransferNet stamp: 'JRC 6/3/2021 16:04:13'!
test05TransferNet
	
	| anAccount aTransferNetReport result |
	
	anAccount := ReceptiveAccount new.
	
	aTransferNetReport := (TransferNet for: anAccount) report.
	
	result := 0.
	self assert: result equals: aTransferNetReport.!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:04:21'!
test05TransferNetForAnAccountWithOutTransactionsIsZero
	
	| anAccount aTransferNetReport result |
	
	anAccount := ReceptiveAccount new.
	
	aTransferNetReport := (TransferNet for: anAccount) report.
	
	result := 0.
	self assert: result equals: aTransferNetReport.! !

!methodRemoval: ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsCero stamp: 'JRC 6/3/2021 16:04:21'!
test05TransferNetForAnAccountWithOutTransactionsIsCero
	
	| anAccount aTransferNetReport result |
	
	anAccount := ReceptiveAccount new.
	
	aTransferNetReport := (TransferNet for: anAccount) report.
	
	result := 0.
	self assert: result equals: aTransferNetReport.!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:05:53'!
test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly

	| anAccount anAccount2 aTransferNetReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	aTransferNetReport := (TransferNet for: anAccount) report.
	result := -100.
	self assert: result equals: aTransferNetReport.

	aTransferNetReport := (TransferNet for: anAccount2) report.
	result := 100.
	self assert: result equals: aTransferNetReport.! !

!methodRemoval: ReportTest #test06 stamp: 'JRC 6/3/2021 16:05:53'!
test06

	| anAccount anAccount2 aTransferNetReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	aTransferNetReport := (TransferNet for: anAccount) report.
	result := -100.
	self assert: result equals: aTransferNetReport.

	aTransferNetReport := (TransferNet for: anAccount2) report.
	result := 100.
	self assert: result equals: aTransferNetReport.!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:06:47' prior: 50867170!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport anAccount anAccount2 result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	Transference register: 1000 from: anAccount to: anAccount2.
	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Balance = -20'.
	
	self assert: result equals: aPortfolioSummaryReport.
	! !

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:06:51'!
FAILURE!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:07:07'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:07:16' prior: 50873333!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport anAccount anAccount2 result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Balance = -20'.
	
	self assert: result equals: aPortfolioSummaryReport.
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:07:46' prior: 50873372!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport anAccount anAccount2 result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	Transference register: 1000 from: anAccount to: anAccount2.
	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Balance = -20'.
	
	self assert: result equals: aPortfolioSummaryReport.
	! !

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReport stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 16:07:48'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:08:02' prior: 50873403!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport anAccount anAccount2 result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	Transference register: 2000 from: anAccount to: anAccount2.
	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Salida por transferencia de 2000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Entrada por transferencia de 2000'.
	result add: 'Balance = -20'.
	
	self assert: result equals: aPortfolioSummaryReport.
	! !

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:08:04'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:08:04'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:08:04'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:08:04'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:08:04'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:08:04'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:08:05'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:08:05'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:08:05'!
PASSED!

!testRun: #ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 16:08:05'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'JRC 6/3/2021 16:08:05'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReport stamp: 'JRC 6/3/2021 16:08:05'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'JRC 6/3/2021 16:08:05'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:08:10' prior: 50873481!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport anAccount anAccount2 result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Salida por transferencia de 2000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Entrada por transferencia de 2000'.
	result add: 'Balance = -20'.
	
	self assert: result equals: aPortfolioSummaryReport.
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:08:53'!
test09TreeReportShowsEmptyPortfolioName

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.

	self assert: result equals: aPortfolioTreeReport.
	
	! !

!methodRemoval: ReportTest #test09TreeReport stamp: 'JRC 6/3/2021 16:08:53'!
test09TreeReport

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.

	self assert: result equals: aPortfolioTreeReport.
	
	!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:09:29'!
test09TreeReportShowsonAnEmptyPortfolioOnlyShowsName

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.

	self assert: result equals: aPortfolioTreeReport.
	
	! !

!methodRemoval: ReportTest #test09TreeReportShowsEmptyPortfolioName stamp: 'JRC 6/3/2021 16:09:29'!
test09TreeReportShowsEmptyPortfolioName

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.

	self assert: result equals: aPortfolioTreeReport.
	
	!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:10:24'!
test10TreeReportForPopulatedPorfolioShowsCorrectly

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result familyPortfolio myAccount pepeAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	pepeAccount := ReceptiveAccount named: 'Cuenta de pepe'.
	familyPortfolio add: pepeAccount.
	aPortfolioTreeReport := (PortfolioTreeReport for: familyPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '		Cuenta de Angeles'.
	result add: '	Cuenta de pepe'.
	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!methodRemoval: ReportTest #test10 stamp: 'JRC 6/3/2021 16:10:24'!
test10

	| angiesAccount childrenPortfolio johnsAccount aPortfolioTreeReport result familyPortfolio myAccount pepeAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with: johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	pepeAccount := ReceptiveAccount named: 'Cuenta de pepe'.
	familyPortfolio add: pepeAccount.
	aPortfolioTreeReport := (PortfolioTreeReport for: familyPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '		Cuenta de Angeles'.
	result add: '	Cuenta de pepe'.
	self assert: result equals: aPortfolioTreeReport.
	
	
!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:11:00'!
test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.

	self assert: result equals: aPortfolioTreeReport.
	
	! !

!methodRemoval: ReportTest #test09TreeReportShowsonAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:11:00'!
test09TreeReportShowsonAnEmptyPortfolioOnlyShowsName

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.

	self assert: result equals: aPortfolioTreeReport.
	
	!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:11:48'!
test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
! !

!methodRemoval: ReportTest #test11TreeSummaryReport stamp: 'JRC 6/3/2021 16:11:48'!
test11TreeSummaryReport

	| childrenPortfolio aPortfolioTreeReport result |
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: childrenPortfolio) report.

	result := OrderedCollection new.
	result add: 'Portfolio de hijos'.
	result add: '	Balance = 0'.

	self assert: result equals: aPortfolioTreeReport.
	
	
!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:12:22'!
test12TreeSummarytest10TreeReportForPopulatedPorfolioShowsCorrectly

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	
	Withdraw register: 12  on: johnsAccount.
	Deposit register: 3312  on: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Extracción por 12'.
	result add: '			Balance = -12'.
	result add: '		Cuenta de Angeles'.
	result add: '			Depósito por 3312'.
	result add: '			Balance = 3312'.
	result add: '		Balance = 3300'.
	result add: '	Balance = 3300'.

	self assert: result equals: aPortfolioTreeReport.
	
! !

!methodRemoval: ReportTest #test12 stamp: 'JRC 6/3/2021 16:12:22'!
test12

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	
	Withdraw register: 12  on: johnsAccount.
	Deposit register: 3312  on: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Extracción por 12'.
	result add: '			Balance = -12'.
	result add: '		Cuenta de Angeles'.
	result add: '			Depósito por 3312'.
	result add: '			Balance = 3312'.
	result add: '		Balance = 3300'.
	result add: '	Balance = 3300'.

	self assert: result equals: aPortfolioTreeReport.
	
!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:12:41'!
test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	
	Withdraw register: 12  on: johnsAccount.
	Deposit register: 3312  on: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Extracción por 12'.
	result add: '			Balance = -12'.
	result add: '		Cuenta de Angeles'.
	result add: '			Depósito por 3312'.
	result add: '			Balance = 3312'.
	result add: '		Balance = 3300'.
	result add: '	Balance = 3300'.

	self assert: result equals: aPortfolioTreeReport.
	
! !

!methodRemoval: ReportTest #test12TreeSummarytest10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:12:41'!
test12TreeSummarytest10TreeReportForPopulatedPorfolioShowsCorrectly

	| childrenPortfolio aPortfolioTreeReport result angiesAccount johnsAccount familyPortfolio myAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos' with:
	johnsAccount with: angiesAccount.
	myAccount := ReceptiveAccount named: 'Cuenta Mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia' with:
	myAccount with: childrenPortfolio.
	
	Withdraw register: 12  on: johnsAccount.
	Deposit register: 3312  on: angiesAccount.

	aPortfolioTreeReport := (PortfolioTreeSummaryReport for: familyPortfolio) report.

	result := OrderedCollection new.
	
	result add: 'Portfolio de la familia'.
	result add: '	Cuenta Mia'.
	result add: '		Balance = 0'.
	result add: '	Portfolio de hijos'.
	result add: '		Cuenta de Juan'.
	result add: '			Extracción por 12'.
	result add: '			Balance = -12'.
	result add: '		Cuenta de Angeles'.
	result add: '			Depósito por 3312'.
	result add: '			Balance = 3312'.
	result add: '		Balance = 3300'.
	result add: '	Balance = 3300'.

	self assert: result equals: aPortfolioTreeReport.
	
!

----SNAPSHOT----(3 June 2021 16:14:09) CuisUniversity-4532.image priorSource: 17297264!

----QUIT----(3 June 2021 16:14:28) CuisUniversity-4532.image priorSource: 17353166!

----STARTUP---- (3 June 2021 16:20:18) as C:\Users\recal\Desktop\windows64\CuisUniversity-4532.image!


!classDefinition: #ReportTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 16:22:12'!
TestCase subclass: #ReportTest
	instanceVariableNames: 'account1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReportTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 16:22:13'!
TestCase subclass: #ReportTest
	instanceVariableNames: 'account1 account2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:22:07' overrides: 16927572!
setUp
	
	account1 :=  ReceptiveAccount new.
	account2 :=  ReceptiveAccount new.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:22:29' prior: 50873559!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport anAccount anAccount2 result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Balance = -20'.
	
	self assert: result equals: aPortfolioSummaryReport.
	! !

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:22:40'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:22:40'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:22:40'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:22:40'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:22:40'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:22:40'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:22:40'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:22:40'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:22:40'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:22:40'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:22:40'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:22:40'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:23:07' prior: 50873961 overrides: 16927572!
setUp
	
	"account1 :=  ReceptiveAccount new.
	account2 :=  ReceptiveAccount new."! !

TestCase subclass: #ReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReportTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 16:23:13'!
TestCase subclass: #ReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:23:27' prior: 50873178!
test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly

	"| anAccount anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport."! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:23:32' prior: 50873116!
test02AccountSummaryForAnAccountWithADepositShowsCorrectly

	"| anAccount anAccountSummaryReport aDeposit result |
	anAccount := ReceptiveAccount new.
	aDeposit := Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	"! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:23:38' prior: 50873086!
test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly

	"| anAccount anAccountSummaryReport aWithdraw result |
	anAccount := ReceptiveAccount new.
	aWithdraw := Withdraw register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Extracción por 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.
	"! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:23:44' prior: 50873206!
test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly

	"| anAccount anAccount2 anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.

	anAccountSummaryReport := (AccountSummary for: anAccount2) report.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport."! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:23:49' prior: 50873275!
test05TransferNetForAnAccountWithOutTransactionsIsZero
	
	"| anAccount aTransferNetReport result |
	
	anAccount := ReceptiveAccount new.
	
	aTransferNetReport := (TransferNet for: anAccount) report.
	
	result := 0.
	self assert: result equals: aTransferNetReport."! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:23:55' prior: 50873298!
test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly

	"| anAccount anAccount2 aTransferNetReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	aTransferNetReport := (TransferNet for: anAccount) report.
	result := -100.
	self assert: result equals: aTransferNetReport.

	aTransferNetReport := (TransferNet for: anAccount2) report.
	result := 100.
	self assert: result equals: aTransferNetReport."! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:24:16' prior: 50873967!
test07AccountSummaryWorksWithPortfolio

	"| aPortfolio aPortfolioSummaryReport anAccount anAccount2 result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Balance = -20'.
	
	self assert: result equals: aPortfolioSummaryReport."
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:24:23' prior: 50868367!
test08TransferNetWorksWithPortfolio

	"| aPortfolio aTransferNetReport anAccount anAccount2 result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.

	aPortfolio := Portfolio with: anAccount.
	aTransferNetReport := (TransferNet for: aPortfolio) report.
	
	result := -1000.
	
	self assert: result equals: aTransferNetReport.
	"! !

!classDefinition: #ReportTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 16:24:51'!
TestCase subclass: #ReportTest
	instanceVariableNames: 'anAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:24:49' prior: 50874060!
test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly

	|  anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:24:59' prior: 50874074!
test02AccountSummaryForAnAccountWithADepositShowsCorrectly

	| anAccountSummaryReport aDeposit result |
	anAccount := ReceptiveAccount new.
	aDeposit := Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:25:18' prior: 50874090!
test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly

	| anAccountSummaryReport aWithdraw result |
	anAccount := ReceptiveAccount new.
	aWithdraw := Withdraw register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Extracción por 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.
	! !

!classDefinition: #ReportTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 16:25:39'!
TestCase subclass: #ReportTest
	instanceVariableNames: 'anAccount anAccount2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:25:36' prior: 50874107!
test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly

	| anAccountSummaryReport result |
	anAccount := ReceptiveAccount new.
	anAccount2 := ReceptiveAccount new.
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.

	anAccountSummaryReport := (AccountSummary for: anAccount2) report.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:25:49' prior: 50874275!
test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly

	| anAccountSummaryReport result |
	
	Transference register: 100 from: anAccount to: anAccount2.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.

	anAccountSummaryReport := (AccountSummary for: anAccount2) report.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:25:53' prior: 50874251!
test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly

	| anAccountSummaryReport aWithdraw result |
	
	aWithdraw := Withdraw register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Extracción por 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:26:00' prior: 50874235!
test02AccountSummaryForAnAccountWithADepositShowsCorrectly

	| anAccountSummaryReport aDeposit result |

	aDeposit := Deposit register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:26:05' prior: 50874222!
test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly

	|  anAccountSummaryReport result |
	
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Balance = 0'.
	self assert: result equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:26:21' prior: 50874043 overrides: 16927572!
setUp
	
	anAccount :=  ReceptiveAccount new.
	anAccount2 :=  ReceptiveAccount new.! !

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:26:25'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:26:31'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:26:37'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:26:41'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:30:41'!
testAccountSummaryForAnAccountWithTransactions: aTransactionBlock expecting: anExpectedList

    | anAccountSummaryReport |

    aTransactionBlock value.

    anAccountSummaryReport := (AccountSummary for: anAccount) report.

    self assert: anExpectedList equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:31:41' prior: 50874353!
test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly

	|  result |

	result := OrderedCollection new.
	result add: 'Balance = 0'.
	
	self testAccountSummaryForAnAccountWithTransactions: [] expecting: result! !

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JRC 6/3/2021 16:31:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #TransferenceTest #test01TransferenceModifyBalanceCorrectly stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #TransferenceTest #test02TransferenceRegisterCorrectLegInAccounts stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #TransferenceTest #test03TransferenceLegCanReachTheirTransference stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegativeOrZero stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/3/2021 16:31:46'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:31:50'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:31:57' prior: 50874399!
test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly

	|  result |

	result := OrderedCollection new.
	result add: 'Balance = 0'.
	
	self testAccountSummaryForAnAccountWithTransactions: [] expecting: result.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:33:10' prior: 50874338!
test02AccountSummaryForAnAccountWithADepositShowsCorrectly

	| result |
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	
	self testAccountSummaryForAnAccountWithTransactions: [Deposit register: 100 on: anAccount.] expecting: result.! !

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:33:16'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:33:40' prior: 50874323!
test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly

	| anAccountSummaryReport aWithdraw result |
	
	aWithdraw := Withdraw register: 100 on: anAccount.
	
	anAccountSummaryReport := (AccountSummary for: anAccount) report.
	
	result := OrderedCollection new.
	result add: 'Extracción por 100'.
	result add: 'Balance = -100'.
	self assert: result equals: anAccountSummaryReport.
	
	self testAccountSummaryForAnAccountWithTransactions: [Withdraw register: 100 on: anAccount.] expecting: result.
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:33:51' prior: 50874635!
test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly

	| result |
	
	result := OrderedCollection new.
	result add: 'Extracción por 100'.
	result add: 'Balance = -100'.
	
	self testAccountSummaryForAnAccountWithTransactions: [Withdraw register: 100 on: anAccount.] expecting: result.
	! !

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:33:57'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:34:00'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:34:35' prior: 50874300!
test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly

	| anAccountSummaryReport result |
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.

	self testAccountSummaryForAnAccountWithTransactions: [Transference register: 100 from: anAccount to: anAccount2.] expecting: result.

	anAccountSummaryReport := (AccountSummary for: anAccount2) report.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:35:18' prior: 50874719!
test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly

	| anAccountSummaryReport result |
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.

	self testAccountSummaryForAnAccountWithTransactions: [Transference register: 100 from: anAccount to: anAccount2.] expecting: result.

	anAccountSummaryReport := (AccountSummary for: anAccount2) report.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	
	"self testAccountSummaryForAnAccountWithTransactions: [Transference register: 100 from: anAccount to: anAccount2.] expecting: result."! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:36:42'!
testAccountSummaryFor: anAccountT WithTransactions: aTransactionBlock expecting: anExpectedList

    | anAccountSummaryReport |

    aTransactionBlock value.

    anAccountSummaryReport := (AccountSummary for: anAccount) report.

    self assert: anExpectedList equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:37:00' prior: 50874765!
testAccountSummaryFor: account WithTransactions: aTransactionBlock expecting: anExpectedList

    | anAccountSummaryReport |

    aTransactionBlock value.

    anAccountSummaryReport := (AccountSummary for: anAccount) report.

    self assert: anExpectedList equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:37:13' prior: 50874777!
testAccountSummaryFor: account WithTransactions: aTransactionBlock expecting: anExpectedList

    | anAccountSummaryReport |

    aTransactionBlock value.

    anAccountSummaryReport := (AccountSummary for: account) report.

    self assert: anExpectedList equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:37:57' prior: 50874609!
test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly

	|  result |

	result := OrderedCollection new.
	result add: 'Balance = 0'.
	
	self testAccountSummaryFor:anAccount WithTransactions: [] expecting: result.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:38:21' prior: 50874801!
test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly

	|  result |

	result := OrderedCollection new.
	result add: 'Balance = 0'.
	
	self testAccountSummaryFor: anAccount WithTransactions: [] expecting: result.! !

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:38:22'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:38:22'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:38:22'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:38:23'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:38:23'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:38:23'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:38:23'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:38:23'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:38:23'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:38:23'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:38:23'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:38:23'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:38:23'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:38:34' prior: 50874619!
test02AccountSummaryForAnAccountWithADepositShowsCorrectly

	| result |
	
	result := OrderedCollection new.
	result add: 'Depósito por 100'.
	result add: 'Balance = 100'.
	
	self testAccountSummaryFor: anAccount WithTransactions: [Deposit register: 100 on: anAccount.] expecting: result.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:38:39' prior: 50874654!
test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly

	| result |
	
	result := OrderedCollection new.
	result add: 'Extracción por 100'.
	result add: 'Balance = -100'.
	
	self testAccountSummaryFor: anAccount WithTransactions: [Withdraw register: 100 on: anAccount.] expecting: result.
	! !

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:38:42'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:38:51' prior: 50874740!
test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly

	| anAccountSummaryReport result |
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.

	self testAccountSummaryFor: anAccount WithTransactions: [Transference register: 100 from: anAccount to: anAccount2.] expecting: result.

	anAccountSummaryReport := (AccountSummary for: anAccount2) report.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	
	"self testAccountSummaryForAnAccountWithTransactions: [Transference register: 100 from: anAccount to: anAccount2.] expecting: result."! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:39:04' prior: 50874943!
test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly

	| anAccountSummaryReport result |
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.

	self testAccountSummaryFor: anAccount WithTransactions: [Transference register: 100 from: anAccount to: anAccount2.] expecting: result.

	anAccountSummaryReport := (AccountSummary for: anAccount2) report.
	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	
	self testAccountSummaryFor: anAccount2 WithTransactions: [] expecting: result.! !

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:39:06'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:39:23' prior: 50874133!
test05TransferNetForAnAccountWithOutTransactionsIsZero
	
	| aTransferNetReport result |
	
	anAccount := ReceptiveAccount new.
	
	aTransferNetReport := (TransferNet for: anAccount) report.
	
	result := 0.
	self assert: result equals: aTransferNetReport.! !

!methodRemoval: ReportTest #testAccountSummaryForAnAccountWithTransactions:expecting: stamp: 'JRC 6/3/2021 16:39:57'!
testAccountSummaryForAnAccountWithTransactions: aTransactionBlock expecting: anExpectedList

    | anAccountSummaryReport |

    aTransactionBlock value.

    anAccountSummaryReport := (AccountSummary for: anAccount) report.

    self assert: anExpectedList equals: anAccountSummaryReport.!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:40:57'!
testTransferNetFor: account WithTransactions: aTransactionBlock expecting: anExpectedList

    | anAccountSummaryReport |

    aTransactionBlock value.

    anAccountSummaryReport := (TransferNet for: account) report.

    self assert: anExpectedList equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:41:02' prior: 50875065!
testTransferNetFor: account WithTransactions: aTransactionBlock expecting: anExpected

    | anAccountSummaryReport |

    aTransactionBlock value.

    anAccountSummaryReport := (TransferNet for: account) report.

    self assert: anExpected equals: anAccountSummaryReport.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:41:37' prior: 50875042!
test05TransferNetForAnAccountWithOutTransactionsIsZero
	
	| result |
	
	anAccount := ReceptiveAccount new.
	

	
	result := 0.
	
	self testTransferNetFor: anAccount WithTransactions: [] expecting: 0! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:41:45' prior: 50875089!
test05TransferNetForAnAccountWithOutTransactionsIsZero
	
	| result |
	
	anAccount := ReceptiveAccount new.
	

	
	result := 0.
	
	self testTransferNetFor: anAccount WithTransactions: [] expecting: result! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:41:48' prior: 50875098!
test05TransferNetForAnAccountWithOutTransactionsIsZero
	
	| result |
	
	anAccount := ReceptiveAccount new.
	
	result := 0.
	
	self testTransferNetFor: anAccount WithTransactions: [] expecting: result! !

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:41:48'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:41:48'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:41:48'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:41:48'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:41:48'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:41:48'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:41:48'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:41:48'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:41:48'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:41:48'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:41:49'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:41:49'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:41:49'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:41:52' prior: 50875107!
test05TransferNetForAnAccountWithOutTransactionsIsZero
	
	| result |

	result := 0.
	
	self testTransferNetFor: anAccount WithTransactions: [] expecting: result! !

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:41:54'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:42:48' prior: 50874144!
test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly

	|  result |

	
	result := -100.

	self testTransferNetFor: anAccount WithTransactions: [Transference register: 100 from: anAccount to: anAccount2.] expecting: result.

	result := 100.
	
	self testTransferNetFor: anAccount2 WithTransactions: [] expecting: result! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:42:51' prior: 50875222!
test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly

	|  result |
	
	result := -100.

	self testTransferNetFor: anAccount WithTransactions: [Transference register: 100 from: anAccount to: anAccount2.] expecting: result.

	result := 100.
	
	self testTransferNetFor: anAccount2 WithTransactions: [] expecting: result! !

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:42:53'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:43:52' prior: 50874163!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport result |

	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Balance = -20'.
	
	self assert: result equals: aPortfolioSummaryReport.
	! !

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:43:54'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:44:04' prior: 50874194!
test08TransferNetWorksWithPortfolio

	| aPortfolio aTransferNetReport  result |

	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.

	aPortfolio := Portfolio with: anAccount.
	aTransferNetReport := (TransferNet for: aPortfolio) report.
	
	result := -1000.
	
	self assert: result equals: aTransferNetReport.
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:44:34' prior: 50875298!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport result |

	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Balance = -20'.
	
	self assert: result equals: aPortfolioSummaryReport.
	

	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:45:14' prior: 50875392!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport result |

	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Balance = -20'.
	
	self assert: result equals: aPortfolioSummaryReport.
	
	
	! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:46:28' prior: 50874366 overrides: 16927572!
setUp
	
	anAccount :=  ReceptiveAccount new.
	anAccount2 :=  ReceptiveAccount new.
	
	
	PopulateBlock1 :=[Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	Portfolio with: anAccount with:anAccount2.]! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:46:32' prior: 50875448 overrides: 16927572!
setUp
	
	anAccount :=  ReceptiveAccount new.
	anAccount2 :=  ReceptiveAccount new.
	
	PopulateBlock1 :=[Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	Portfolio with: anAccount with:anAccount2.]! !

!classDefinition: #ReportTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 16:46:45'!
TestCase subclass: #ReportTest
	instanceVariableNames: 'anAccount anAccount2 populateBlock1'
	classVariableNames: 'PopulateBlock1'
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:46:44' prior: 50875463 overrides: 16927572!
setUp
	
	anAccount :=  ReceptiveAccount new.
	anAccount2 :=  ReceptiveAccount new.
	
	populateBlock1 :=[Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	Portfolio with: anAccount with:anAccount2.]! !

TestCase subclass: #ReportTest
	instanceVariableNames: 'anAccount anAccount2 populateBlock1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReportTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 16:46:53'!
TestCase subclass: #ReportTest
	instanceVariableNames: 'anAccount anAccount2 populateBlock1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:47:46' prior: 50875420!
test07AccountSummaryWorksWithPortfolio

	| result |

	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Balance = -20'.
	
	self testAccountSummaryFor: anAccount WithTransactions: populateBlock1 expecting: result
	
	
	! !

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:47:51'!
FAILURE!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:48:32'!
FAILURE!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:45:14' prior: 50875515!
test07AccountSummaryWorksWithPortfolio

	| aPortfolio aPortfolioSummaryReport result |

	Deposit register: 10 on: anAccount.
	Deposit register: 10 on: anAccount2.
	Withdraw register: 20 on: anAccount2.
	Withdraw register: 20 on: anAccount.
	Transference register: 1000 from: anAccount to: anAccount2.
	aPortfolio := Portfolio with: anAccount with:anAccount2.
	aPortfolioSummaryReport := (AccountSummary for: aPortfolio) report.
	 
	result := OrderedCollection new.
	result add: 'Depósito por 10'. 
	result add: 'Extracción por 20'.
	result add: 'Salida por transferencia de 1000'.
	result add: 'Depósito por 10'.
	result add: 'Extracción por 20'.
	result add: 'Entrada por transferencia de 1000'.
	result add: 'Balance = -20'.
	
	self assert: result equals: aPortfolioSummaryReport.
	
	
	! !

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:48:59'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:49:04'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:49:04'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:49:04'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:49:04'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:49:04'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:49:04'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:49:04'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:49:04'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:49:04'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:49:04'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:49:04'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:49:05'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:49:05'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:49:10' prior: 50875487 overrides: 16927572!
setUp
	
	anAccount :=  ReceptiveAccount new.
	anAccount2 :=  ReceptiveAccount new.
	! !

TestCase subclass: #ReportTest
	instanceVariableNames: 'anAccount anAccount2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReportTest category: 'Portfolio-Solucion' stamp: 'JRC 6/3/2021 16:49:16'!
TestCase subclass: #ReportTest
	instanceVariableNames: 'anAccount anAccount2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Behavior method!
initialize
	(accounts _ [
	(OrderedCollection
		cover: (26 to: 42)
		declaredAt: (26 to: 42)) new ] valueCoveringAll:
		{44 to: 46})
		cover: (14 to: 21)
		declaredAt: (14 to: 21).
	(parents _ [
	(OrderedCollection
		cover: (61 to: 77)
		declaredAt: (26 to: 42)) new ] valueCoveringAll:
		{79 to: 81})
		cover: (50 to: 56)
		declaredAt: (50 to: 56).! !
!Behavior method!
balance
	^ [
	(accounts
		cover: (13 to: 20)
		declaredAt: (13 to: 20))
		sum: [ :anAccount |
			[
			(anAccount
				cover: (42 to: 50)
				declaredAt: (30 to: 38)) balance ] valueCoveringAll:
				{52 to: 58} ]
		ifEmpty: [
			0 coverAll:
				{73 to: 73} ]] valueCoveringAll:
		{22 to: 25. 62 to: 69}.! !

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'JRC 6/3/2021 16:49:35'!
PASSED!
!Behavior method!
initialize
	[ super initialize ] valueCoveringAll:
		{20 to: 29}.
	(transactions _ [
	(OrderedCollection
		cover: (49 to: 65)
		declaredAt: (49 to: 65)) new ] valueCoveringAll:
		{67 to: 69})
		cover: (33 to: 44)
		declaredAt: (33 to: 44).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
with: anAccount
	^ [ | cascadeReceiver |
	cascadeReceiver _ [
	(self coverAll:
		{20 to: 23}) new ] valueCoveringAll:
		{25 to: 27}.
	[ cascadeReceiver add: anAccount ] valueCoveringAll:
		{32 to: 45}.
	[ cascadeReceiver yourself ] valueCoveringAll:
		{50 to: 57} ] value.! !
!Behavior method!
add: accountToAdd
	[
	(self coverAll:
		{21 to: 24}) assertCanAdd:
		(accountToAdd
			cover: (40 to: 51)
			declaredAt: (6 to: 17)) ] valueCoveringAll:
		{26 to: 38}.
	[
	(accounts
		cover: (58 to: 65)
		declaredAt: (58 to: 65)) add:
		(accountToAdd
			cover: (72 to: 83)
			declaredAt: (6 to: 17)) ] valueCoveringAll:
		{67 to: 70}.
	[
	(accountToAdd
		cover: (87 to: 98)
		declaredAt: (6 to: 17)) addedTo:
		(self coverAll:
			{109 to: 112}) ] valueCoveringAll:
		{100 to: 107}.! !
!Behavior method!
assertCanAdd: accountToAdd
	[
	([
	(self coverAll:
		{31 to: 34}) anyRootParentIsComposedBy:
		(accountToAdd
			cover: (63 to: 74)
			declaredAt: (15 to: 26)) ] valueCoveringAll:
		{36 to: 61}) ifTrue: [
		[
		(self coverAll:
			{87 to: 90}) signalCanNotAddAccount ] valueCoveringAll:
			{92 to: 113} ]] valueCoveringAll:
		{77 to: 83}.! !
!Behavior method!
anyRootParentIsComposedBy: accountToAdd
	^ [
	([
	(self coverAll:
		{44 to: 47}) rootParents ] valueCoveringAll:
		{49 to: 59}) anySatisfy: [ :aParent |
		[
		(aParent
			cover: (86 to: 92)
			declaredAt: (76 to: 82)) isComposedBy:
			(accountToAdd
				cover: (108 to: 119)
				declaredAt: (28 to: 39)) ] valueCoveringAll:
			{94 to: 106} ]] valueCoveringAll:
		{61 to: 71}.! !
!Behavior method!
rootParents
	| rootParents |
	(rootParents _ [
	(Set
		cover: (50 to: 52)
		declaredAt: (50 to: 52)) new ] valueCoveringAll:
		{54 to: 56})
		cover: (35 to: 45)
		declaredAt: (18 to: 28).
	[
	(self coverAll:
		{60 to: 63}) addRootParentsTo:
		(rootParents
			cover: (83 to: 93)
			declaredAt: (18 to: 28)) ] valueCoveringAll:
		{65 to: 81}.
	^ rootParents
		cover: (101 to: 111)
		declaredAt: (18 to: 28).! !
!Behavior method!
addRootParentsTo: rootParents
	[
	(parents
		cover: (33 to: 39)
		declaredAt: (33 to: 39))
		ifEmpty: [
			[
			(rootParents
				cover: (55 to: 65)
				declaredAt: (19 to: 29)) add:
				(self coverAll:
					{72 to: 75}) ] valueCoveringAll:
				{67 to: 70} ]
		ifNotEmpty: [
			[
			(parents
				cover: (96 to: 102)
				declaredAt: (33 to: 39)) do: [ :aParent |
				[
				(aParent
					cover: (121 to: 127)
					declaredAt: (111 to: 117)) addRootParentsTo:
					(rootParents
						cover: (147 to: 157)
						declaredAt: (19 to: 29)) ] valueCoveringAll:
					{129 to: 145} ]] valueCoveringAll:
				{104 to: 106} ]] valueCoveringAll:
		{44 to: 51. 82 to: 92}.! !
!Behavior method!
isComposedBy: anAccount
	^ [
	([
	(self coverAll:
		{29 to: 32}) =
		(anAccount
			cover: (36 to: 44)
			declaredAt: (15 to: 23)) ] valueCoveringAll:
		{34 to: 34}) or: [
		[
		(accounts
			cover: (52 to: 59)
			declaredAt: (52 to: 59)) anySatisfy: [ :composedAccount |
			[
			([
			(composedAccount
				cover: (95 to: 109)
				declaredAt: (76 to: 90)) isComposedBy:
				(anAccount
					cover: (125 to: 133)
					declaredAt: (15 to: 23)) ] valueCoveringAll:
				{111 to: 123}) or: [
				[
				(anAccount
					cover: (142 to: 150)
					declaredAt: (15 to: 23)) isComposedBy:
					(composedAccount
						cover: (166 to: 180)
						declaredAt: (76 to: 90)) ] valueCoveringAll:
					{152 to: 164} ]] valueCoveringAll:
				{136 to: 138} ]] valueCoveringAll:
			{61 to: 71} ]] valueCoveringAll:
		{46 to: 48}.! !
!Behavior method!
addedTo: aPortfolio
	^ self.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{36 to: 36})
		into: [ :currentBalance :transaction |
			[
			(transaction
				cover: (79 to: 89)
				declaredAt: (65 to: 75)) affectBalance:
				(currentBalance
					cover: (106 to: 119)
					declaredAt: (49 to: 62)) ] valueCoveringAll:
				{91 to: 104} ]] valueCoveringAll:
		{28 to: 34. 40 to: 44}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
with: anAccount with: anotherAccount
	^ [ | cascadeReceiver |
	cascadeReceiver _ [
	(self coverAll:
		{41 to: 44}) new ] valueCoveringAll:
		{46 to: 48}.
	[ cascadeReceiver add: anAccount ] valueCoveringAll:
		{53 to: 66}.
	[ cascadeReceiver add: anotherAccount ] valueCoveringAll:
		{71 to: 89}.
	[ cascadeReceiver yourself ] valueCoveringAll:
		{94 to: 101} ] value.! !
!Behavior method!
addedTo: aPortfolio
	[
	(parents
		cover: (25 to: 31)
		declaredAt: (25 to: 31)) add:
		(aPortfolio
			cover: (38 to: 47)
			declaredAt: (10 to: 19)) ] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
isComposedBy: anAccount
	^ [
	(self coverAll:
		{28 to: 31}) =
		(anAccount
			cover: (35 to: 43)
			declaredAt: (15 to: 23)) ] valueCoveringAll:
		{33 to: 33}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) -
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(accounts
		cover: (32 to: 39)
		declaredAt: (32 to: 39)) anySatisfy: [ :anAccount |
		[
		(anAccount
			cover: (68 to: 76)
			declaredAt: (56 to: 64)) hasRegistered:
			(aTransaction
				cover: (93 to: 104)
				declaredAt: (16 to: 27)) ] valueCoveringAll:
			{78 to: 91} ]] valueCoveringAll:
		{41 to: 51}.! !

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (53 to: 69)
		declaredAt: (53 to: 69)) new ] valueCoveringAll:
		{71 to: 73})
		cover: (37 to: 48)
		declaredAt: (19 to: 30).
	[
	(accounts
		cover: (77 to: 84)
		declaredAt: (77 to: 84)) do: [ :anAccount |
		[
		(anAccount
			cover: (105 to: 113)
			declaredAt: (93 to: 101)) addTransactionsTo:
			(transactions
				cover: (134 to: 145)
				declaredAt: (19 to: 30)) ] valueCoveringAll:
			{115 to: 132} ]] valueCoveringAll:
		{86 to: 88}.
	^ transactions
		cover: (154 to: 165)
		declaredAt: (19 to: 30).! !

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
addTransactionsTo: aCollectionOfTransactions
	[
	(aCollectionOfTransactions
		cover: (48 to: 72)
		declaredAt: (20 to: 44)) addAll:
		(transactions
			cover: (82 to: 93)
			declaredAt: (82 to: 93)) ] valueCoveringAll:
		{74 to: 80}.! !

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
addTransactionsTo: aCollectionOfTransactions
	[
	(accounts
		cover: (48 to: 55)
		declaredAt: (48 to: 55)) do: [ :anAccount |
		[
		(anAccount
			cover: (76 to: 84)
			declaredAt: (64 to: 72)) addTransactionsTo:
			(aCollectionOfTransactions
				cover: (105 to: 129)
				declaredAt: (20 to: 44)) ] valueCoveringAll:
			{86 to: 103} ]] valueCoveringAll:
		{57 to: 59}.! !

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
signalCanNotAddAccount
	[
	(self coverAll:
		{27 to: 30}) error:
		([
		([
		(self coverAll:
			{39 to: 42}) class ] valueCoveringAll:
			{44 to: 48}) canNotAddAccountErrorMessage ] valueCoveringAll:
			{50 to: 77}) ] valueCoveringAll:
		{32 to: 37}.! !
!Behavior method!
canNotAddAccountErrorMessage
	^ 'Can not add repeated account to a portfolio' coverAll:
		{34 to: 78}.! !
!Behavior method!
accountsSize
	^ [
	(accounts
		cover: (18 to: 25)
		declaredAt: (18 to: 25)) size ] valueCoveringAll:
		{27 to: 30}.! !
!Behavior method!
accountsIncludes: anAccount
	^ [
	(accounts
		cover: (32 to: 39)
		declaredAt: (32 to: 39)) includes:
		(anAccount
			cover: (51 to: 59)
			declaredAt: (19 to: 27)) ] valueCoveringAll:
		{41 to: 49}.! !

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
accountsIsEmpty
	^ [
	(accounts
		cover: (21 to: 28)
		declaredAt: (21 to: 28)) isEmpty ] valueCoveringAll:
		{30 to: 36}.! !

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
value
	^ value
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
for: aReceptiveAccount
	^ [
	([
	(self coverAll:
		{27 to: 30}) new ] valueCoveringAll:
		{32 to: 34}) initializeFor:
		(aReceptiveAccount
			cover: (51 to: 67)
			declaredAt: (6 to: 22)) ] valueCoveringAll:
		{36 to: 49}.! !
!Behavior method!
initializeFor: aReceptiveAccount
	(account _ aReceptiveAccount
		cover: (46 to: 62)
		declaredAt: (16 to: 32))
		cover: (35 to: 41)
		declaredAt: (35 to: 41).! !
!Behavior method!
report
	| aBalance |
	(accountSummaryLines _ [
	(OrderedCollection
		cover: (47 to: 63)
		declaredAt: (47 to: 63)) new ] valueCoveringAll:
		{65 to: 67})
		cover: (24 to: 42)
		declaredAt: (24 to: 42).
	[
	(account
		cover: (73 to: 79)
		declaredAt: (73 to: 79)) sendTransactionsForReport:
		(self coverAll:
			{108 to: 111}) ] valueCoveringAll:
		{81 to: 106}.
	(aBalance _ [
	(account
		cover: (129 to: 135)
		declaredAt: (73 to: 79)) balance ] valueCoveringAll:
		{137 to: 143})
		cover: (117 to: 124)
		declaredAt: (11 to: 18).
	[
	(accountSummaryLines
		cover: (149 to: 167)
		declaredAt: (24 to: 42)) add:
		([
		('Balance = ' coverAll:
			{174 to: 185}) ,
			([
			(aBalance
				cover: (188 to: 195)
				declaredAt: (11 to: 18)) asString ] valueCoveringAll:
				{197 to: 204}) ] valueCoveringAll:
			{186 to: 186}) ] valueCoveringAll:
		{169 to: 172}.
	^ accountSummaryLines
		cover: (211 to: 229)
		declaredAt: (24 to: 42).! !
!Behavior method!
sendTransactionsForReport: aReport
	[
	([
	(self coverAll:
		{38 to: 41}) transactions ] valueCoveringAll:
		{43 to: 54}) do: [ :aTransaction |
		[
		(aTransaction
			cover: (79 to: 90)
			declaredAt: (62 to: 73)) reportFor:
			(aReport
				cover: (103 to: 109)
				declaredAt: (28 to: 34)) ] valueCoveringAll:
			{92 to: 101} ]] valueCoveringAll:
		{56 to: 58}.! !

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
reportFor: aReport
	[
	(aReport
		cover: (22 to: 28)
		declaredAt: (12 to: 18)) reportADepositWithValue:
		(value
			cover: (55 to: 59)
			declaredAt: (55 to: 59)) ] valueCoveringAll:
		{30 to: 53}.! !
!Behavior method!
reportADepositWithValue: aValue
	[
	(accountSummaryLines
		cover: (35 to: 53)
		declaredAt: (35 to: 53)) add:
		([
		('Depósito por ' coverAll:
			{60 to: 74}) ,
			([
			(aValue
				cover: (77 to: 82)
				declaredAt: (26 to: 31)) asString ] valueCoveringAll:
				{84 to: 91}) ] valueCoveringAll:
			{75 to: 75}) ] valueCoveringAll:
		{55 to: 58}.! !

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
reportFor: aReport
	[
	(aReport
		cover: (22 to: 28)
		declaredAt: (12 to: 18)) reportAWithdrawWithValue:
		(value
			cover: (56 to: 60)
			declaredAt: (56 to: 60)) ] valueCoveringAll:
		{30 to: 54}.! !
!Behavior method!
reportAWithdrawWithValue: aValue
	[
	(accountSummaryLines
		cover: (36 to: 54)
		declaredAt: (36 to: 54)) add:
		([
		('Extracción por ' coverAll:
			{61 to: 77}) ,
			([
			(aValue
				cover: (80 to: 85)
				declaredAt: (27 to: 32)) asString ] valueCoveringAll:
				{87 to: 94}) ] valueCoveringAll:
			{78 to: 78}) ] valueCoveringAll:
		{56 to: 59}.! !

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:49:36'!
PASSED!
!Behavior method!
register: anAmount from: aReceptiveAccount to: aReceptiveAccount2
	[
	([
	(anAmount
		cover: (69 to: 76)
		declaredAt: (11 to: 18)) <=
		(0 coverAll:
			{80 to: 80}) ] valueCoveringAll:
		{78 to: 79}) ifTrue: [
		[
		(self coverAll:
			{90 to: 93}) error:
			([
			(self coverAll:
				{102 to: 105}) errorInvalidTransferenceValue ] valueCoveringAll:
				{107 to: 135}) ] valueCoveringAll:
			{95 to: 100} ]] valueCoveringAll:
		{82 to: 88}.
	[
	([
	(aReceptiveAccount
		cover: (141 to: 157)
		declaredAt: (26 to: 42)) =
		(aReceptiveAccount2
			cover: (161 to: 178)
			declaredAt: (48 to: 65)) ] valueCoveringAll:
		{159 to: 159}) ifTrue: [
		[
		(self coverAll:
			{188 to: 191}) error:
			([
			(self coverAll:
				{200 to: 203}) errorSameAccountTransference ] valueCoveringAll:
				{205 to: 232}) ] valueCoveringAll:
			{193 to: 198} ]] valueCoveringAll:
		{180 to: 186}.
	^ [
	([
	(self coverAll:
		{238 to: 241}) new ] valueCoveringAll:
		{243 to: 245})
		initializeRegister:
			(anAmount
				cover: (266 to: 273)
				declaredAt: (11 to: 18))
		from:
			(aReceptiveAccount
				cover: (281 to: 297)
				declaredAt: (26 to: 42))
		to:
			(aReceptiveAccount2
				cover: (303 to: 320)
				declaredAt: (48 to: 65)) ] valueCoveringAll:
		{247 to: 265. 275 to: 279. 299 to: 301}.! !
!Behavior method!
initializeRegister: anAmount from: aReceptiveAccount to: aReceptiveAccount2
	(withdraw _ [
	(WithdrawTransference
		cover: (93 to: 112)
		declaredAt: (93 to: 112))
		registerOn:
			(aReceptiveAccount
				cover: (126 to: 142)
				declaredAt: (36 to: 52))
		for:
			(self coverAll:
				{149 to: 152}) ] valueCoveringAll:
		{114 to: 124. 144 to: 147})
		cover: (81 to: 88)
		declaredAt: (81 to: 88).
	(deposit _ [
	(DepositTransference
		cover: (167 to: 185)
		declaredAt: (167 to: 185))
		registerOn:
			(aReceptiveAccount2
				cover: (199 to: 216)
				declaredAt: (58 to: 75))
		for:
			(self coverAll:
				{223 to: 226}) ] valueCoveringAll:
		{187 to: 197. 218 to: 221})
		cover: (156 to: 162)
		declaredAt: (156 to: 162).
	(value _ anAmount
		cover: (239 to: 246)
		declaredAt: (21 to: 28))
		cover: (230 to: 234)
		declaredAt: (230 to: 234).! !
!Behavior method!
registerOn: aReceptiveAccount for: aTransference
	| transaction |
	(transaction _ [
	([
	(self coverAll:
		{86 to: 89}) new ] valueCoveringAll:
		{91 to: 93}) initializeFor:
		(aTransference
			cover: (110 to: 122)
			declaredAt: (36 to: 48)) ] valueCoveringAll:
		{95 to: 108})
		cover: (71 to: 81)
		declaredAt: (54 to: 64).
	[
	(aReceptiveAccount
		cover: (126 to: 142)
		declaredAt: (13 to: 29)) register:
		(transaction
			cover: (154 to: 164)
			declaredAt: (54 to: 64)) ] valueCoveringAll:
		{144 to: 152}.
	^ transaction
		cover: (173 to: 183)
		declaredAt: (54 to: 64).! !
!Behavior method!
initializeFor: aTransference
	(parent _ aTransference
		cover: (41 to: 53)
		declaredAt: (16 to: 28))
		cover: (31 to: 36)
		declaredAt: (31 to: 36).! !
!Behavior method!
reportFor: aReport
	[
	(aReport
		cover: (22 to: 28)
		declaredAt: (12 to: 18)) reportAWithdrawTransferenceWithValue:
		([
		(parent
			cover: (68 to: 73)
			declaredAt: (68 to: 73)) value ] valueCoveringAll:
			{75 to: 79}) ] valueCoveringAll:
		{30 to: 66}.! !
!Behavior method!
value
	^ value
		cover: (9 to: 13)
		declaredAt: (9 to: 13).! !
!Behavior method!
reportAWithdrawTransferenceWithValue: aValue
	[
	(accountSummaryLines
		cover: (48 to: 66)
		declaredAt: (48 to: 66)) add:
		([
		('Salida por transferencia de ' coverAll:
			{73 to: 102}) ,
			([
			(aValue
				cover: (105 to: 110)
				declaredAt: (39 to: 44)) asString ] valueCoveringAll:
				{112 to: 119}) ] valueCoveringAll:
			{103 to: 103}) ] valueCoveringAll:
		{68 to: 71}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) -
		([
		(parent
			cover: (40 to: 45)
			declaredAt: (40 to: 45)) value ] valueCoveringAll:
			{47 to: 51}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
reportFor: aReport
	[
	(aReport
		cover: (22 to: 28)
		declaredAt: (12 to: 18)) reportADepositTransferenceWithValue:
		([
		(parent
			cover: (67 to: 72)
			declaredAt: (67 to: 72)) value ] valueCoveringAll:
			{74 to: 78}) ] valueCoveringAll:
		{30 to: 65}.! !
!Behavior method!
reportADepositTransferenceWithValue: aValue
	[
	(accountSummaryLines
		cover: (47 to: 65)
		declaredAt: (47 to: 65)) add:
		([
		('Entrada por transferencia de ' coverAll:
			{72 to: 102}) ,
			([
			(aValue
				cover: (105 to: 110)
				declaredAt: (38 to: 43)) asString ] valueCoveringAll:
				{112 to: 119}) ] valueCoveringAll:
			{103 to: 103}) ] valueCoveringAll:
		{67 to: 70}.! !
!Behavior method!
affectBalance: aBalance
	^ [
	(aBalance
		cover: (28 to: 35)
		declaredAt: (16 to: 23)) +
		([
		(parent
			cover: (40 to: 45)
			declaredAt: (40 to: 45)) value ] valueCoveringAll:
			{47 to: 51}) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!
!Behavior method!
report
	(transferNetValue _ 0 coverAll:
		{30 to: 30})
		cover: (10 to: 25)
		declaredAt: (10 to: 25).
	[
	(account
		cover: (36 to: 42)
		declaredAt: (36 to: 42)) sendTransactionsForReport:
		(self coverAll:
			{71 to: 74}) ] valueCoveringAll:
		{44 to: 69}.
	^ transferNetValue
		cover: (81 to: 96)
		declaredAt: (10 to: 25).! !

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!
!Behavior method!
reportAWithdrawTransferenceWithValue: aValue
	(transferNetValue _ [
	(transferNetValue
		cover: (49 to: 64)
		declaredAt: (49 to: 64)) -
		(aValue
			cover: (88 to: 93)
			declaredAt: (39 to: 44)) ] valueCoveringAll:
		{86 to: 86})
		cover: (69 to: 84)
		declaredAt: (49 to: 64).! !
!Behavior method!
reportADepositTransferenceWithValue: aValue
	(transferNetValue _ [
	(transferNetValue
		cover: (48 to: 63)
		declaredAt: (48 to: 63)) +
		(aValue
			cover: (87 to: 92)
			declaredAt: (38 to: 43)) ] valueCoveringAll:
		{85 to: 85})
		cover: (68 to: 83)
		declaredAt: (48 to: 63).! !

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!
!Behavior method!
reportADepositWithValue: aValue
	^ self.! !
!Behavior method!
reportAWithdrawWithValue: aValue
	^ self.! !

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!
!Behavior method!
named: aName
	^ [
	([
	(self coverAll:
		{16 to: 19}) new ] valueCoveringAll:
		{21 to: 23}) initializeNamed:
		(aName
			cover: (42 to: 46)
			declaredAt: (8 to: 12)) ] valueCoveringAll:
		{25 to: 40}.! !
!Behavior method!
initializeNamed: aName
	(name _ aName
		cover: (36 to: 40)
		declaredAt: (18 to: 22))
		cover: (28 to: 31)
		declaredAt: (28 to: 31).
	[
	(self coverAll:
		{44 to: 47}) initialize ] valueCoveringAll:
		{49 to: 58}.! !
!Behavior method!
initializeFor: anAccount
	(account _ anAccount
		cover: (41 to: 49)
		declaredAt: (16 to: 24))
		cover: (30 to: 36)
		declaredAt: (30 to: 36).
	(level _ 0 coverAll:
		{62 to: 62})
		cover: (53 to: 57)
		declaredAt: (53 to: 57).! !
!Behavior method!
report
	(treeSummary _ [
	(OrderedCollection
		cover: (25 to: 41)
		declaredAt: (25 to: 41)) new ] valueCoveringAll:
		{43 to: 45})
		cover: (10 to: 20)
		declaredAt: (10 to: 20).
	[
	(account
		cover: (51 to: 57)
		declaredAt: (51 to: 57)) registerAccountForPortfolioReport:
		(self coverAll:
			{94 to: 97}) ] valueCoveringAll:
		{59 to: 92}.
	^ treeSummary
		cover: (104 to: 114)
		declaredAt: (10 to: 20).! !
!Behavior method!
registerAccountForPortfolioReport: aReport
	[
	(aReport
		cover: (48 to: 54)
		declaredAt: (36 to: 42)) registerPortfolio:
		(self coverAll:
			{75 to: 78}) ] valueCoveringAll:
		{56 to: 73}.! !
!Behavior method!
registerPortfolio: aPortfolio
	[
	(aPortfolio
		cover: (33 to: 42)
		declaredAt: (20 to: 29)) registerNameInReport:
		(self coverAll:
			{66 to: 69}) ] valueCoveringAll:
		{44 to: 64}.
	[
	(aPortfolio
		cover: (73 to: 82)
		declaredAt: (20 to: 29)) registerChildrenInReport:
		(self coverAll:
			{110 to: 113}) ] valueCoveringAll:
		{84 to: 108}.! !
!Behavior method!
registerNameInReport: aReport
	self.
	[
	(aReport
		cover: (33 to: 39)
		declaredAt: (23 to: 29)) registerAccountName:
		(name
			cover: (62 to: 65)
			declaredAt: (62 to: 65)) ] valueCoveringAll:
		{41 to: 60}.! !
!Behavior method!
registerAccountName: aName
	| tabulatedName |
	(tabulatedName _ [
	(self coverAll:
		{67 to: 70}) tabulateWithLevel:
		(aName
			cover: (91 to: 95)
			declaredAt: (22 to: 26)) ] valueCoveringAll:
		{72 to: 89})
		cover: (50 to: 62)
		declaredAt: (32 to: 44).
	[
	(treeSummary
		cover: (101 to: 111)
		declaredAt: (101 to: 111)) add:
		(tabulatedName
			cover: (118 to: 130)
			declaredAt: (32 to: 44)) ] valueCoveringAll:
		{113 to: 116}.! !
!Behavior method!
tabulateWithLevel: aLine
	| tabulatedName |
	(tabulatedName _ '' coverAll:
		{64 to: 65})
		cover: (47 to: 59)
		declaredAt: (30 to: 42).
	[
	(level
		cover: (71 to: 75)
		declaredAt: (71 to: 75)) timesRepeat: [
		(tabulatedName _ [
		(tabulatedName
			cover: (91 to: 103)
			declaredAt: (30 to: 42)) ,
			('	' coverAll:
				{122 to: 124}) ] valueCoveringAll:
			{121 to: 121})
			cover: (108 to: 120)
			declaredAt: (30 to: 42) ]] valueCoveringAll:
		{77 to: 88}.
	(tabulatedName _ [
	(tabulatedName
		cover: (129 to: 141)
		declaredAt: (30 to: 42)) ,
		(aLine
			cover: (161 to: 165)
			declaredAt: (20 to: 24)) ] valueCoveringAll:
		{159 to: 159})
		cover: (146 to: 158)
		declaredAt: (30 to: 42).
	^ tabulatedName
		cover: (170 to: 182)
		declaredAt: (30 to: 42).! !
!Behavior method!
registerChildrenInReport: aReport
	self.
	[
	(aReport
		cover: (38 to: 44)
		declaredAt: (27 to: 33)) registerPortfolioChildren:
		(accounts
			cover: (73 to: 80)
			declaredAt: (73 to: 80)) ] valueCoveringAll:
		{46 to: 71}.! !
!Behavior method!
registerPortfolioChildren: anAccountList
	[
	(self coverAll:
		{47 to: 50}) withIncreasedLevel: [
		[
		(anAccountList
			cover: (77 to: 89)
			declaredAt: (28 to: 40)) do: [ :anAccount |
			[
			(anAccount
				cover: (112 to: 120)
				declaredAt: (97 to: 105)) registerAccountForPortfolioReport:
				(self coverAll:
					{157 to: 160}) ] valueCoveringAll:
				{122 to: 155} ]] valueCoveringAll:
			{91 to: 93} ]] valueCoveringAll:
		{52 to: 70}.! !
!Behavior method!
withIncreasedLevel: aBlock
	(level _ [
	(level
		cover: (33 to: 37)
		declaredAt: (33 to: 37)) +
		(1 coverAll:
			{48 to: 48}) ] valueCoveringAll:
		{47 to: 47})
		cover: (42 to: 46)
		declaredAt: (33 to: 37).
	[
	(aBlock
		cover: (53 to: 58)
		declaredAt: (21 to: 26)) value ] valueCoveringAll:
		{60 to: 64}.
	(level _ [
	(level
		cover: (69 to: 73)
		declaredAt: (33 to: 37)) -
		(1 coverAll:
			{84 to: 84}) ] valueCoveringAll:
		{83 to: 83})
		cover: (78 to: 82)
		declaredAt: (33 to: 37).! !

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!
!Behavior method!
named: aName with: anAccount with: anAccount2
	^ [ | cascadeReceiver |
	cascadeReceiver _ [
	([
	([
	(self coverAll:
		{53 to: 56}) new ] valueCoveringAll:
		{58 to: 60}) initializeNamed:
		(aName
			cover: (79 to: 83)
			declaredAt: (8 to: 12)) ] valueCoveringAll:
		{62 to: 77}) add:
		(anAccount
			cover: (91 to: 99)
			declaredAt: (20 to: 28)) ] valueCoveringAll:
		{86 to: 89}.
	[ cascadeReceiver add: anAccount2 ] valueCoveringAll:
		{102 to: 116}.
	[ cascadeReceiver yourself ] valueCoveringAll:
		{119 to: 126} ] value.! !
!Behavior method!
registerAccountForPortfolioReport: aReport
	[
	(aReport
		cover: (48 to: 54)
		declaredAt: (36 to: 42)) registerReceptiveAccount:
		(self coverAll:
			{82 to: 85}) ] valueCoveringAll:
		{56 to: 80}.! !
!Behavior method!
registerReceptiveAccount: anAccount
	[
	(anAccount
		cover: (39 to: 47)
		declaredAt: (27 to: 35)) registerNameInReport:
		(self coverAll:
			{71 to: 74}) ] valueCoveringAll:
		{49 to: 69}.! !

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!
!Behavior method!
registerPortfolio: aPortfolio
	[
	(aPortfolio
		cover: (33 to: 42)
		declaredAt: (20 to: 29)) registerNameInReport:
		(self coverAll:
			{66 to: 69}) ] valueCoveringAll:
		{44 to: 64}.
	[
	(aPortfolio
		cover: (73 to: 82)
		declaredAt: (20 to: 29)) registerChildrenInReport:
		(self coverAll:
			{110 to: 113}) ] valueCoveringAll:
		{84 to: 108}.
	[
	(aPortfolio
		cover: (117 to: 126)
		declaredAt: (20 to: 29)) registerBalanceInReport:
		(self coverAll:
			{153 to: 156}) ] valueCoveringAll:
		{128 to: 151}.! !
!Behavior method!
registerBalanceInReport: aReport
	self coverAll:
		{61 to: 64}.
	[
	(aReport
		cover: (36 to: 42)
		declaredAt: (26 to: 32)) registerBalance:
		([ self balance ] valueCoveringAll:
			{66 to: 72}) ] valueCoveringAll:
		{44 to: 59}.! !
!Behavior method!
registerBalance: aBalance
	| aTabulatedBalanceValueLine |
	[
	(self coverAll:
		{64 to: 67}) withIncreasedLevel: [
		(aTabulatedBalanceValueLine _ [
		(self coverAll:
			{123 to: 126}) tabulateWithLevel:
			([
			('Balance = ' coverAll:
				{148 to: 159}) ,
				([
				(aBalance
					cover: (162 to: 169)
					declaredAt: (18 to: 25)) asString ] valueCoveringAll:
					{171 to: 178}) ] valueCoveringAll:
				{160 to: 160}) ] valueCoveringAll:
			{128 to: 145})
			cover: (93 to: 118)
			declaredAt: (32 to: 57).
		[
		(treeSummary
			cover: (184 to: 194)
			declaredAt: (184 to: 194)) add:
			(aTabulatedBalanceValueLine
				cover: (201 to: 226)
				declaredAt: (32 to: 57)) ] valueCoveringAll:
			{196 to: 199} ]] valueCoveringAll:
		{69 to: 87}.! !

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!
!Behavior method!
registerReceptiveAccount: anAccount
	[
	(anAccount
		cover: (39 to: 47)
		declaredAt: (27 to: 35)) registerNameInReport:
		(self coverAll:
			{71 to: 74}) ] valueCoveringAll:
		{49 to: 69}.
	[
	(anAccount
		cover: (78 to: 86)
		declaredAt: (27 to: 35)) registerAccountSummaryInReport:
		(self coverAll:
			{120 to: 123}) ] valueCoveringAll:
		{88 to: 118}.! !
!Behavior method!
registerAccountSummaryInReport: aReport
	[
	(aReport
		cover: (45 to: 51)
		declaredAt: (33 to: 39)) registerAccountSummaryFor:
		(self coverAll:
			{80 to: 83}) ] valueCoveringAll:
		{53 to: 78}.! !
!Behavior method!
registerAccountSummaryFor: anAccount
	| anAccountSummaryReport |
	[
	(self coverAll:
		{69 to: 72}) withIncreasedLevel: [
		(anAccountSummaryReport _ [
		([
		(AccountSummary
			cover: (125 to: 138)
			declaredAt: (125 to: 138)) for:
			(anAccount
				cover: (145 to: 153)
				declaredAt: (28 to: 36)) ] valueCoveringAll:
			{140 to: 143}) report ] valueCoveringAll:
			{156 to: 161})
			cover: (98 to: 119)
			declaredAt: (42 to: 63).
		[
		(anAccountSummaryReport
			cover: (168 to: 189)
			declaredAt: (42 to: 63)) do: [ :aLine |
			[
			(treeSummary
				cover: (212 to: 222)
				declaredAt: (212 to: 222)) add:
				([
				(self coverAll:
					{230 to: 233}) tabulateWithLevel:
					(aLine
						cover: (254 to: 258)
						declaredAt: (201 to: 205)) ] valueCoveringAll:
					{235 to: 252}) ] valueCoveringAll:
				{224 to: 227} ]] valueCoveringAll:
			{191 to: 193} ]] valueCoveringAll:
		{74 to: 92}.! !

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!

!testRun: #TransferenceTest #test01TransferenceModifyBalanceCorrectly stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!
!Behavior method!
withdraw
	^ withdraw
		cover: (12 to: 19)
		declaredAt: (12 to: 19).! !
!Behavior method!
deposit
	^ deposit
		cover: (11 to: 17)
		declaredAt: (11 to: 17).! !

!testRun: #TransferenceTest #test02TransferenceRegisterCorrectLegInAccounts stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!
!Behavior method!
parentTransference
	^ parent
		cover: (22 to: 27)
		declaredAt: (22 to: 27).! !

!testRun: #TransferenceTest #test03TransferenceLegCanReachTheirTransference stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!
!Behavior method!
errorInvalidTransferenceValue
	^ 'ERROR No se permiten transferencias con valor negativo o nulo.' coverAll:
		{33 to: 96}.! !

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegativeOrZero stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!
!Behavior method!
errorSameAccountTransference
	^ 'ERROR No se permiten transferencias entre la misma cuenta' coverAll:
		{32 to: 90}.! !

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/3/2021 16:49:37'!
PASSED!

----SNAPSHOT----(3 June 2021 16:50:17) CuisUniversity-4532.image priorSource: 17353255!

----QUIT----(3 June 2021 16:50:32) CuisUniversity-4532.image priorSource: 17441903!

----STARTUP---- (3 June 2021 16:50:52) as C:\Users\recal\Desktop\windows64\CuisUniversity-4532.image!


!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:51:11'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:51:11'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:51:11'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:51:11'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:51:11'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:51:11'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:51:11'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:51:11'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:51:11'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:51:11'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:51:11'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:51:11'!
PASSED!

!testRun: #TransferenceTest #test01TransferenceModifyBalanceCorrectly stamp: 'JRC 6/3/2021 16:51:15'!
PASSED!

!testRun: #TransferenceTest #test02TransferenceRegisterCorrectLegInAccounts stamp: 'JRC 6/3/2021 16:51:15'!
PASSED!

!testRun: #TransferenceTest #test03TransferenceLegCanReachTheirTransference stamp: 'JRC 6/3/2021 16:51:15'!
PASSED!

!testRun: #TransferenceTest #test04TransferenceCanNotBeNegativeOrZero stamp: 'JRC 6/3/2021 16:51:15'!
PASSED!

!testRun: #TransferenceTest #test05TransferenceFromAndToCanNotBeTheSameAccount stamp: 'JRC 6/3/2021 16:51:15'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryForAnAccountWithOutTransactionsShowsCorrectly stamp: 'JRC 6/3/2021 16:51:26'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryForAnAccountWithADepositShowsCorrectly stamp: 'JRC 6/3/2021 16:51:26'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryForAnAccountWithAWithdrawShowsCorrectly stamp: 'JRC 6/3/2021 16:51:26'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly stamp: 'JRC 6/3/2021 16:51:26'!
PASSED!

!testRun: #ReportTest #test05TransferNetForAnAccountWithOutTransactionsIsZero stamp: 'JRC 6/3/2021 16:51:26'!
PASSED!

!testRun: #ReportTest #test06TransferNetForAnAccountWithAtransferenceCalculatesCorrectly stamp: 'JRC 6/3/2021 16:51:26'!
PASSED!

!testRun: #ReportTest #test07AccountSummaryWorksWithPortfolio stamp: 'JRC 6/3/2021 16:51:26'!
PASSED!

!testRun: #ReportTest #test08TransferNetWorksWithPortfolio stamp: 'JRC 6/3/2021 16:51:26'!
PASSED!

!testRun: #ReportTest #test09TreeReportShowsOnAnEmptyPortfolioOnlyShowsName stamp: 'JRC 6/3/2021 16:51:26'!
PASSED!

!testRun: #ReportTest #test10TreeReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:51:26'!
PASSED!

!testRun: #ReportTest #test11TreeSummaryReportShowsOnAnEmptyPortfolioOnlyShowsNameAndBalanceZero stamp: 'JRC 6/3/2021 16:51:26'!
PASSED!

!testRun: #ReportTest #test12TreeSummaryReportForPopulatedPorfolioShowsCorrectly stamp: 'JRC 6/3/2021 16:51:26'!
PASSED!
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:52:01' prior: 50874969!
test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly

	| anAccountSummaryReport result |
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.

	self testAccountSummaryFor: anAccount WithTransactions: [Transference register: 100 from: anAccount to: anAccount2.] expecting: result.

	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	self assert: result equals: anAccountSummaryReport.
	
	self testAccountSummaryFor: anAccount2 WithTransactions: [] expecting: result.! !
!ReportTest methodsFor: 'tests' stamp: 'JRC 6/3/2021 16:52:06' prior: 50876828!
test04AccountSummaryForAnAccountWithATransferenceShowsCorrectly

	| result |
	
	result := OrderedCollection new.
	result add: 'Salida por transferencia de 100'.
	result add: 'Balance = -100'.

	self testAccountSummaryFor: anAccount WithTransactions: [Transference register: 100 from: anAccount to: anAccount2.] expecting: result.

	
	result := OrderedCollection new.
	result add: 'Entrada por transferencia de 100'.
	result add: 'Balance = 100'.
	
	self testAccountSummaryFor: anAccount2 WithTransactions: [] expecting: result.! !

----QUIT----(3 June 2021 16:52:29) CuisUniversity-4532.image priorSource: 17441992!